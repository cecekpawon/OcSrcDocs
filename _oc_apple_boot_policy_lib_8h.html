<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Include/Acidanthera/Library/OcAppleBootPolicyLib.h File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_oc_apple_boot_policy_lib_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">OcAppleBootPolicyLib.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="_apple_boot_policy_8h_source.html">Protocol/AppleBootPolicy.h</a>&gt;</code><br />
</div>
<p><a href="_oc_apple_boot_policy_lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1981c4ba3baf4d08187d41743499d5ca" id="r_a1981c4ba3baf4d08187d41743499d5ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1981c4ba3baf4d08187d41743499d5ca">OcAppleBootPolicyInstallProtocol</a> (IN BOOLEAN Reinstall)</td></tr>
<tr class="separator:a1981c4ba3baf4d08187d41743499d5ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b24b29440933495cc043b56cd42cb1d" id="r_a6b24b29440933495cc043b56cd42cb1d"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b24b29440933495cc043b56cd42cb1d">OcGetBooterFromPredefinedPathList</a> (IN EFI_HANDLE Device, IN EFI_FILE_PROTOCOL *Root, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath OPTIONAL, IN CHAR16 *Prefix OPTIONAL)</td></tr>
<tr class="separator:a6b24b29440933495cc043b56cd42cb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23b84b759beb83d6b281105343a199c" id="r_ae23b84b759beb83d6b281105343a199c"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae23b84b759beb83d6b281105343a199c">OcBootPolicyGetBootFile</a> (IN EFI_HANDLE Device, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, IN OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:ae23b84b759beb83d6b281105343a199c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6fbe1d4317467583e77784dc3c700e" id="r_a7d6fbe1d4317467583e77784dc3c700e"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d6fbe1d4317467583e77784dc3c700e">OcBootPolicyGetBootFileEx</a> (IN EFI_HANDLE Device, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a7d6fbe1d4317467583e77784dc3c700e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0b1b9b62f43913f5eb4842a4a928a3" id="r_a8b0b1b9b62f43913f5eb4842a4a928a3"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b0b1b9b62f43913f5eb4842a4a928a3">OcBootPolicyDevicePathToDirPath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName, OUT EFI_SIMPLE_FILE_SYSTEM_PROTOCOL **FileSystem)</td></tr>
<tr class="separator:a8b0b1b9b62f43913f5eb4842a4a928a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485ea71c0663b2aaddec75b5430f22f9" id="r_a485ea71c0663b2aaddec75b5430f22f9"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a485ea71c0663b2aaddec75b5430f22f9">OcBootPolicyDevicePathToFilePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName)</td></tr>
<tr class="separator:a485ea71c0663b2aaddec75b5430f22f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd16e970775b5713bef712cd21138b11" id="r_abd16e970775b5713bef712cd21138b11"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd16e970775b5713bef712cd21138b11">OcBootPolicyGetApfsRecoveryFilePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN CONST CHAR16 *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a04e139e42a71112ed608b9a89c8b146f">PathName</a>, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT CHAR16 **FullPathName, OUT EFI_FILE_PROTOCOL **Root, OUT EFI_HANDLE *DeviceHandle)</td></tr>
<tr class="separator:abd16e970775b5713bef712cd21138b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062b363e7446774c21cfaebb835fca41" id="r_a062b363e7446774c21cfaebb835fca41"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a062b363e7446774c21cfaebb835fca41">OcBootPolicyGetAllApfsRecoveryFilePath</a> (IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a> OPTIONAL, OUT VOID **Volumes, OUT UINTN *NumberOfEntries)</td></tr>
<tr class="separator:a062b363e7446774c21cfaebb835fca41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1cb5c69807acfef6549fa6c3fe0766e0" id="r_a1cb5c69807acfef6549fa6c3fe0766e0"><td class="memItemLeft" align="right" valign="top">CONST CHAR16 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cb5c69807acfef6549fa6c3fe0766e0">gAppleBootPolicyPredefinedPaths</a> []</td></tr>
<tr class="separator:a1cb5c69807acfef6549fa6c3fe0766e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a04e8c48df3cff7cfe9aa64d74262c3" id="r_a5a04e8c48df3cff7cfe9aa64d74262c3"><td class="memItemLeft" align="right" valign="top">CONST UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a04e8c48df3cff7cfe9aa64d74262c3">gAppleBootPolicyNumPredefinedPaths</a></td></tr>
<tr class="separator:a5a04e8c48df3cff7cfe9aa64d74262c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbefeb7e5e4feb30d69dfb32fa2653ff" id="r_afbefeb7e5e4feb30d69dfb32fa2653ff"><td class="memItemLeft" align="right" valign="top">CONST UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbefeb7e5e4feb30d69dfb32fa2653ff">gAppleBootPolicyCoreNumPredefinedPaths</a></td></tr>
<tr class="separator:afbefeb7e5e4feb30d69dfb32fa2653ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2019, vit9696. All rights reserved.</p>
<p>All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_oc_apple_boot_policy_lib_8h_source.html">OcAppleBootPolicyLib.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1981c4ba3baf4d08187d41743499d5ca" name="a1981c4ba3baf4d08187d41743499d5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1981c4ba3baf4d08187d41743499d5ca">&#9670;&#160;</a></span>OcAppleBootPolicyInstallProtocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a> * OcAppleBootPolicyInstallProtocol </td>
          <td>(</td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>Reinstall</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install and initialise Apple Boot policy protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Reinstall</td><td>Overwrite installed protocol.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">installed</td><td>or located protocol or NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01716">1716</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a8b0b1b9b62f43913f5eb4842a4a928a3" name="a8b0b1b9b62f43913f5eb4842a4a928a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0b1b9b62f43913f5eb4842a4a928a3">&#9670;&#160;</a></span>OcBootPolicyDevicePathToDirPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyDevicePathToDirPath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_SIMPLE_FILE_SYSTEM_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FileSystem</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves folder and file system associated with DevicePath.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>The device path to describe. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">BootPathName</td><td>A pointer into which the folder portion of DevicePath is returned. When EFI_SUCCESS is returned, caller is responsible for freeing this pool memory. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FileSystem</td><td>A pointer into which the simple file system for the folder is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation has been completed successfully. </td></tr>
    <tr><td class="paramname">other</td><td>DevicePath is not a valid file path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01088">1088</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a485ea71c0663b2aaddec75b5430f22f9" name="a485ea71c0663b2aaddec75b5430f22f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485ea71c0663b2aaddec75b5430f22f9">&#9670;&#160;</a></span>OcBootPolicyDevicePathToFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyDevicePathToFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves file path associated with DevicePath.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>The device path to describe. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">BootPathName</td><td>A pointer into which the file path for DevicePath is returned. When EFI_SUCCESS is returned, caller is responsible for freeing this pool memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation has been completed successfully. </td></tr>
    <tr><td class="paramname">other</td><td>DevicePath is not a valid file path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01127">1127</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a062b363e7446774c21cfaebb835fca41" name="a062b363e7446774c21cfaebb835fca41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a062b363e7446774c21cfaebb835fca41">&#9670;&#160;</a></span>OcBootPolicyGetAllApfsRecoveryFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetAllApfsRecoveryFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a></td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>Volumes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>NumberOfEntries</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01471">1471</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="abd16e970775b5713bef712cd21138b11" name="abd16e970775b5713bef712cd21138b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd16e970775b5713bef712cd21138b11">&#9670;&#160;</a></span>OcBootPolicyGetApfsRecoveryFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetApfsRecoveryFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>PathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>FullPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_FILE_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>DeviceHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves path info for the APFS Recovery volume associated with the APFS volume given by DevicePath.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>The device path to the APFS recovery volume. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PathName</td><td>The file path to open. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PredefinedPaths</td><td>An array of file paths to scan for if no file was blessed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumPredefinedPaths</td><td>The number of paths in PredefinedPaths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FullPathName</td><td>A pointer into which the full file path for DevicePath and PathName is returned. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Root</td><td>A pointer into which the opened Recovery volume root protocol is returned. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">DeviceHandle</td><td>A pointer into which the device handle of DevicePath is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation has been completed successfully. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The file path could not be found. </td></tr>
    <tr><td class="paramname">other</td><td>An unexpected error has occured. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01227">1227</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="ae23b84b759beb83d6b281105343a199c" name="ae23b84b759beb83d6b281105343a199c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23b84b759beb83d6b281105343a199c">&#9670;&#160;</a></span>OcBootPolicyGetBootFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetBootFile </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locates the bootable file of the given volume. Prefered are the values blessed, though if unavailable, hard-coded names are being verified and used if existing.</p>
<p>The blessed paths are to be determined by the HFS Driver via EFI_FILE_PROTOCOL.GetInfo(). The related identifier definitions are to be found in <a class="el" href="_apple_bless_8h.html">AppleBless.h</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Device</td><td>The device's Handle to perform the search on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PredefinedPaths</td><td>An array of file paths to scan for if no file was blessed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumPredefinedPaths</td><td>The number of paths in PredefinedPaths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FilePath</td><td>A pointer to the device path pointer to set to the file path of the boot file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>A bootable file could not be found on the given volume. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>The memory necessary to complete the operation could not be allocated. </td></tr>
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation completed successfully and the BootFilePath Buffer has been filled. </td></tr>
    <tr><td class="paramname">other</td><td>The status of an operation used to complete this operation is returned. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00876">876</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a7d6fbe1d4317467583e77784dc3c700e" name="a7d6fbe1d4317467583e77784dc3c700e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d6fbe1d4317467583e77784dc3c700e">&#9670;&#160;</a></span>OcBootPolicyGetBootFileEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetBootFileEx </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Please refer to OcBootPolicyGetBootFile. This function extends the functionality by supporting the APFS Preboot scheme.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Device</td><td>The device's Handle to perform the search on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PredefinedPaths</td><td>An array of file paths to scan for if no file was blessed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumPredefinedPaths</td><td>The number of paths in PredefinedPaths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FilePath</td><td>A pointer to the device path pointer to set to the file path of the boot file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>A bootable file could not be found on the given volume. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>The memory necessary to complete the operation could not be allocated. </td></tr>
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation completed successfully and the BootFilePath Buffer has been filled. </td></tr>
    <tr><td class="paramname">other</td><td>The status of an operation used to complete this operation is returned. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00950">950</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a6b24b29440933495cc043b56cd42cb1d" name="a6b24b29440933495cc043b56cd42cb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b24b29440933495cc043b56cd42cb1d">&#9670;&#160;</a></span>OcGetBooterFromPredefinedPathList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcGetBooterFromPredefinedPathList </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *Prefix</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00364">364</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afbefeb7e5e4feb30d69dfb32fa2653ff" name="afbefeb7e5e4feb30d69dfb32fa2653ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbefeb7e5e4feb30d69dfb32fa2653ff">&#9670;&#160;</a></span>gAppleBootPolicyCoreNumPredefinedPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CONST UINTN gAppleBootPolicyCoreNumPredefinedPaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Core Apple Boot Policy predefined booter paths. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00083">83</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a5a04e8c48df3cff7cfe9aa64d74262c3" name="a5a04e8c48df3cff7cfe9aa64d74262c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a04e8c48df3cff7cfe9aa64d74262c3">&#9670;&#160;</a></span>gAppleBootPolicyNumPredefinedPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CONST UINTN gAppleBootPolicyNumPredefinedPaths</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>All Apple Boot Policy predefined booter paths. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00080">80</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a1cb5c69807acfef6549fa6c3fe0766e0" name="a1cb5c69807acfef6549fa6c3fe0766e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb5c69807acfef6549fa6c3fe0766e0">&#9670;&#160;</a></span>gAppleBootPolicyPredefinedPaths</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CONST CHAR16* gAppleBootPolicyPredefinedPaths[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An array of file paths to search for in case no file is blessed. On Apple Macs this list includes:</p><ol type="1">
<li>APPLE_BOOTER_DEFAULT_FILE_NAME &ndash; \System\Library\CoreServices\boot.efi</li>
<li>APPLE_REMOVABLE_MEDIA_FILE_NAME &ndash; \EFI\APPLE\X64\BOOT.EFI</li>
<li>EFI_REMOVABLE_MEDIA_FILE_NAME &ndash; \EFI\BOOT\BOOTX64.EFI</li>
<li>APPLE_BOOTER_ROOT_FILE_NAME &ndash; \boot.efi</li>
</ol>
<p>Since in real world only 1st and 3rd entries are used, we do not include 2nd and 4th until further notice. However, we do include a custom entry for Windows, for the reason OpenCore, unlike Apple EFI, may override BOOTx64.efi, and this is not the case for Apple EFI. So we end up with:</p><ol type="1">
<li>APPLE_BOOTER_DEFAULT_FILE_NAME &ndash; \System\Library\CoreServices\boot.efi</li>
<li>MS_BOOTER_DEFAULT_FILE_NAME &ndash; \EFI\Microsoft\Boot\bootmgfw.efi</li>
<li>EFI_REMOVABLE_MEDIA_FILE_NAME &ndash; \EFI\BOOT\BOOTX64.EFI</li>
</ol>
<p>This resolves a problem when Windows installer does not replace our BOOTx64.efi file with Windows file and then NVRAM reset or Boot Camp software reboot to macOS results in the removal of the Windows boot entry from NVRAM making Windows disappear from the list of OpenCore entries without BlessOverride.</p>
<p>Linux and related entries are not present here, because they have fine working software for boot management and do not use BOOTx64.efi in the first place. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00074">74</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_856524284ebe840938865dc061f982fb.html">Include</a></li><li class="navelem"><a class="el" href="dir_072ac3ce17e10eea8fb0df9111f63de0.html">Acidanthera</a></li><li class="navelem"><a class="el" href="dir_b21da603347aea670fe2577999e935f3.html">Library</a></li><li class="navelem"><a class="el" href="_oc_apple_boot_policy_lib_8h.html">OcAppleBootPolicyLib.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
