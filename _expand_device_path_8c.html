<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Library/OcDevicePathLib/ExpandDevicePath.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_expand_device_path_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ExpandDevicePath.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Uefi.h&gt;</code><br />
<code>#include &lt;IndustryStandard/Pci.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_device_path_8h_source.html">Guid/AppleDevicePath.h</a>&gt;</code><br />
<code>#include &lt;Guid/Gpt.h&gt;</code><br />
<code>#include &lt;Protocol/BlockIo.h&gt;</code><br />
<code>#include &lt;Protocol/LoadFile.h&gt;</code><br />
<code>#include &lt;Protocol/PciIo.h&gt;</code><br />
<code>#include &lt;Protocol/SimpleFileSystem.h&gt;</code><br />
<code>#include &lt;Protocol/UsbIo.h&gt;</code><br />
<code>#include &lt;Library/BaseLib.h&gt;</code><br />
<code>#include &lt;Library/BaseMemoryLib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_debug_log_lib_8h_source.html">Library/OcDebugLogLib.h</a>&gt;</code><br />
<code>#include &lt;Library/DevicePathLib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_device_path_lib_8h_source.html">Library/OcDevicePathLib.h</a>&gt;</code><br />
<code>#include &lt;Library/MemoryAllocationLib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_file_lib_8h_source.html">Library/OcFileLib.h</a>&gt;</code><br />
<code>#include &lt;Library/UefiBootServicesTableLib.h&gt;</code><br />
</div>
<p><a href="_expand_device_path_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:adde586a5aae4e8fb8609164fee111ab7" id="r_adde586a5aae4e8fb8609164fee111ab7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adde586a5aae4e8fb8609164fee111ab7">ACPI_VMD0001_HID</a>&#160;&#160;&#160;0x000159A4</td></tr>
<tr class="separator:adde586a5aae4e8fb8609164fee111ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140b13a5baf2f8c1c1229c591ec18ef0" id="r_a140b13a5baf2f8c1c1229c591ec18ef0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a140b13a5baf2f8c1c1229c591ec18ef0">ACPI_VBS0001_HID</a>&#160;&#160;&#160;0x00015853</td></tr>
<tr class="separator:a140b13a5baf2f8c1c1229c591ec18ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3a00c0ab42bae4d11412353420a4c8f9" id="r_a3a00c0ab42bae4d11412353420a4c8f9"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a00c0ab42bae4d11412353420a4c8f9">InternalConnectAll</a> (VOID)</td></tr>
<tr class="separator:a3a00c0ab42bae4d11412353420a4c8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab10931b704fd3adc0a3c92211d43fca" id="r_aab10931b704fd3adc0a3c92211d43fca"><td class="memItemLeft" align="right" valign="top">STATIC BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab10931b704fd3adc0a3c92211d43fca">BmMatchUsbClass</a> (IN EFI_USB_IO_PROTOCOL *UsbIo, IN USB_CLASS_DEVICE_PATH *UsbClass)</td></tr>
<tr class="separator:aab10931b704fd3adc0a3c92211d43fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad76d633f3efc9ec0965ecf5006456c5e" id="r_ad76d633f3efc9ec0965ecf5006456c5e"><td class="memItemLeft" align="right" valign="top">STATIC BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad76d633f3efc9ec0965ecf5006456c5e">BmMatchUsbWwid</a> (IN EFI_USB_IO_PROTOCOL *UsbIo, IN USB_WWID_DEVICE_PATH *UsbWwid)</td></tr>
<tr class="separator:ad76d633f3efc9ec0965ecf5006456c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96be737b81e45b848054c7c787f2b73" id="r_ab96be737b81e45b848054c7c787f2b73"><td class="memItemLeft" align="right" valign="top">STATIC EFI_HANDLE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab96be737b81e45b848054c7c787f2b73">BmFindUsbDevice</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN UINTN ParentDevicePathSize, OUT UINTN *UsbIoHandleCount)</td></tr>
<tr class="separator:ab96be737b81e45b848054c7c787f2b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438d9883c030f1bb6efa69bb6fed6371" id="r_a438d9883c030f1bb6efa69bb6fed6371"><td class="memItemLeft" align="right" valign="top">STATIC EFI_DEVICE_PATH_PROTOCOL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a438d9883c030f1bb6efa69bb6fed6371">BmExpandUsbDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>, IN EFI_DEVICE_PATH_PROTOCOL *FullPath, IN EFI_DEVICE_PATH_PROTOCOL *ShortformNode)</td></tr>
<tr class="separator:a438d9883c030f1bb6efa69bb6fed6371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e678663163eabfcdc45132d0c9681e" id="r_a86e678663163eabfcdc45132d0c9681e"><td class="memItemLeft" align="right" valign="top">STATIC EFI_DEVICE_PATH_PROTOCOL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86e678663163eabfcdc45132d0c9681e">BmExpandMediaDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN EFI_DEVICE_PATH_PROTOCOL *FullPath, IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a>)</td></tr>
<tr class="separator:a86e678663163eabfcdc45132d0c9681e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a835a70b6b5af33f5f9837e6c4c2ca2" id="r_a8a835a70b6b5af33f5f9837e6c4c2ca2"><td class="memItemLeft" align="right" valign="top">STATIC BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a835a70b6b5af33f5f9837e6c4c2ca2">BmMatchPartitionDevicePathNode</a> (IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a>, IN EFI_DEVICE_PATH_PROTOCOL *BlockIoDevicePath, IN HARDDRIVE_DEVICE_PATH *HardDriveDevicePath, IN BOOLEAN LocateEsp)</td></tr>
<tr class="separator:a8a835a70b6b5af33f5f9837e6c4c2ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d7e31a624ef1af32bf10e6728bbcbb" id="r_a91d7e31a624ef1af32bf10e6728bbcbb"><td class="memItemLeft" align="right" valign="top">STATIC EFI_DEVICE_PATH_PROTOCOL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91d7e31a624ef1af32bf10e6728bbcbb">BmExpandPartitionDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a91d7e31a624ef1af32bf10e6728bbcbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a370dc8f01deff4adad874f04c0edaebc" id="r_a370dc8f01deff4adad874f04c0edaebc"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a370dc8f01deff4adad874f04c0edaebc">BmConnectUsbShortFormDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath)</td></tr>
<tr class="separator:a370dc8f01deff4adad874f04c0edaebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d84dcef476dab72b1e619a6a93edf7" id="r_a82d84dcef476dab72b1e619a6a93edf7"><td class="memItemLeft" align="right" valign="top">STATIC EFI_DEVICE_PATH_PROTOCOL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82d84dcef476dab72b1e619a6a93edf7">BmExpandHyperVDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a82d84dcef476dab72b1e619a6a93edf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2aa03e2fc3e1a78d01d24b7a8acc672" id="r_af2aa03e2fc3e1a78d01d24b7a8acc672"><td class="memItemLeft" align="right" valign="top">STATIC EFI_DEVICE_PATH_PROTOCOL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2aa03e2fc3e1a78d01d24b7a8acc672">BmExpandAppleSDCardDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:af2aa03e2fc3e1a78d01d24b7a8acc672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1155eea7cb13aa4e5ac009e81bbd5016" id="r_a1155eea7cb13aa4e5ac009e81bbd5016"><td class="memItemLeft" align="right" valign="top">EFI_DEVICE_PATH_PROTOCOL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1155eea7cb13aa4e5ac009e81bbd5016">OcGetNextLoadOptionDevicePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>, IN EFI_DEVICE_PATH_PROTOCOL *FullPath)</td></tr>
<tr class="separator:a1155eea7cb13aa4e5ac009e81bbd5016"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0d50940facef95076e10227daa4f1673" id="r_a0d50940facef95076e10227daa4f1673"><td class="memItemLeft" align="right" valign="top">STATIC BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d50940facef95076e10227daa4f1673">mConnectAllExecuted</a> = FALSE</td></tr>
<tr class="separator:a0d50940facef95076e10227daa4f1673"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Library functions which relates with booting.</p>
<p>Copyright (c) 2011 - 2019, Intel Corporation. All rights reserved.<br  />
 (C) Copyright 2015-2016 Hewlett Packard Enterprise Development LP<br  />
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>

<p class="definition">Definition in file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a140b13a5baf2f8c1c1229c591ec18ef0" name="a140b13a5baf2f8c1c1229c591ec18ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140b13a5baf2f8c1c1229c591ec18ef0">&#9670;&#160;</a></span>ACPI_VBS0001_HID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACPI_VBS0001_HID&#160;&#160;&#160;0x00015853</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00033">33</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="adde586a5aae4e8fb8609164fee111ab7" name="adde586a5aae4e8fb8609164fee111ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde586a5aae4e8fb8609164fee111ab7">&#9670;&#160;</a></span>ACPI_VMD0001_HID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACPI_VMD0001_HID&#160;&#160;&#160;0x000159A4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00032">32</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a370dc8f01deff4adad874f04c0edaebc" name="a370dc8f01deff4adad874f04c0edaebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a370dc8f01deff4adad874f04c0edaebc">&#9670;&#160;</a></span>BmConnectUsbShortFormDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS BmConnectUsbShortFormDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect the specific Usb device which match the short form device path, and whose bus is determined by Host Controller (Uhci or Ehci).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevicePath</td><td>A short-form device path that starts with the first element being a USB WWID or a USB Class device path</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EFI_INVALID_PARAMETER DevicePath is NULL pointer. DevicePath is not a USB device path.</dd>
<dd>
EFI_SUCCESS Success to connect USB device </dd>
<dd>
EFI_NOT_FOUND Fail to find handle for USB controller to connect. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00755">755</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="af2aa03e2fc3e1a78d01d24b7a8acc672" name="af2aa03e2fc3e1a78d01d24b7a8acc672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2aa03e2fc3e1a78d01d24b7a8acc672">&#9670;&#160;</a></span>BmExpandAppleSDCardDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_DEVICE_PATH_PROTOCOL * BmExpandAppleSDCardDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Match macOS-made SD card device path onto standard SD card UEFI device path. macOS uses a vendor-specific path for SD card devices and produces paths like: PciRoot(0x0) /Pci(0x1A,0x0) /VenMsg(C063C579-9F78-4BA5-9F42-D0B0149597A6,01000000000000000000000000000000) /HD(2,GPT,D2BEDE60-7C48-4D94-8915-A579450E3C43,0x64028,0x7417FB0)</p>
<p>We need to match them on standard SD card device paths like: PciRoot(0x0) /Pci(0x1A,0x0) /eMMC(0x0) /Ctrl(0x0) /HD(2,GPT,D2BEDE60-7C48-4D94-8915-A579450E3C43,0x64028,0x7417FB0)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">FilePath</td><td>macOS-made device path with VenMsg parts trimmed (i.e. VenMsg(0x0, 0x0)/.../File).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SD card device path or NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00977">977</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a82d84dcef476dab72b1e619a6a93edf7" name="a82d84dcef476dab72b1e619a6a93edf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d84dcef476dab72b1e619a6a93edf7">&#9670;&#160;</a></span>BmExpandHyperVDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_DEVICE_PATH_PROTOCOL * BmExpandHyperVDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Match macOS-made Hyper-V device path onto Hyper-V UEFI firmware device path. macOS is unaware of Hyper-V and therefore produces paths like: Acpi(0x000159A4,0x0) /Acpi(0x00015853,0x0) /Scsi(0x0,0x0) /HD(2,GPT,63882141-5773-4630-B8FD-2C6E4A491C78,0x64028,0x3A66090) We need to match them on real Hyper-V device paths like: AcpiEx(@@0000,@@0000,0x0,VMBus,,) /VenHw(9B17E5A2-0891-42DD-B653-80B5C22809BA,D96361BAA104294DB60572E2FFB1DC7F19539477F36F4B429750F8B5593AAA27) /Scsi(0x0,0x0) /HD(2,GPT,63882141-5773-4630-B8FD-2C6E4A491C78,0x64028,0x3A66090)</p>
<p>Additionally, MacHyperVSupport exposes disks as individual SCSI targets to properly support hotplug where Hyper-V exposes just a single target.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">FilePath</td><td>macOS-made device path with ACPI parts trimmed (i.e. Scsi(0x0, 0x0)/.../File).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>real Hyper-V device path or NULL. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00851">851</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a86e678663163eabfcdc45132d0c9681e" name="a86e678663163eabfcdc45132d0c9681e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86e678663163eabfcdc45132d0c9681e">&#9670;&#160;</a></span>BmExpandMediaDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_DEVICE_PATH_PROTOCOL * BmExpandMediaDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FullPath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Handle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expand the media device path which points to a BlockIo or SimpleFileSystem instance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevicePath</td><td>The media device path pointing to a BlockIo or SimpleFileSystem instance. </td></tr>
    <tr><td class="paramname">FullPath</td><td>The full path returned by the routine in last call. Set to NULL in first call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next possible full path pointing to the load option. Caller is responsible to free the memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00465">465</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a91d7e31a624ef1af32bf10e6728bbcbb" name="a91d7e31a624ef1af32bf10e6728bbcbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d7e31a624ef1af32bf10e6728bbcbb">&#9670;&#160;</a></span>BmExpandPartitionDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_DEVICE_PATH_PROTOCOL * BmExpandPartitionDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expand a device path that starts with a hard drive media device path node to be a full device path that includes the full hardware path to the device. We need to do this so it can be booted. As an optimization the front match (the part point to the partition node. E.g. ACPI() /PCI()/ATA()/Partition() ) is saved in a variable so a connect all is not required on every boot. All successful history device path which point to partition node (the front part) will be saved.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilePath</td><td>The device path pointing to a load option. It could be a short-form device path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The full device path pointing to the load option. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00660">660</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a438d9883c030f1bb6efa69bb6fed6371" name="a438d9883c030f1bb6efa69bb6fed6371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438d9883c030f1bb6efa69bb6fed6371">&#9670;&#160;</a></span>BmExpandUsbDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_DEVICE_PATH_PROTOCOL * BmExpandUsbDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FullPath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>ShortformNode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Expand USB Class or USB WWID device path node to be full device path of a USB device in platform.</p>
<p>This function support following 4 cases: 1) Boot Option device path starts with a USB Class or USB WWID device path, and there is no Media FilePath device path in the end. In this case, it will follow Removable Media Boot Behavior. 2) Boot Option device path starts with a USB Class or USB WWID device path, and ended with Media FilePath device path. 3) Boot Option device path starts with a full device path to a USB Host Controller, contains a USB Class or USB WWID device path node, while not ended with Media FilePath device path. In this case, it will follow Removable Media Boot Behavior. 4) Boot Option device path starts with a full device path to a USB Host Controller, contains a USB Class or USB WWID device path node, and ended with Media FilePath device path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilePath</td><td>The device path pointing to a load option. It could be a short-form device path. </td></tr>
    <tr><td class="paramname">FullPath</td><td>The full path returned by the routine in last call. Set to NULL in first call. </td></tr>
    <tr><td class="paramname">ShortformNode</td><td>Pointer to the USB short-form device path node in the FilePath buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next possible full path pointing to the load option. Caller is responsible to free the memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00399">399</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="ab96be737b81e45b848054c7c787f2b73" name="ab96be737b81e45b848054c7c787f2b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96be737b81e45b848054c7c787f2b73">&#9670;&#160;</a></span>BmFindUsbDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_HANDLE * BmFindUsbDevice </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ParentDevicePathSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>UsbIoHandleCount</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a USB device which match the specified short-form device path start with USB Class or USB WWID device path. If ParentDevicePath is NULL, this function will search in all USB devices of the platform. If ParentDevicePath is not NULL, this function will only search in its child devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">DevicePath</td><td>The device path that contains USB Class or USB WWID device path. </td></tr>
    <tr><td class="paramname">ParentDevicePathSize</td><td>The length of the device path before the USB Class or USB WWID device path. </td></tr>
    <tr><td class="paramname">UsbIoHandleCount</td><td>A pointer to the count of the returned USB IO handles.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>The matched USB IO handles cannot be found. </td></tr>
    <tr><td class="paramname">other</td><td>The matched USB IO handles. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00306">306</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a8a835a70b6b5af33f5f9837e6c4c2ca2" name="a8a835a70b6b5af33f5f9837e6c4c2ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a835a70b6b5af33f5f9837e6c4c2ca2">&#9670;&#160;</a></span>BmMatchPartitionDevicePathNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC BOOLEAN BmMatchPartitionDevicePathNode </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>BlockIoDevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN HARDDRIVE_DEVICE_PATH *</td>          <td class="paramname"><span class="paramname"><em>HardDriveDevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>LocateEsp</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether there is a instance in BlockIoDevicePath, which contain multi device path instances, has the same partition node with HardDriveDevicePath device path</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Handle</td><td>The partition's device handle </td></tr>
    <tr><td class="paramname">BlockIoDevicePath</td><td>Multi device path instances which need to check </td></tr>
    <tr><td class="paramname">HardDriveDevicePath</td><td>A device path which starts with a hard drive media device path. </td></tr>
    <tr><td class="paramname">LocateEsp</td><td>Use ESP- instead of PartitionNumber-matching.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>There is a matched device path instance. </td></tr>
    <tr><td class="paramname">FALSE</td><td>There is no matched device path instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00580">580</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="aab10931b704fd3adc0a3c92211d43fca" name="aab10931b704fd3adc0a3c92211d43fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab10931b704fd3adc0a3c92211d43fca">&#9670;&#160;</a></span>BmMatchUsbClass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC BOOLEAN BmMatchUsbClass </td>
          <td>(</td>
          <td class="paramtype">IN EFI_USB_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>UsbIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN USB_CLASS_DEVICE_PATH *</td>          <td class="paramname"><span class="paramname"><em>UsbClass</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether a USB device match the specified USB Class device path. This function follows "Load Option Processing" behavior in UEFI specification.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbIo</td><td>USB I/O protocol associated with the USB device. </td></tr>
    <tr><td class="paramname">UsbClass</td><td>The USB Class device path to match.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>The USB device match the USB Class device path. </td></tr>
    <tr><td class="paramname">FALSE</td><td>The USB device does not match the USB Class device path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00093">93</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="ad76d633f3efc9ec0965ecf5006456c5e" name="ad76d633f3efc9ec0965ecf5006456c5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad76d633f3efc9ec0965ecf5006456c5e">&#9670;&#160;</a></span>BmMatchUsbWwid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC BOOLEAN BmMatchUsbWwid </td>
          <td>(</td>
          <td class="paramtype">IN EFI_USB_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>UsbIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN USB_WWID_DEVICE_PATH *</td>          <td class="paramname"><span class="paramname"><em>UsbWwid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether a USB device match the specified USB WWID device path. This function follows "Load Option Processing" behavior in UEFI specification.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbIo</td><td>USB I/O protocol associated with the USB device. </td></tr>
    <tr><td class="paramname">UsbWwid</td><td>The USB WWID device path to match.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>The USB device match the USB WWID device path. </td></tr>
    <tr><td class="paramname">FALSE</td><td>The USB device does not match the USB WWID device path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00186">186</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a3a00c0ab42bae4d11412353420a4c8f9" name="a3a00c0ab42bae4d11412353420a4c8f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a00c0ab42bae4d11412353420a4c8f9">&#9670;&#160;</a></span>InternalConnectAll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID InternalConnectAll </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connect all the drivers to all the controllers.</p>
<p>This function makes sure all the current system drivers manage the correspoinding controllers if have. And at the same time, makes sure all the system controllers have driver to manage it if have. </p>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00048">48</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<a id="a1155eea7cb13aa4e5ac009e81bbd5016" name="a1155eea7cb13aa4e5ac009e81bbd5016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1155eea7cb13aa4e5ac009e81bbd5016">&#9670;&#160;</a></span>OcGetNextLoadOptionDevicePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_DEVICE_PATH_PROTOCOL * OcGetNextLoadOptionDevicePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>FullPath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next possible full path pointing to the load option. The routine doesn't guarantee the returned full path points to an existing file, and it also doesn't guarantee the existing file is a valid load option.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FilePath</td><td>The device path pointing to a load option. It could be a short-form device path. </td></tr>
    <tr><td class="paramname">FullPath</td><td>The full path returned by the routine in last call. Set to NULL in first call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next possible full path pointing to the load option. Caller is responsible to free the memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l01055">1055</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0d50940facef95076e10227daa4f1673" name="a0d50940facef95076e10227daa4f1673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d50940facef95076e10227daa4f1673">&#9670;&#160;</a></span>mConnectAllExecuted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC BOOLEAN mConnectAllExecuted = FALSE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_expand_device_path_8c_source.html#l00036">36</a> of file <a class="el" href="_expand_device_path_8c_source.html">ExpandDevicePath.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="dir_dd2d6d7d3ecfdff4c452b8550306b358.html">OcDevicePathLib</a></li><li class="navelem"><a class="el" href="_expand_device_path_8c.html">ExpandDevicePath.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
