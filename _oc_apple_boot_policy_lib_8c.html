<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Library/OcAppleBootPolicyLib/OcAppleBootPolicyLib.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_oc_apple_boot_policy_lib_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">OcAppleBootPolicyLib.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="_apple_mac_efi_8h_source.html">AppleMacEfi.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_microsoft_windows_8h_source.html">MicrosoftWindows.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_apfs_info_8h_source.html">Guid/AppleApfsInfo.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_bless_8h_source.html">Guid/AppleBless.h</a>&gt;</code><br />
<code>#include &lt;Guid/FileInfo.h&gt;</code><br />
<code>#include &lt;Protocol/SimpleFileSystem.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_boot_policy_8h_source.html">Protocol/AppleBootPolicy.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_apple_boot_policy_lib_8h_source.html">Library/OcAppleBootPolicyLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_device_path_lib_8h_source.html">Library/OcDevicePathLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_file_lib_8h_source.html">Library/OcFileLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_misc_lib_8h_source.html">Library/OcMiscLib.h</a>&gt;</code><br />
<code>#include &lt;Library/BaseLib.h&gt;</code><br />
<code>#include &lt;Library/BaseMemoryLib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_debug_log_lib_8h_source.html">Library/OcDebugLogLib.h</a>&gt;</code><br />
<code>#include &lt;Library/DevicePathLib.h&gt;</code><br />
<code>#include &lt;Library/MemoryAllocationLib.h&gt;</code><br />
<code>#include &lt;Library/PrintLib.h&gt;</code><br />
<code>#include &lt;Library/UefiBootServicesTableLib.h&gt;</code><br />
</div>
<p><a href="_oc_apple_boot_policy_lib_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_f_s___v_o_l_u_m_e___i_n_f_o.html">APFS_VOLUME_INFO</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_p_f_s___v_o_l_u_m_e___r_o_o_t.html">APFS_VOLUME_ROOT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6e2a7ec93b6a0d93a3e97222f93714ad" id="r_a6e2a7ec93b6a0d93a3e97222f93714ad"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e2a7ec93b6a0d93a3e97222f93714ad">BootPolicyGetBootFile</a> (IN EFI_HANDLE Device, IN OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a6e2a7ec93b6a0d93a3e97222f93714ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eccbacaef4740918f1cad923d9fe4f1" id="r_a5eccbacaef4740918f1cad923d9fe4f1"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eccbacaef4740918f1cad923d9fe4f1">BootPolicyGetBootFileEx</a> (IN EFI_HANDLE Device, IN <a class="el" href="_apple_boot_policy_8h.html#a76f09d8d32ba275bd2c61a332dbbe9b6">BOOT_POLICY_ACTION</a> Action, OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a5eccbacaef4740918f1cad923d9fe4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c80dbe3a4354b4cc3f6c8086699043" id="r_a55c80dbe3a4354b4cc3f6c8086699043"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55c80dbe3a4354b4cc3f6c8086699043">BootPolicyDevicePathToDirPath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName, OUT EFI_HANDLE *Device, OUT EFI_HANDLE *ApfsVolumeHandle)</td></tr>
<tr class="separator:a55c80dbe3a4354b4cc3f6c8086699043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa404f7b9cd90b2bd2e167aad870ebbf9" id="r_aa404f7b9cd90b2bd2e167aad870ebbf9"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa404f7b9cd90b2bd2e167aad870ebbf9">BootPolicyGetApfsRecoveryFilePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN CONST CHAR16 *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a04e139e42a71112ed608b9a89c8b146f">PathName</a>, OUT CHAR16 **FullPathName, OUT VOID **<a class="el" href="_apm_8h.html#aba947f506391f806fc25e4eeebc5865e">Reserved</a>, OUT EFI_FILE_PROTOCOL **Root, OUT EFI_HANDLE *DeviceHandle)</td></tr>
<tr class="separator:aa404f7b9cd90b2bd2e167aad870ebbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13213292011c42ee203e3ed2ca4efcc7" id="r_a13213292011c42ee203e3ed2ca4efcc7"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13213292011c42ee203e3ed2ca4efcc7">BootPolicyGetAllApfsRecoveryFilePath</a> (IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a> OPTIONAL, OUT VOID **Volumes, OUT UINTN *NumberOfEntries)</td></tr>
<tr class="separator:a13213292011c42ee203e3ed2ca4efcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba3bd711caaea19bc6cd0641627085a" id="r_a5ba3bd711caaea19bc6cd0641627085a"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ba3bd711caaea19bc6cd0641627085a">InternalFileExists</a> (IN EFI_FILE_HANDLE Root, IN CONST CHAR16 *FileName)</td></tr>
<tr class="separator:a5ba3bd711caaea19bc6cd0641627085a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb92eba005601f7b2ba8520330336366" id="r_abb92eba005601f7b2ba8520330336366"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abb92eba005601f7b2ba8520330336366">InternalGetApfsSpecialFileInfo</a> (IN EFI_FILE_PROTOCOL *Root, IN OUT <a class="el" href="struct_a_p_p_l_e___a_p_f_s___v_o_l_u_m_e___i_n_f_o.html">APPLE_APFS_VOLUME_INFO</a> **VolumeInfo OPTIONAL, IN OUT <a class="el" href="struct_a_p_p_l_e___a_p_f_s___c_o_n_t_a_i_n_e_r___i_n_f_o.html">APPLE_APFS_CONTAINER_INFO</a> **ContainerInfo OPTIONAL)</td></tr>
<tr class="separator:abb92eba005601f7b2ba8520330336366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c40caf1f70691d4c1d7827f678fb5dc" id="r_a1c40caf1f70691d4c1d7827f678fb5dc"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c40caf1f70691d4c1d7827f678fb5dc">InternalGetBooterFromBlessedSystemFilePath</a> (IN EFI_FILE_PROTOCOL *Root, OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a1c40caf1f70691d4c1d7827f678fb5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46507327b642c28d851391fe75c3791a" id="r_a46507327b642c28d851391fe75c3791a"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46507327b642c28d851391fe75c3791a">InternalGetBooterFromBlessedSystemFolderPath</a> (IN EFI_HANDLE Device, IN EFI_FILE_PROTOCOL *Root, OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a46507327b642c28d851391fe75c3791a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b24b29440933495cc043b56cd42cb1d" id="r_a6b24b29440933495cc043b56cd42cb1d"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b24b29440933495cc043b56cd42cb1d">OcGetBooterFromPredefinedPathList</a> (IN EFI_HANDLE Device, IN EFI_FILE_PROTOCOL *Root, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath OPTIONAL, IN CHAR16 *Prefix OPTIONAL)</td></tr>
<tr class="separator:a6b24b29440933495cc043b56cd42cb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231ee8b96c03d32dbb59ffe11f66d40e" id="r_a231ee8b96c03d32dbb59ffe11f66d40e"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a231ee8b96c03d32dbb59ffe11f66d40e">InternalGetApfsVolumeInfo</a> (IN EFI_HANDLE Device, OUT EFI_GUID *ContainerGuid, OUT EFI_GUID *VolumeGuid, OUT <a class="el" href="_apple_apfs_info_8h.html#a68b103b38fab471f8cfda04a4185679c">APPLE_APFS_VOLUME_ROLE</a> *VolumeRole)</td></tr>
<tr class="separator:a231ee8b96c03d32dbb59ffe11f66d40e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b8969bb474e81a54e0661fea5a12d8" id="r_ae0b8969bb474e81a54e0661fea5a12d8"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0b8969bb474e81a54e0661fea5a12d8">InternalGetBooterFromApfsVolumePredefinedPathList</a> (IN EFI_HANDLE Device, IN EFI_FILE_PROTOCOL *PrebootRoot, IN CHAR16 *VolumeDirectoryName, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, IN OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath OPTIONAL)</td></tr>
<tr class="separator:ae0b8969bb474e81a54e0661fea5a12d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7688523598df5b1dbcdfcb46950309" id="r_afa7688523598df5b1dbcdfcb46950309"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa7688523598df5b1dbcdfcb46950309">InternalGetBooterFromApfsPredefinedPathList</a> (IN EFI_HANDLE Device, IN EFI_FILE_PROTOCOL *PrebootRoot, IN CONST GUID *ContainerUuid, IN CONST CHAR16 *VolumeUuid OPTIONAL, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath OPTIONAL, OUT EFI_HANDLE *VolumeHandle OPTIONAL)</td></tr>
<tr class="separator:afa7688523598df5b1dbcdfcb46950309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089e4f6fa8a2392fe9817ab0efe08f06" id="r_a089e4f6fa8a2392fe9817ab0efe08f06"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a089e4f6fa8a2392fe9817ab0efe08f06">InternalGetBootPathName</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName, IN BOOLEAN DirectoryOnly)</td></tr>
<tr class="separator:a089e4f6fa8a2392fe9817ab0efe08f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a053aa8013e715c4431ff625aef5793" id="r_a7a053aa8013e715c4431ff625aef5793"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a053aa8013e715c4431ff625aef5793">InternalGetApfsVolumeHandle</a> (IN EFI_HANDLE DeviceHandle, IN CHAR16 *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a04e139e42a71112ed608b9a89c8b146f">PathName</a>, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT EFI_HANDLE *ApfsVolumeHandle)</td></tr>
<tr class="separator:a7a053aa8013e715c4431ff625aef5793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23b84b759beb83d6b281105343a199c" id="r_ae23b84b759beb83d6b281105343a199c"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae23b84b759beb83d6b281105343a199c">OcBootPolicyGetBootFile</a> (IN EFI_HANDLE Device, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, IN OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:ae23b84b759beb83d6b281105343a199c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6fbe1d4317467583e77784dc3c700e" id="r_a7d6fbe1d4317467583e77784dc3c700e"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d6fbe1d4317467583e77784dc3c700e">OcBootPolicyGetBootFileEx</a> (IN EFI_HANDLE Device, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT EFI_DEVICE_PATH_PROTOCOL **<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a726f080e0c998f2d1a1f752fc17e8c2d">FilePath</a>)</td></tr>
<tr class="separator:a7d6fbe1d4317467583e77784dc3c700e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31ba4a0af65be0e4cdcd0972d97962f" id="r_ac31ba4a0af65be0e4cdcd0972d97962f"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac31ba4a0af65be0e4cdcd0972d97962f">InternalBootPolicyDevicePathToDirPath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName, OUT EFI_HANDLE *Device, IN BOOLEAN DirectoryOnly)</td></tr>
<tr class="separator:ac31ba4a0af65be0e4cdcd0972d97962f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0b1b9b62f43913f5eb4842a4a928a3" id="r_a8b0b1b9b62f43913f5eb4842a4a928a3"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b0b1b9b62f43913f5eb4842a4a928a3">OcBootPolicyDevicePathToDirPath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName, OUT EFI_SIMPLE_FILE_SYSTEM_PROTOCOL **FileSystem)</td></tr>
<tr class="separator:a8b0b1b9b62f43913f5eb4842a4a928a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485ea71c0663b2aaddec75b5430f22f9" id="r_a485ea71c0663b2aaddec75b5430f22f9"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a485ea71c0663b2aaddec75b5430f22f9">OcBootPolicyDevicePathToFilePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName)</td></tr>
<tr class="separator:a485ea71c0663b2aaddec75b5430f22f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30164604ef863e2527f20457710255d5" id="r_a30164604ef863e2527f20457710255d5"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30164604ef863e2527f20457710255d5">OcBootPolicyDevicePathToDirPathAndApfsHandle</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT CHAR16 **BootPathName, OUT EFI_HANDLE *Device, OUT EFI_HANDLE *ApfsVolumeHandle)</td></tr>
<tr class="separator:a30164604ef863e2527f20457710255d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd16e970775b5713bef712cd21138b11" id="r_abd16e970775b5713bef712cd21138b11"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd16e970775b5713bef712cd21138b11">OcBootPolicyGetApfsRecoveryFilePath</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN CONST CHAR16 *<a class="el" href="_oc_apple_disk_image_block_io_8c.html#a04e139e42a71112ed608b9a89c8b146f">PathName</a>, IN CONST CHAR16 **PredefinedPaths, IN UINTN NumPredefinedPaths, OUT CHAR16 **FullPathName, OUT EFI_FILE_PROTOCOL **Root, OUT EFI_HANDLE *DeviceHandle)</td></tr>
<tr class="separator:abd16e970775b5713bef712cd21138b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a062b363e7446774c21cfaebb835fca41" id="r_a062b363e7446774c21cfaebb835fca41"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a062b363e7446774c21cfaebb835fca41">OcBootPolicyGetAllApfsRecoveryFilePath</a> (IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a> OPTIONAL, OUT VOID **Volumes, OUT UINTN *NumberOfEntries)</td></tr>
<tr class="separator:a062b363e7446774c21cfaebb835fca41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1981c4ba3baf4d08187d41743499d5ca" id="r_a1981c4ba3baf4d08187d41743499d5ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1981c4ba3baf4d08187d41743499d5ca">OcAppleBootPolicyInstallProtocol</a> (IN BOOLEAN Reinstall)</td></tr>
<tr class="separator:a1981c4ba3baf4d08187d41743499d5ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1945f8afd626205282c9d138ee6a15b3" id="r_a1945f8afd626205282c9d138ee6a15b3"><td class="memItemLeft" align="right" valign="top">GLOBAL_REMOVE_IF_UNREFERENCED CONST CHAR16 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1945f8afd626205282c9d138ee6a15b3">gAppleBootPolicyPredefinedPaths</a> []</td></tr>
<tr class="separator:a1945f8afd626205282c9d138ee6a15b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199f1243b60583c5312323edb0c3c505" id="r_a199f1243b60583c5312323edb0c3c505"><td class="memItemLeft" align="right" valign="top">GLOBAL_REMOVE_IF_UNREFERENCED CONST UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a199f1243b60583c5312323edb0c3c505">gAppleBootPolicyNumPredefinedPaths</a></td></tr>
<tr class="separator:a199f1243b60583c5312323edb0c3c505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4cf6bea6e40af3025e593a0df0e3f94" id="r_af4cf6bea6e40af3025e593a0df0e3f94"><td class="memItemLeft" align="right" valign="top">GLOBAL_REMOVE_IF_UNREFERENCED CONST UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4cf6bea6e40af3025e593a0df0e3f94">gAppleBootPolicyCoreNumPredefinedPaths</a> = 2</td></tr>
<tr class="separator:af4cf6bea6e40af3025e593a0df0e3f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d3467d82144248aae925f9e525994e" id="r_ab2d3467d82144248aae925f9e525994e"><td class="memItemLeft" align="right" valign="top">STATIC <a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2d3467d82144248aae925f9e525994e">mAppleBootPolicyProtocol</a></td></tr>
<tr class="separator:ab2d3467d82144248aae925f9e525994e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2019, vit9696. All rights reserved.</p>
<p>All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a55c80dbe3a4354b4cc3f6c8086699043" name="a55c80dbe3a4354b4cc3f6c8086699043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c80dbe3a4354b4cc3f6c8086699043">&#9670;&#160;</a></span>BootPolicyDevicePathToDirPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI BootPolicyDevicePathToDirPath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>ApfsVolumeHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01191">1191</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a13213292011c42ee203e3ed2ca4efcc7" name="a13213292011c42ee203e3ed2ca4efcc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13213292011c42ee203e3ed2ca4efcc7">&#9670;&#160;</a></span>BootPolicyGetAllApfsRecoveryFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI BootPolicyGetAllApfsRecoveryFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a></td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>Volumes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>NumberOfEntries</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01698">1698</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="aa404f7b9cd90b2bd2e167aad870ebbf9" name="aa404f7b9cd90b2bd2e167aad870ebbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa404f7b9cd90b2bd2e167aad870ebbf9">&#9670;&#160;</a></span>BootPolicyGetApfsRecoveryFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI BootPolicyGetApfsRecoveryFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>PathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>FullPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>Reserved</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_FILE_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>DeviceHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01438">1438</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a6e2a7ec93b6a0d93a3e97222f93714ad" name="a6e2a7ec93b6a0d93a3e97222f93714ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2a7ec93b6a0d93a3e97222f93714ad">&#9670;&#160;</a></span>BootPolicyGetBootFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI BootPolicyGetBootFile </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00932">932</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a5eccbacaef4740918f1cad923d9fe4f1" name="a5eccbacaef4740918f1cad923d9fe4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eccbacaef4740918f1cad923d9fe4f1">&#9670;&#160;</a></span>BootPolicyGetBootFileEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI BootPolicyGetBootFileEx </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_apple_boot_policy_8h.html#a76f09d8d32ba275bd2c61a332dbbe9b6">BOOT_POLICY_ACTION</a></td>          <td class="paramname"><span class="paramname"><em>Action</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01040">1040</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="ac31ba4a0af65be0e4cdcd0972d97962f" name="ac31ba4a0af65be0e4cdcd0972d97962f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31ba4a0af65be0e4cdcd0972d97962f">&#9670;&#160;</a></span>InternalBootPolicyDevicePathToDirPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS InternalBootPolicyDevicePathToDirPath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>DirectoryOnly</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01059">1059</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a5ba3bd711caaea19bc6cd0641627085a" name="a5ba3bd711caaea19bc6cd0641627085a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ba3bd711caaea19bc6cd0641627085a">&#9670;&#160;</a></span>InternalFileExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalFileExists </td>
          <td>(</td>
          <td class="paramtype">IN EFI_FILE_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>FileName</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks whether the given file exists or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Root</td><td>The volume's opened root. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FileName</td><td>The path of the file to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returned is whether the specified file exists or not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00151">151</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="abb92eba005601f7b2ba8520330336366" name="abb92eba005601f7b2ba8520330336366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb92eba005601f7b2ba8520330336366">&#9670;&#160;</a></span>InternalGetApfsSpecialFileInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetApfsSpecialFileInfo </td>
          <td>(</td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="struct_a_p_p_l_e___a_p_f_s___v_o_l_u_m_e___i_n_f_o.html">APPLE_APFS_VOLUME_INFO</a> **VolumeInfo</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="struct_a_p_p_l_e___a_p_f_s___c_o_n_t_a_i_n_e_r___i_n_f_o.html">APPLE_APFS_CONTAINER_INFO</a> **ContainerInfo</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00177">177</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a7a053aa8013e715c4431ff625aef5793" name="a7a053aa8013e715c4431ff625aef5793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a053aa8013e715c4431ff625aef5793">&#9670;&#160;</a></span>InternalGetApfsVolumeHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetApfsVolumeHandle </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>DeviceHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>PathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>ApfsVolumeHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00811">811</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a231ee8b96c03d32dbb59ffe11f66d40e" name="a231ee8b96c03d32dbb59ffe11f66d40e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a231ee8b96c03d32dbb59ffe11f66d40e">&#9670;&#160;</a></span>InternalGetApfsVolumeInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetApfsVolumeInfo </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>ContainerGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VolumeGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT <a class="el" href="_apple_apfs_info_8h.html#a68b103b38fab471f8cfda04a4185679c">APPLE_APFS_VOLUME_ROLE</a> *</td>          <td class="paramname"><span class="paramname"><em>VolumeRole</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00439">439</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="afa7688523598df5b1dbcdfcb46950309" name="afa7688523598df5b1dbcdfcb46950309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7688523598df5b1dbcdfcb46950309">&#9670;&#160;</a></span>InternalGetBooterFromApfsPredefinedPathList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetBooterFromApfsPredefinedPathList </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>PrebootRoot</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST GUID *</td>          <td class="paramname"><span class="paramname"><em>ContainerUuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 *VolumeUuid</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *VolumeHandle</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>APFS boot happens from Preboot volume, which normally contains blessed file or folder. In case blessed path location fails, we iterate every volume within the container, and try to locate a predefined booter path on Preboot volume (e.g. Preboot://{VolumeUuid}/System/Library/CoreServices/boot.efi). </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00572">572</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="ae0b8969bb474e81a54e0661fea5a12d8" name="ae0b8969bb474e81a54e0661fea5a12d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b8969bb474e81a54e0661fea5a12d8">&#9670;&#160;</a></span>InternalGetBooterFromApfsVolumePredefinedPathList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetBooterFromApfsVolumePredefinedPathList </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>PrebootRoot</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VolumeDirectoryName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00497">497</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a1c40caf1f70691d4c1d7827f678fb5dc" name="a1c40caf1f70691d4c1d7827f678fb5dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c40caf1f70691d4c1d7827f678fb5dc">&#9670;&#160;</a></span>InternalGetBooterFromBlessedSystemFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetBooterFromBlessedSystemFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00241">241</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a46507327b642c28d851391fe75c3791a" name="a46507327b642c28d851391fe75c3791a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46507327b642c28d851391fe75c3791a">&#9670;&#160;</a></span>InternalGetBooterFromBlessedSystemFolderPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetBooterFromBlessedSystemFolderPath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00278">278</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a089e4f6fa8a2392fe9817ab0efe08f06" name="a089e4f6fa8a2392fe9817ab0efe08f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089e4f6fa8a2392fe9817ab0efe08f06">&#9670;&#160;</a></span>InternalGetBootPathName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS InternalGetBootPathName </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>DirectoryOnly</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00751">751</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a1981c4ba3baf4d08187d41743499d5ca" name="a1981c4ba3baf4d08187d41743499d5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1981c4ba3baf4d08187d41743499d5ca">&#9670;&#160;</a></span>OcAppleBootPolicyInstallProtocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a> * OcAppleBootPolicyInstallProtocol </td>
          <td>(</td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>Reinstall</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install and initialise Apple Boot policy protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Reinstall</td><td>Overwrite installed protocol.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">installed</td><td>or located protocol or NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01716">1716</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a8b0b1b9b62f43913f5eb4842a4a928a3" name="a8b0b1b9b62f43913f5eb4842a4a928a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0b1b9b62f43913f5eb4842a4a928a3">&#9670;&#160;</a></span>OcBootPolicyDevicePathToDirPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyDevicePathToDirPath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_SIMPLE_FILE_SYSTEM_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FileSystem</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves folder and file system associated with DevicePath.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>The device path to describe. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">BootPathName</td><td>A pointer into which the folder portion of DevicePath is returned. When EFI_SUCCESS is returned, caller is responsible for freeing this pool memory. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FileSystem</td><td>A pointer into which the simple file system for the folder is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation has been completed successfully. </td></tr>
    <tr><td class="paramname">other</td><td>DevicePath is not a valid file path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01088">1088</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a30164604ef863e2527f20457710255d5" name="a30164604ef863e2527f20457710255d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30164604ef863e2527f20457710255d5">&#9670;&#160;</a></span>OcBootPolicyDevicePathToDirPathAndApfsHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS OcBootPolicyDevicePathToDirPathAndApfsHandle </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>ApfsVolumeHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01147">1147</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a485ea71c0663b2aaddec75b5430f22f9" name="a485ea71c0663b2aaddec75b5430f22f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485ea71c0663b2aaddec75b5430f22f9">&#9670;&#160;</a></span>OcBootPolicyDevicePathToFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyDevicePathToFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>BootPathName</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves file path associated with DevicePath.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>The device path to describe. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">BootPathName</td><td>A pointer into which the file path for DevicePath is returned. When EFI_SUCCESS is returned, caller is responsible for freeing this pool memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation has been completed successfully. </td></tr>
    <tr><td class="paramname">other</td><td>DevicePath is not a valid file path. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01127">1127</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a062b363e7446774c21cfaebb835fca41" name="a062b363e7446774c21cfaebb835fca41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a062b363e7446774c21cfaebb835fca41">&#9670;&#160;</a></span>OcBootPolicyGetAllApfsRecoveryFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetAllApfsRecoveryFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a></td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>Volumes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>NumberOfEntries</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01471">1471</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="abd16e970775b5713bef712cd21138b11" name="abd16e970775b5713bef712cd21138b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd16e970775b5713bef712cd21138b11">&#9670;&#160;</a></span>OcBootPolicyGetApfsRecoveryFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetApfsRecoveryFilePath </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>PathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>FullPathName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_FILE_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE *</td>          <td class="paramname"><span class="paramname"><em>DeviceHandle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves path info for the APFS Recovery volume associated with the APFS volume given by DevicePath.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>The device path to the APFS recovery volume. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PathName</td><td>The file path to open. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PredefinedPaths</td><td>An array of file paths to scan for if no file was blessed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumPredefinedPaths</td><td>The number of paths in PredefinedPaths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FullPathName</td><td>A pointer into which the full file path for DevicePath and PathName is returned. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Root</td><td>A pointer into which the opened Recovery volume root protocol is returned. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">DeviceHandle</td><td>A pointer into which the device handle of DevicePath is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation has been completed successfully. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The file path could not be found. </td></tr>
    <tr><td class="paramname">other</td><td>An unexpected error has occured. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l01227">1227</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="ae23b84b759beb83d6b281105343a199c" name="ae23b84b759beb83d6b281105343a199c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23b84b759beb83d6b281105343a199c">&#9670;&#160;</a></span>OcBootPolicyGetBootFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetBootFile </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locates the bootable file of the given volume. Prefered are the values blessed, though if unavailable, hard-coded names are being verified and used if existing.</p>
<p>The blessed paths are to be determined by the HFS Driver via EFI_FILE_PROTOCOL.GetInfo(). The related identifier definitions are to be found in <a class="el" href="_apple_bless_8h.html">AppleBless.h</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Device</td><td>The device's Handle to perform the search on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PredefinedPaths</td><td>An array of file paths to scan for if no file was blessed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumPredefinedPaths</td><td>The number of paths in PredefinedPaths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FilePath</td><td>A pointer to the device path pointer to set to the file path of the boot file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>A bootable file could not be found on the given volume. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>The memory necessary to complete the operation could not be allocated. </td></tr>
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation completed successfully and the BootFilePath Buffer has been filled. </td></tr>
    <tr><td class="paramname">other</td><td>The status of an operation used to complete this operation is returned. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00876">876</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a7d6fbe1d4317467583e77784dc3c700e" name="a7d6fbe1d4317467583e77784dc3c700e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d6fbe1d4317467583e77784dc3c700e">&#9670;&#160;</a></span>OcBootPolicyGetBootFileEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcBootPolicyGetBootFileEx </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FilePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Please refer to OcBootPolicyGetBootFile. This function extends the functionality by supporting the APFS Preboot scheme.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Device</td><td>The device's Handle to perform the search on. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PredefinedPaths</td><td>An array of file paths to scan for if no file was blessed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumPredefinedPaths</td><td>The number of paths in PredefinedPaths. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FilePath</td><td>A pointer to the device path pointer to set to the file path of the boot file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>A bootable file could not be found on the given volume. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>The memory necessary to complete the operation could not be allocated. </td></tr>
    <tr><td class="paramname">EFI_SUCCESS</td><td>The operation completed successfully and the BootFilePath Buffer has been filled. </td></tr>
    <tr><td class="paramname">other</td><td>The status of an operation used to complete this operation is returned. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00950">950</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a6b24b29440933495cc043b56cd42cb1d" name="a6b24b29440933495cc043b56cd42cb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b24b29440933495cc043b56cd42cb1d">&#9670;&#160;</a></span>OcGetBooterFromPredefinedPathList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcGetBooterFromPredefinedPathList </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_FILE_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>Root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR16 **</td>          <td class="paramname"><span class="paramname"><em>PredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumPredefinedPaths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_DEVICE_PATH_PROTOCOL **DevicePath</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *Prefix</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00364">364</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af4cf6bea6e40af3025e593a0df0e3f94" name="af4cf6bea6e40af3025e593a0df0e3f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4cf6bea6e40af3025e593a0df0e3f94">&#9670;&#160;</a></span>gAppleBootPolicyCoreNumPredefinedPaths</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLOBAL_REMOVE_IF_UNREFERENCED CONST UINTN gAppleBootPolicyCoreNumPredefinedPaths = 2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Core Apple Boot Policy predefined booter paths. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00083">83</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a199f1243b60583c5312323edb0c3c505" name="a199f1243b60583c5312323edb0c3c505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a199f1243b60583c5312323edb0c3c505">&#9670;&#160;</a></span>gAppleBootPolicyNumPredefinedPaths</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLOBAL_REMOVE_IF_UNREFERENCED CONST UINTN gAppleBootPolicyNumPredefinedPaths</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">  <a class="code hl_define" href="_apple_mac_efi_8h.html#abf0924766241e8f46e68e2dcbca9ac5b">ARRAY_SIZE</a> (<a class="code hl_variable" href="#a1945f8afd626205282c9d138ee6a15b3">gAppleBootPolicyPredefinedPaths</a>)</div>
<div class="ttc" id="a_apple_mac_efi_8h_html_abf0924766241e8f46e68e2dcbca9ac5b"><div class="ttname"><a href="_apple_mac_efi_8h.html#abf0924766241e8f46e68e2dcbca9ac5b">ARRAY_SIZE</a></div><div class="ttdeci">#define ARRAY_SIZE(Array)</div><div class="ttdef"><b>Definition</b> <a href="_apple_mac_efi_8h_source.html#l00034">AppleMacEfi.h:34</a></div></div>
<div class="ttc" id="a_oc_apple_boot_policy_lib_8c_html_a1945f8afd626205282c9d138ee6a15b3"><div class="ttname"><a href="#a1945f8afd626205282c9d138ee6a15b3">gAppleBootPolicyPredefinedPaths</a></div><div class="ttdeci">GLOBAL_REMOVE_IF_UNREFERENCED CONST CHAR16 * gAppleBootPolicyPredefinedPaths[]</div><div class="ttdef"><b>Definition</b> <a href="_oc_apple_boot_policy_lib_8c_source.html#l00074">OcAppleBootPolicyLib.c:74</a></div></div>
</div><!-- fragment --><p>All Apple Boot Policy predefined booter paths. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00080">80</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="a1945f8afd626205282c9d138ee6a15b3" name="a1945f8afd626205282c9d138ee6a15b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1945f8afd626205282c9d138ee6a15b3">&#9670;&#160;</a></span>gAppleBootPolicyPredefinedPaths</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLOBAL_REMOVE_IF_UNREFERENCED CONST CHAR16* gAppleBootPolicyPredefinedPaths[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  <a class="code hl_define" href="_apple_mac_efi_spec_8h.html#a418a7285fe461c281d3581e7779998eb">APPLE_BOOTER_DEFAULT_FILE_NAME</a>,</div>
<div class="line">  <a class="code hl_define" href="_microsoft_windows_8h.html#ae234d76ca2e52361954cf3d805487d62">MS_BOOTER_DEFAULT_FILE_NAME</a>,</div>
<div class="line">  EFI_REMOVABLE_MEDIA_FILE_NAME</div>
<div class="line">}</div>
<div class="ttc" id="a_apple_mac_efi_spec_8h_html_a418a7285fe461c281d3581e7779998eb"><div class="ttname"><a href="_apple_mac_efi_spec_8h.html#a418a7285fe461c281d3581e7779998eb">APPLE_BOOTER_DEFAULT_FILE_NAME</a></div><div class="ttdeci">#define APPLE_BOOTER_DEFAULT_FILE_NAME</div><div class="ttdef"><b>Definition</b> <a href="_apple_mac_efi_spec_8h_source.html#l00037">AppleMacEfiSpec.h:37</a></div></div>
<div class="ttc" id="a_microsoft_windows_8h_html_ae234d76ca2e52361954cf3d805487d62"><div class="ttname"><a href="_microsoft_windows_8h.html#ae234d76ca2e52361954cf3d805487d62">MS_BOOTER_DEFAULT_FILE_NAME</a></div><div class="ttdeci">#define MS_BOOTER_DEFAULT_FILE_NAME</div><div class="ttdef"><b>Definition</b> <a href="_microsoft_windows_8h_source.html#l00013">MicrosoftWindows.h:13</a></div></div>
</div><!-- fragment --><p>An array of file paths to search for in case no file is blessed. On Apple Macs this list includes:</p><ol type="1">
<li>APPLE_BOOTER_DEFAULT_FILE_NAME &ndash; \System\Library\CoreServices\boot.efi</li>
<li>APPLE_REMOVABLE_MEDIA_FILE_NAME &ndash; \EFI\APPLE\X64\BOOT.EFI</li>
<li>EFI_REMOVABLE_MEDIA_FILE_NAME &ndash; \EFI\BOOT\BOOTX64.EFI</li>
<li>APPLE_BOOTER_ROOT_FILE_NAME &ndash; \boot.efi</li>
</ol>
<p>Since in real world only 1st and 3rd entries are used, we do not include 2nd and 4th until further notice. However, we do include a custom entry for Windows, for the reason OpenCore, unlike Apple EFI, may override BOOTx64.efi, and this is not the case for Apple EFI. So we end up with:</p><ol type="1">
<li>APPLE_BOOTER_DEFAULT_FILE_NAME &ndash; \System\Library\CoreServices\boot.efi</li>
<li>MS_BOOTER_DEFAULT_FILE_NAME &ndash; \EFI\Microsoft\Boot\bootmgfw.efi</li>
<li>EFI_REMOVABLE_MEDIA_FILE_NAME &ndash; \EFI\BOOT\BOOTX64.EFI</li>
</ol>
<p>This resolves a problem when Windows installer does not replace our BOOTx64.efi file with Windows file and then NVRAM reset or Boot Camp software reboot to macOS results in the removal of the Windows boot entry from NVRAM making Windows disappear from the list of OpenCore entries without BlessOverride.</p>
<p>Linux and related entries are not present here, because they have fine working software for boot management and do not use BOOTx64.efi in the first place. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00074">74</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
<a id="ab2d3467d82144248aae925f9e525994e" name="ab2d3467d82144248aae925f9e525994e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d3467d82144248aae925f9e525994e">&#9670;&#160;</a></span>mAppleBootPolicyProtocol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC <a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a> mAppleBootPolicyProtocol</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  <a class="code hl_define" href="_apple_boot_policy_8h.html#abd50ae575d30bc5e62d63bf68a94de7d">APPLE_BOOT_POLICY_PROTOCOL_REVISION</a>,</div>
<div class="line">  <a class="code hl_function" href="#a6e2a7ec93b6a0d93a3e97222f93714ad">BootPolicyGetBootFile</a>,</div>
<div class="line">  <a class="code hl_function" href="#a5eccbacaef4740918f1cad923d9fe4f1">BootPolicyGetBootFileEx</a>,</div>
<div class="line">  <a class="code hl_function" href="#a55c80dbe3a4354b4cc3f6c8086699043">BootPolicyDevicePathToDirPath</a>,</div>
<div class="line">  <a class="code hl_function" href="#aa404f7b9cd90b2bd2e167aad870ebbf9">BootPolicyGetApfsRecoveryFilePath</a>,</div>
<div class="line">  <a class="code hl_function" href="#a13213292011c42ee203e3ed2ca4efcc7">BootPolicyGetAllApfsRecoveryFilePath</a></div>
<div class="line">}</div>
<div class="ttc" id="a_apple_boot_policy_8h_html_abd50ae575d30bc5e62d63bf68a94de7d"><div class="ttname"><a href="_apple_boot_policy_8h.html#abd50ae575d30bc5e62d63bf68a94de7d">APPLE_BOOT_POLICY_PROTOCOL_REVISION</a></div><div class="ttdeci">#define APPLE_BOOT_POLICY_PROTOCOL_REVISION</div><div class="ttdef"><b>Definition</b> <a href="_apple_boot_policy_8h_source.html#l00018">AppleBootPolicy.h:18</a></div></div>
<div class="ttc" id="a_oc_apple_boot_policy_lib_8c_html_a13213292011c42ee203e3ed2ca4efcc7"><div class="ttname"><a href="#a13213292011c42ee203e3ed2ca4efcc7">BootPolicyGetAllApfsRecoveryFilePath</a></div><div class="ttdeci">EFI_STATUS EFIAPI BootPolicyGetAllApfsRecoveryFilePath(IN EFI_HANDLE Handle OPTIONAL, OUT VOID **Volumes, OUT UINTN *NumberOfEntries)</div><div class="ttdef"><b>Definition</b> <a href="_oc_apple_boot_policy_lib_8c_source.html#l01698">OcAppleBootPolicyLib.c:1698</a></div></div>
<div class="ttc" id="a_oc_apple_boot_policy_lib_8c_html_a55c80dbe3a4354b4cc3f6c8086699043"><div class="ttname"><a href="#a55c80dbe3a4354b4cc3f6c8086699043">BootPolicyDevicePathToDirPath</a></div><div class="ttdeci">EFI_STATUS EFIAPI BootPolicyDevicePathToDirPath(IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, OUT CHAR16 **BootPathName, OUT EFI_HANDLE *Device, OUT EFI_HANDLE *ApfsVolumeHandle)</div><div class="ttdef"><b>Definition</b> <a href="_oc_apple_boot_policy_lib_8c_source.html#l01191">OcAppleBootPolicyLib.c:1191</a></div></div>
<div class="ttc" id="a_oc_apple_boot_policy_lib_8c_html_a5eccbacaef4740918f1cad923d9fe4f1"><div class="ttname"><a href="#a5eccbacaef4740918f1cad923d9fe4f1">BootPolicyGetBootFileEx</a></div><div class="ttdeci">EFI_STATUS EFIAPI BootPolicyGetBootFileEx(IN EFI_HANDLE Device, IN BOOT_POLICY_ACTION Action, OUT EFI_DEVICE_PATH_PROTOCOL **FilePath)</div><div class="ttdef"><b>Definition</b> <a href="_oc_apple_boot_policy_lib_8c_source.html#l01040">OcAppleBootPolicyLib.c:1040</a></div></div>
<div class="ttc" id="a_oc_apple_boot_policy_lib_8c_html_a6e2a7ec93b6a0d93a3e97222f93714ad"><div class="ttname"><a href="#a6e2a7ec93b6a0d93a3e97222f93714ad">BootPolicyGetBootFile</a></div><div class="ttdeci">EFI_STATUS EFIAPI BootPolicyGetBootFile(IN EFI_HANDLE Device, IN OUT EFI_DEVICE_PATH_PROTOCOL **FilePath)</div><div class="ttdef"><b>Definition</b> <a href="_oc_apple_boot_policy_lib_8c_source.html#l00932">OcAppleBootPolicyLib.c:932</a></div></div>
<div class="ttc" id="a_oc_apple_boot_policy_lib_8c_html_aa404f7b9cd90b2bd2e167aad870ebbf9"><div class="ttname"><a href="#aa404f7b9cd90b2bd2e167aad870ebbf9">BootPolicyGetApfsRecoveryFilePath</a></div><div class="ttdeci">EFI_STATUS EFIAPI BootPolicyGetApfsRecoveryFilePath(IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN CONST CHAR16 *PathName, OUT CHAR16 **FullPathName, OUT VOID **Reserved, OUT EFI_FILE_PROTOCOL **Root, OUT EFI_HANDLE *DeviceHandle)</div><div class="ttdef"><b>Definition</b> <a href="_oc_apple_boot_policy_lib_8c_source.html#l01438">OcAppleBootPolicyLib.c:1438</a></div></div>
</div><!-- fragment --><p>The <a class="el" href="struct_a_p_p_l_e___b_o_o_t___p_o_l_i_c_y___p_r_o_t_o_c_o_l.html">APPLE_BOOT_POLICY_PROTOCOL</a> instance to get installed. </p>

<p class="definition">Definition at line <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html#l00131">131</a> of file <a class="el" href="_oc_apple_boot_policy_lib_8c_source.html">OcAppleBootPolicyLib.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="dir_fc9b6eb135dc9ba3054ec340cec4d7c8.html">OcAppleBootPolicyLib</a></li><li class="navelem"><a class="el" href="_oc_apple_boot_policy_lib_8c.html">OcAppleBootPolicyLib.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
