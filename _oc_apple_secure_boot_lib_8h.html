<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Include/Acidanthera/Library/OcAppleSecureBootLib.h File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_oc_apple_secure_boot_lib_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">OcAppleSecureBootLib.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="_apple_secure_boot_8h_source.html">Protocol/AppleSecureBoot.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_img4_verification_8h_source.html">Protocol/AppleImg4Verification.h</a>&gt;</code><br />
</div>
<p><a href="_oc_apple_secure_boot_lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa02220024bf536752cea0082f322b0b4" id="r_aa02220024bf536752cea0082f322b0b4"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa02220024bf536752cea0082f322b0b4">OcAppleSecureBootBootstrapValues</a> (IN CONST CHAR8 *Model, IN UINT64 Ecid OPTIONAL)</td></tr>
<tr class="separator:aa02220024bf536752cea0082f322b0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74922828746424b6256db67d3d421396" id="r_a74922828746424b6256db67d3d421396"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_apple_secure_boot_8h.html#a1f2969a0f81315b803230aa29c1869d5">APPLE_SECURE_BOOT_PROTOCOL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a74922828746424b6256db67d3d421396">OcAppleSecureBootInstallProtocol</a> (IN BOOLEAN Reinstall, IN UINT8 SbPolicy, IN UINT8 SbWinPolicy OPTIONAL, IN BOOLEAN SbWinPolicyValid)</td></tr>
<tr class="separator:a74922828746424b6256db67d3d421396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e3d3d897a9074582ddc68b9d07be7b" id="r_a03e3d3d897a9074582ddc68b9d07be7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_apple_secure_boot_8h.html#a1f2969a0f81315b803230aa29c1869d5">APPLE_SECURE_BOOT_PROTOCOL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03e3d3d897a9074582ddc68b9d07be7b">OcAppleSecureBootGetProtocol</a> (VOID)</td></tr>
<tr class="separator:a03e3d3d897a9074582ddc68b9d07be7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17b2b1fbc34ba8b8b62d77f1cba9f24" id="r_af17b2b1fbc34ba8b8b62d77f1cba9f24"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af17b2b1fbc34ba8b8b62d77f1cba9f24">OcAppleSecureBootSetDmgLoading</a> (IN BOOLEAN LoadingDmg)</td></tr>
<tr class="separator:af17b2b1fbc34ba8b8b62d77f1cba9f24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafa291449d78821d6233262a92fcf1df" id="r_aafa291449d78821d6233262a92fcf1df"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aafa291449d78821d6233262a92fcf1df">OcAppleSecureBootGetDmgLoading</a> (OUT UINT8 *RealPolicy OPTIONAL)</td></tr>
<tr class="separator:aafa291449d78821d6233262a92fcf1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2659b260b0df13981db3c6bb2ced0a74" id="r_a2659b260b0df13981db3c6bb2ced0a74"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2659b260b0df13981db3c6bb2ced0a74">OcAppleSecureBootVerify</a> (IN EFI_DEVICE_PATH_PROTOCOL *DevicePath, IN VOID *SourceBuffer, IN UINTN SourceSize)</td></tr>
<tr class="separator:a2659b260b0df13981db3c6bb2ced0a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2019, Download-Fritz. All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_oc_apple_secure_boot_lib_8h_source.html">OcAppleSecureBootLib.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa02220024bf536752cea0082f322b0b4" name="aa02220024bf536752cea0082f322b0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa02220024bf536752cea0082f322b0b4">&#9670;&#160;</a></span>OcAppleSecureBootBootstrapValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcAppleSecureBootBootstrapValues </td>
          <td>(</td>
          <td class="paramtype">IN CONST CHAR8 *</td>          <td class="paramname"><span class="paramname"><em>Model</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT64 Ecid</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bootstrap NVRAM and library values for secure booting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Model</td><td>Secure boot model (without ap suffix in lower-case). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Ecid</td><td>Enclave identifier, optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>On success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html#l00089">89</a> of file <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html">OcAppleSecureBootLib.c</a>.</p>

</div>
</div>
<a id="aafa291449d78821d6233262a92fcf1df" name="aafa291449d78821d6233262a92fcf1df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafa291449d78821d6233262a92fcf1df">&#9670;&#160;</a></span>OcAppleSecureBootGetDmgLoading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN OcAppleSecureBootGetDmgLoading </td>
          <td>(</td>
          <td class="paramtype">OUT UINT8 *RealPolicy</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get DMG loading status on Apple Secure Boot protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">RealPolicy</td><td>Actual secure boot policy, optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>when loading DMG. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html#l01010">1010</a> of file <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html">OcAppleSecureBootLib.c</a>.</p>

</div>
</div>
<a id="a03e3d3d897a9074582ddc68b9d07be7b" name="a03e3d3d897a9074582ddc68b9d07be7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e3d3d897a9074582ddc68b9d07be7b">&#9670;&#160;</a></span>OcAppleSecureBootGetProtocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_apple_secure_boot_8h.html#a1f2969a0f81315b803230aa29c1869d5">APPLE_SECURE_BOOT_PROTOCOL</a> * OcAppleSecureBootGetProtocol </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain initialised Apple Secure Boot protocol.</p>
<dl class="section return"><dt>Returns</dt><dd>initialised protocol. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html#l00976">976</a> of file <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html">OcAppleSecureBootLib.c</a>.</p>

</div>
</div>
<a id="a74922828746424b6256db67d3d421396" name="a74922828746424b6256db67d3d421396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74922828746424b6256db67d3d421396">&#9670;&#160;</a></span>OcAppleSecureBootInstallProtocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_apple_secure_boot_8h.html#a1f2969a0f81315b803230aa29c1869d5">APPLE_SECURE_BOOT_PROTOCOL</a> * OcAppleSecureBootInstallProtocol </td>
          <td>(</td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>Reinstall</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8</td>          <td class="paramname"><span class="paramname"><em>SbPolicy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8 SbWinPolicy</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>SbWinPolicyValid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install and initialise the Apple Secure Boot protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Reinstall</td><td>Replace any installed protocol. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SbPolicy</td><td>Apple Secure Boot Policy to install. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SbWinPolicy</td><td>Apple Secure Boot Windows Policy to install. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SbWinPolicyValid</td><td>Whether SbWinPolicy should be installed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Installed or located protocol. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>There was an error locating or installing the protocol. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html#l00890">890</a> of file <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html">OcAppleSecureBootLib.c</a>.</p>

</div>
</div>
<a id="af17b2b1fbc34ba8b8b62d77f1cba9f24" name="af17b2b1fbc34ba8b8b62d77f1cba9f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af17b2b1fbc34ba8b8b62d77f1cba9f24">&#9670;&#160;</a></span>OcAppleSecureBootSetDmgLoading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID OcAppleSecureBootSetDmgLoading </td>
          <td>(</td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>LoadingDmg</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Report DMG loading to Apple Secure Boot protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LoadingDmg</td><td>TRUE after loading DMG. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html#l00985">985</a> of file <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html">OcAppleSecureBootLib.c</a>.</p>

</div>
</div>
<a id="a2659b260b0df13981db3c6bb2ced0a74" name="a2659b260b0df13981db3c6bb2ced0a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2659b260b0df13981db3c6bb2ced0a74">&#9670;&#160;</a></span>OcAppleSecureBootVerify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcAppleSecureBootVerify </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>SourceBuffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>SourceSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform image verification at path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>Path to the image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SourceBuffer</td><td>Image contents. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SourceSize</td><td>Image size.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">EFI_SECURITY_VIOLATION</td><td>when corrupted signature (should abort and die). </td></tr>
    <tr><td class="paramname">EFI_ERROR</td><td>when other errors happened (can continue with UEFI loader). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html#l01022">1022</a> of file <a class="el" href="_oc_apple_secure_boot_lib_8c_source.html">OcAppleSecureBootLib.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_856524284ebe840938865dc061f982fb.html">Include</a></li><li class="navelem"><a class="el" href="dir_072ac3ce17e10eea8fb0df9111f63de0.html">Acidanthera</a></li><li class="navelem"><a class="el" href="dir_b21da603347aea670fe2577999e935f3.html">Library</a></li><li class="navelem"><a class="el" href="_oc_apple_secure_boot_lib_8h.html">OcAppleSecureBootLib.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
