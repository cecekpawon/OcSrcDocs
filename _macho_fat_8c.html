<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Library/OcMachoLib/MachoFat.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_macho_fat_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">MachoFat.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Uefi.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_macho_image_8h_source.html">IndustryStandard/AppleMachoImage.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_fat_binary_image_8h_source.html">IndustryStandard/AppleFatBinaryImage.h</a>&gt;</code><br />
<code>#include &lt;Library/BaseLib.h&gt;</code><br />
<code>#include &lt;Library/BaseMemoryLib.h&gt;</code><br />
<code>#include &lt;Library/BaseOverflowLib.h&gt;</code><br />
<code>#include &lt;Library/DebugLib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_macho_lib_8h_source.html">Library/OcMachoLib.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="_oc_macho_lib_internal_8h_source.html">OcMachoLibInternal.h</a>&quot;</code><br />
</div>
<p><a href="_macho_fat_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac2cfb2144216a6631c3d7cf1bc08671b" id="r_ac2cfb2144216a6631c3d7cf1bc08671b"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2cfb2144216a6631c3d7cf1bc08671b">FatGetArchitectureOffset</a> (IN CONST UINT8 *<a class="el" href="_oc_typing_lib_8h.html#a71473576373bdac9b4a2748939f53419">Buffer</a>, IN UINT32 BufferSize, IN UINT32 FullSize, IN <a class="el" href="_apple_macho_image_8h.html#a83510bae6d9f4d9494c9bfdca01bdb67">MACH_CPU_TYPE</a> CpuType, OUT UINT32 *FatOffset, OUT UINT32 *FatSize)</td></tr>
<tr class="separator:ac2cfb2144216a6631c3d7cf1bc08671b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a662beb53a196722149736d87daecc3b6" id="r_a662beb53a196722149736d87daecc3b6"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a662beb53a196722149736d87daecc3b6">FatFilterArchitectureByType</a> (IN OUT UINT8 **FileData, IN OUT UINT32 *FileSize, IN <a class="el" href="_apple_macho_image_8h.html#a83510bae6d9f4d9494c9bfdca01bdb67">MACH_CPU_TYPE</a> CpuType)</td></tr>
<tr class="separator:a662beb53a196722149736d87daecc3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac130c901ea49b33ef924a901538290a9" id="r_ac130c901ea49b33ef924a901538290a9"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac130c901ea49b33ef924a901538290a9">FatFilterArchitecture32</a> (IN OUT UINT8 **FileData, IN OUT UINT32 *FileSize)</td></tr>
<tr class="separator:ac130c901ea49b33ef924a901538290a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6995288885d1c11008a90fa4738b14a4" id="r_a6995288885d1c11008a90fa4738b14a4"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6995288885d1c11008a90fa4738b14a4">FatFilterArchitecture64</a> (IN OUT UINT8 **FileData, IN OUT UINT32 *FileSize)</td></tr>
<tr class="separator:a6995288885d1c11008a90fa4738b14a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2020, Goldfish64. All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_macho_fat_8c_source.html">MachoFat.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac130c901ea49b33ef924a901538290a9" name="ac130c901ea49b33ef924a901538290a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac130c901ea49b33ef924a901538290a9">&#9670;&#160;</a></span>FatFilterArchitecture32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS FatFilterArchitecture32 </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINT8 **</td>          <td class="paramname"><span class="paramname"><em>FileData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINT32 *</td>          <td class="paramname"><span class="paramname"><em>FileSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves file pointer and size to point to x86 slice in case FAT Mach-O is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FileData</td><td>Pointer to pointer of the file's data. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FileSize</td><td>Pointer to file size of FileData.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EFI_SUCCESS if no FAT, or a valid 32-bit arch exists. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_macho_fat_8c_source.html#l00142">142</a> of file <a class="el" href="_macho_fat_8c_source.html">MachoFat.c</a>.</p>

</div>
</div>
<a id="a6995288885d1c11008a90fa4738b14a4" name="a6995288885d1c11008a90fa4738b14a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6995288885d1c11008a90fa4738b14a4">&#9670;&#160;</a></span>FatFilterArchitecture64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS FatFilterArchitecture64 </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINT8 **</td>          <td class="paramname"><span class="paramname"><em>FileData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINT32 *</td>          <td class="paramname"><span class="paramname"><em>FileSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves file pointer and size to point to x86_64 slice in case FAT Mach-O is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FileData</td><td>Pointer to pointer of the file's data. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FileSize</td><td>Pointer to file size of FileData.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EFI_SUCCESS if no FAT, or a valid 64-bit arch exists. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_macho_fat_8c_source.html#l00151">151</a> of file <a class="el" href="_macho_fat_8c_source.html">MachoFat.c</a>.</p>

</div>
</div>
<a id="a662beb53a196722149736d87daecc3b6" name="a662beb53a196722149736d87daecc3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a662beb53a196722149736d87daecc3b6">&#9670;&#160;</a></span>FatFilterArchitectureByType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS FatFilterArchitectureByType </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINT8 **</td>          <td class="paramname"><span class="paramname"><em>FileData</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINT32 *</td>          <td class="paramname"><span class="paramname"><em>FileSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_apple_macho_image_8h.html#a83510bae6d9f4d9494c9bfdca01bdb67">MACH_CPU_TYPE</a></td>          <td class="paramname"><span class="paramname"><em>CpuType</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Moves file pointer and size to point to specified slice in case FAT Mach-O is used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FileData</td><td>Pointer to pointer of the file's data. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">FileSize</td><td>Pointer to file size of FileData. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CpuType</td><td>Desired CPU slice to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EFI_SUCCESS if no FAT, or arch was found in valid FAT image. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_macho_fat_8c_source.html#l00116">116</a> of file <a class="el" href="_macho_fat_8c_source.html">MachoFat.c</a>.</p>

</div>
</div>
<a id="ac2cfb2144216a6631c3d7cf1bc08671b" name="ac2cfb2144216a6631c3d7cf1bc08671b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2cfb2144216a6631c3d7cf1bc08671b">&#9670;&#160;</a></span>FatGetArchitectureOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS FatGetArchitectureOffset </td>
          <td>(</td>
          <td class="paramtype">IN CONST UINT8 *</td>          <td class="paramname"><span class="paramname"><em>Buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT32</td>          <td class="paramname"><span class="paramname"><em>BufferSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT32</td>          <td class="paramname"><span class="paramname"><em>FullSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_apple_macho_image_8h.html#a83510bae6d9f4d9494c9bfdca01bdb67">MACH_CPU_TYPE</a></td>          <td class="paramname"><span class="paramname"><em>CpuType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT32 *</td>          <td class="paramname"><span class="paramname"><em>FatOffset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT32 *</td>          <td class="paramname"><span class="paramname"><em>FatSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns offset and size of specified slice in case FAT Mach-O is used. If no FAT is detected, FatOffset and FatSize are set to 0 and FullSize respectively.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to the buffer data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BufferSize</td><td>Size of Buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FullSize</td><td>Full file size, used to validate sizes within FAT structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CpuType</td><td>Desired CPU slice to use. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FatOffset</td><td>Pointer to offset of FAT slice. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FatSize</td><td>Pointer to size of FAT slice.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EFI_SUCCESS if no FAT, or arch was found in valid FAT image. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_macho_fat_8c_source.html#l00027">27</a> of file <a class="el" href="_macho_fat_8c_source.html">MachoFat.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="dir_e795e0eaa05eff0a6cad128a60f01d6d.html">OcMachoLib</a></li><li class="navelem"><a class="el" href="_macho_fat_8c.html">MachoFat.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
