<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Platform/OpenVariableRuntimeDxe/VariableExLib.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_variable_ex_lib_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">VariableExLib.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_variable_8h_source.html">Variable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_variable_parsing_8h_source.html">VariableParsing.h</a>&quot;</code><br />
</div>
<p><a href="_variable_ex_lib_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad7c50e2900466b2249cdac83b9cbfb0d" id="r_ad7c50e2900466b2249cdac83b9cbfb0d"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7c50e2900466b2249cdac83b9cbfb0d">VariableExLibFindVariable</a> (IN CHAR16 *VariableName, IN EFI_GUID *VendorGuid, OUT AUTH_VARIABLE_INFO *AuthVariableInfo)</td></tr>
<tr class="separator:ad7c50e2900466b2249cdac83b9cbfb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2dd2513580575722f23edeb5d99a603" id="r_af2dd2513580575722f23edeb5d99a603"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af2dd2513580575722f23edeb5d99a603">VariableExLibFindNextVariable</a> (IN CHAR16 *VariableName, IN EFI_GUID *VendorGuid, OUT AUTH_VARIABLE_INFO *AuthVariableInfo)</td></tr>
<tr class="separator:af2dd2513580575722f23edeb5d99a603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf252e3de8aa915d253294f241980215" id="r_adf252e3de8aa915d253294f241980215"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf252e3de8aa915d253294f241980215">VariableExLibUpdateVariable</a> (IN AUTH_VARIABLE_INFO *AuthVariableInfo)</td></tr>
<tr class="separator:adf252e3de8aa915d253294f241980215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3996209ef2064cd537e5a22d13524887" id="r_a3996209ef2064cd537e5a22d13524887"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3996209ef2064cd537e5a22d13524887">VariableExLibGetScratchBuffer</a> (IN OUT UINTN *ScratchBufferSize, OUT VOID **ScratchBuffer)</td></tr>
<tr class="separator:a3996209ef2064cd537e5a22d13524887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f1f681300fa3b5be37eaa7ed364160" id="r_a96f1f681300fa3b5be37eaa7ed364160"><td class="memItemLeft" align="right" valign="top">BOOLEAN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96f1f681300fa3b5be37eaa7ed364160">VariableExLibCheckRemainingSpaceForConsistency</a> (IN UINT32 Attributes,...)</td></tr>
<tr class="separator:a96f1f681300fa3b5be37eaa7ed364160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951ee2ff102336e8271d4feb173e79ff" id="r_a951ee2ff102336e8271d4feb173e79ff"><td class="memItemLeft" align="right" valign="top">BOOLEAN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a951ee2ff102336e8271d4feb173e79ff">VariableExLibAtRuntime</a> (VOID)</td></tr>
<tr class="separator:a951ee2ff102336e8271d4feb173e79ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides variable driver extended services.</p>
<p>Copyright (c) 2015 - 2019, Intel Corporation. All rights reserved.<br  />
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>

<p class="definition">Definition in file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a951ee2ff102336e8271d4feb173e79ff" name="a951ee2ff102336e8271d4feb173e79ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951ee2ff102336e8271d4feb173e79ff">&#9670;&#160;</a></span>VariableExLibAtRuntime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN EFIAPI VariableExLibAtRuntime </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return TRUE if at OS runtime.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>If at OS runtime. </td></tr>
    <tr><td class="paramname">FALSE</td><td>If at boot time. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_ex_lib_8c_source.html#l00253">253</a> of file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>

</div>
</div>
<a id="a96f1f681300fa3b5be37eaa7ed364160" name="a96f1f681300fa3b5be37eaa7ed364160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f1f681300fa3b5be37eaa7ed364160">&#9670;&#160;</a></span>VariableExLibCheckRemainingSpaceForConsistency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN EFIAPI VariableExLibCheckRemainingSpaceForConsistency </td>
          <td>(</td>
          <td class="paramtype">IN UINT32</td>          <td class="paramname"><span class="paramname"><em>Attributes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is to check if the remaining variable space is enough to set all Variables from argument list successfully. The purpose of the check is to keep the consistency of the Variables to be in variable storage.</p>
<p>Note: Variables are assumed to be in same storage. The set sequence of Variables will be same with the sequence of VariableEntry from argument list, so follow the argument sequence to check the Variables.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Attributes</td><td>Variable attributes for Variable entries. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">...</td><td>The variable argument list with type VARIABLE_ENTRY_CONSISTENCY *. A NULL terminates the list. The VariableSize of VARIABLE_ENTRY_CONSISTENCY is the variable data size as input. It will be changed to variable total size as output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Have enough variable space to set the Variables successfully. </td></tr>
    <tr><td class="paramname">FALSE</td><td>No enough variable space to set the Variables successfully. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_ex_lib_8c_source.html#l00227">227</a> of file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>

</div>
</div>
<a id="af2dd2513580575722f23edeb5d99a603" name="af2dd2513580575722f23edeb5d99a603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2dd2513580575722f23edeb5d99a603">&#9670;&#160;</a></span>VariableExLibFindNextVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI VariableExLibFindNextVariable </td>
          <td>(</td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VariableName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VendorGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT AUTH_VARIABLE_INFO *</td>          <td class="paramname"><span class="paramname"><em>AuthVariableInfo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds next variable in storage blocks of volatile and non-volatile storage areas.</p>
<p>This code finds next variable in storage blocks of volatile and non-volatile storage areas. If VariableName is an empty string, then we just return the first qualified variable without comparing VariableName and VendorGuid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">VariableName</td><td>Name of the variable to be found. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VendorGuid</td><td>Variable vendor GUID to be found. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">AuthVariableInfo</td><td>Pointer to AUTH_VARIABLE_INFO structure for output of the next variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>If VariableName is not an empty string, while VendorGuid is NULL. </td></tr>
    <tr><td class="paramname">EFI_SUCCESS</td><td>Variable successfully found. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>Variable not found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_ex_lib_8c_source.html#l00092">92</a> of file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>

</div>
</div>
<a id="ad7c50e2900466b2249cdac83b9cbfb0d" name="ad7c50e2900466b2249cdac83b9cbfb0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c50e2900466b2249cdac83b9cbfb0d">&#9670;&#160;</a></span>VariableExLibFindVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI VariableExLibFindVariable </td>
          <td>(</td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VariableName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VendorGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT AUTH_VARIABLE_INFO *</td>          <td class="paramname"><span class="paramname"><em>AuthVariableInfo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds variable in storage blocks of volatile and non-volatile storage areas.</p>
<p>This code finds variable in storage blocks of volatile and non-volatile storage areas. If VariableName is an empty string, then we just return the first qualified variable without comparing VariableName and VendorGuid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">VariableName</td><td>Name of the variable to be found. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VendorGuid</td><td>Variable vendor GUID to be found. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">AuthVariableInfo</td><td>Pointer to AUTH_VARIABLE_INFO structure for output of the variable found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>If VariableName is not an empty string, while VendorGuid is NULL. </td></tr>
    <tr><td class="paramname">EFI_SUCCESS</td><td>Variable successfully found. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>Variable not found </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_ex_lib_8c_source.html#l00032">32</a> of file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>

</div>
</div>
<a id="a3996209ef2064cd537e5a22d13524887" name="a3996209ef2064cd537e5a22d13524887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3996209ef2064cd537e5a22d13524887">&#9670;&#160;</a></span>VariableExLibGetScratchBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI VariableExLibGetScratchBuffer </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>ScratchBufferSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>ScratchBuffer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get scratch buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ScratchBufferSize</td><td>Scratch buffer size. If input size is greater than the maximum supported buffer size, this value contains the maximum supported buffer size as output. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ScratchBuffer</td><td>Pointer to scratch buffer address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Get scratch buffer successfully. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>If input size is greater than the maximum supported buffer size. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_ex_lib_8c_source.html#l00189">189</a> of file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>

</div>
</div>
<a id="adf252e3de8aa915d253294f241980215" name="adf252e3de8aa915d253294f241980215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf252e3de8aa915d253294f241980215">&#9670;&#160;</a></span>VariableExLibUpdateVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI VariableExLibUpdateVariable </td>
          <td>(</td>
          <td class="paramtype">IN AUTH_VARIABLE_INFO *</td>          <td class="paramname"><span class="paramname"><em>AuthVariableInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the variable region with Variable information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">AuthVariableInfo</td><td>Pointer AUTH_VARIABLE_INFO structure for input of the variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The update operation is success. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>Invalid parameter. </td></tr>
    <tr><td class="paramname">EFI_WRITE_PROTECTED</td><td>Variable is write-protected. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>There is not enough resource. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_ex_lib_8c_source.html#l00155">155</a> of file <a class="el" href="_variable_ex_lib_8c_source.html">VariableExLib.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_46f0a310448968fe371c870cd868aa1f.html">Platform</a></li><li class="navelem"><a class="el" href="dir_2721e2b3ed45f8a6318d9316243ecd2b.html">OpenVariableRuntimeDxe</a></li><li class="navelem"><a class="el" href="_variable_ex_lib_8c.html">VariableExLib.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
