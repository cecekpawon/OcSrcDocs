<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Platform/OpenUsbKbDxe/KeyBoard.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_key_board_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">KeyBoard.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_key_board_8h_source.html">KeyBoard.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="_apple_hid_8h_source.html">IndustryStandard/AppleHid.h</a>&gt;</code><br />
<code>#include &lt;Guid/UsbKeyBoardLayout.h&gt;</code><br />
<code>#include &lt;Library/ResetSystemLib.h&gt;</code><br />
</div>
<p><a href="_key_board_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac409f0ccda0c62aac8ef820d6e41d8a1" id="r_ac409f0ccda0c62aac8ef820d6e41d8a1"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac409f0ccda0c62aac8ef820d6e41d8a1">IsUSBKeyboard</a> (IN EFI_USB_IO_PROTOCOL *UsbIo)</td></tr>
<tr class="separator:ac409f0ccda0c62aac8ef820d6e41d8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08316dd3412afe383c9964ecbe58e1a3" id="r_a08316dd3412afe383c9964ecbe58e1a3"><td class="memItemLeft" align="right" valign="top">EFI_KEY_DESCRIPTOR *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08316dd3412afe383c9964ecbe58e1a3">GetKeyDescriptor</a> (IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice, IN UINT8 KeyCode)</td></tr>
<tr class="separator:a08316dd3412afe383c9964ecbe58e1a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96427be988e3bcd65a4280ad63a1098a" id="r_a96427be988e3bcd65a4280ad63a1098a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___n_s___k_e_y.html">USB_NS_KEY</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96427be988e3bcd65a4280ad63a1098a">FindUsbNsKey</a> (IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice, IN EFI_KEY_DESCRIPTOR *KeyDescriptor)</td></tr>
<tr class="separator:a96427be988e3bcd65a4280ad63a1098a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306c89f683c4c87f2aa065cad97c9ed1" id="r_a306c89f683c4c87f2aa065cad97c9ed1"><td class="memItemLeft" align="right" valign="top">EFI_KEY_DESCRIPTOR *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a306c89f683c4c87f2aa065cad97c9ed1">FindPhysicalKey</a> (IN <a class="el" href="struct_u_s_b___n_s___k_e_y.html">USB_NS_KEY</a> *UsbNsKey, IN EFI_KEY_DESCRIPTOR *KeyDescriptor)</td></tr>
<tr class="separator:a306c89f683c4c87f2aa065cad97c9ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79adae3dcdc0f329c48baaa1fd3d789e" id="r_a79adae3dcdc0f329c48baaa1fd3d789e"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79adae3dcdc0f329c48baaa1fd3d789e">ReleaseKeyboardLayoutResources</a> (IN OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice)</td></tr>
<tr class="separator:a79adae3dcdc0f329c48baaa1fd3d789e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1000b492580a2a3c19533cd8a0ed74a" id="r_af1000b492580a2a3c19533cd8a0ed74a"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1000b492580a2a3c19533cd8a0ed74a">InitKeyboardLayout</a> (OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice)</td></tr>
<tr class="separator:af1000b492580a2a3c19533cd8a0ed74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d2bc43a3da1aa3a571abb7a1a57d50d" id="r_a4d2bc43a3da1aa3a571abb7a1a57d50d"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4d2bc43a3da1aa3a571abb7a1a57d50d">InitUSBKeyboard</a> (IN OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice)</td></tr>
<tr class="separator:a4d2bc43a3da1aa3a571abb7a1a57d50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0824d42abb162adb33e088eee0bd8b62" id="r_a0824d42abb162adb33e088eee0bd8b62"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0824d42abb162adb33e088eee0bd8b62">KeyboardHandler</a> (IN VOID *Data, IN UINTN DataLength, IN VOID *Context, IN UINT32 Result)</td></tr>
<tr class="separator:a0824d42abb162adb33e088eee0bd8b62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89abeaac408d53469c0edde5734263b5" id="r_a89abeaac408d53469c0edde5734263b5"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89abeaac408d53469c0edde5734263b5">USBParseKey</a> (IN OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice, OUT UINT8 *KeyCode)</td></tr>
<tr class="separator:a89abeaac408d53469c0edde5734263b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11ce8001c33417e7291c077ebb6a88b" id="r_ac11ce8001c33417e7291c077ebb6a88b"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac11ce8001c33417e7291c077ebb6a88b">InitializeKeyState</a> (IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice, OUT EFI_KEY_STATE *KeyState)</td></tr>
<tr class="separator:ac11ce8001c33417e7291c077ebb6a88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0cfa1b4825e37bad5110c9a5c17cdc3" id="r_af0cfa1b4825e37bad5110c9a5c17cdc3"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0cfa1b4825e37bad5110c9a5c17cdc3">UsbKeyCodeToEfiInputKey</a> (IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice, IN UINT8 KeyCode, OUT EFI_KEY_DATA *KeyData)</td></tr>
<tr class="separator:af0cfa1b4825e37bad5110c9a5c17cdc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa551156e7560a962a49762201d3fb260" id="r_aa551156e7560a962a49762201d3fb260"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa551156e7560a962a49762201d3fb260">InitQueue</a> (IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *Queue, IN UINTN ItemSize)</td></tr>
<tr class="separator:aa551156e7560a962a49762201d3fb260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c09c651b5e8ce58f939964c9ede7a90" id="r_a4c09c651b5e8ce58f939964c9ede7a90"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c09c651b5e8ce58f939964c9ede7a90">DestroyQueue</a> (IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *Queue)</td></tr>
<tr class="separator:a4c09c651b5e8ce58f939964c9ede7a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45ee117d8c9a775a96e3c4a074b533f" id="r_af45ee117d8c9a775a96e3c4a074b533f"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af45ee117d8c9a775a96e3c4a074b533f">IsQueueEmpty</a> (IN <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *Queue)</td></tr>
<tr class="separator:af45ee117d8c9a775a96e3c4a074b533f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14ef845f977b52b18fa6dea68c8f941" id="r_ac14ef845f977b52b18fa6dea68c8f941"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac14ef845f977b52b18fa6dea68c8f941">IsQueueFull</a> (IN <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *Queue)</td></tr>
<tr class="separator:ac14ef845f977b52b18fa6dea68c8f941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5886ee6b8f1333b30540645362c49ad" id="r_aa5886ee6b8f1333b30540645362c49ad"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5886ee6b8f1333b30540645362c49ad">Enqueue</a> (IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *Queue, IN VOID *Item, IN UINTN ItemSize)</td></tr>
<tr class="separator:aa5886ee6b8f1333b30540645362c49ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fb948478db516181612f2a4eed06b5" id="r_a50fb948478db516181612f2a4eed06b5"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50fb948478db516181612f2a4eed06b5">Dequeue</a> (IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *Queue, OUT VOID *Item, IN UINTN ItemSize)</td></tr>
<tr class="separator:a50fb948478db516181612f2a4eed06b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1068fe0900483799b2a08120421da609" id="r_a1068fe0900483799b2a08120421da609"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1068fe0900483799b2a08120421da609">SetKeyLED</a> (IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *UsbKeyboardDevice)</td></tr>
<tr class="separator:a1068fe0900483799b2a08120421da609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bfdc92252a233acf43204ccef848c6" id="r_a04bfdc92252a233acf43204ccef848c6"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04bfdc92252a233acf43204ccef848c6">USBKeyboardRepeatHandler</a> (IN EFI_EVENT Event, IN VOID *Context)</td></tr>
<tr class="separator:a04bfdc92252a233acf43204ccef848c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a299d0949316379f46906e15abbf1a" id="r_a35a299d0949316379f46906e15abbf1a"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35a299d0949316379f46906e15abbf1a">USBKeyboardRecoveryHandler</a> (IN EFI_EVENT Event, IN VOID *Context)</td></tr>
<tr class="separator:a35a299d0949316379f46906e15abbf1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9e9baf8def9110cc5d8ada499648e206" id="r_a9e9baf8def9110cc5d8ada499648e206"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_u_s_b___k_e_y_b_o_a_r_d___l_a_y_o_u_t___p_a_c_k___b_i_n.html">USB_KEYBOARD_LAYOUT_PACK_BIN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e9baf8def9110cc5d8ada499648e206">mUsbKeyboardLayoutBin</a></td></tr>
<tr class="separator:a9e9baf8def9110cc5d8ada499648e206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28d4363d2398a90eced5d57a8fb8b7d" id="r_ad28d4363d2398a90eced5d57a8fb8b7d"><td class="memItemLeft" align="right" valign="top">UINT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad28d4363d2398a90eced5d57a8fb8b7d">EfiKeyToUsbKeyCodeConvertionTable</a> []</td></tr>
<tr class="separator:ad28d4363d2398a90eced5d57a8fb8b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb0a807e41a3de358a3657e4fc1b086" id="r_a9bb0a807e41a3de358a3657e4fc1b086"><td class="memItemLeft" align="right" valign="top">UINT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bb0a807e41a3de358a3657e4fc1b086">ModifierValueToEfiScanCodeConvertionTable</a> []</td></tr>
<tr class="separator:a9bb0a807e41a3de358a3657e4fc1b086"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper functions for USB Keyboard Driver.</p>
<p>Copyright (c) 2004 - 2018, Intel Corporation. All rights reserved.<br  />
 Portions Copyright (c) 2016 - 2018, Download-Fritz. All rights reserved.<br  />
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>

<p class="definition">Definition in file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a50fb948478db516181612f2a4eed06b5" name="a50fb948478db516181612f2a4eed06b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fb948478db516181612f2a4eed06b5">&#9670;&#160;</a></span>Dequeue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS Dequeue </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *</td>          <td class="paramname"><span class="paramname"><em>Queue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID *</td>          <td class="paramname"><span class="paramname"><em>Item</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ItemSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dequeue a item from the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Queue</td><td>Points to the queue. </td></tr>
    <tr><td class="paramname">Item</td><td>Receives the item. </td></tr>
    <tr><td class="paramname">ItemSize</td><td>Size of the item.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Item was successfully dequeued. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The queue is empty. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01683">1683</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a4c09c651b5e8ce58f939964c9ede7a90" name="a4c09c651b5e8ce58f939964c9ede7a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c09c651b5e8ce58f939964c9ede7a90">&#9670;&#160;</a></span>DestroyQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID DestroyQueue </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *</td>          <td class="paramname"><span class="paramname"><em>Queue</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy the queue</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Queue</td><td>Points to the queue. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01596">1596</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="aa5886ee6b8f1333b30540645362c49ad" name="aa5886ee6b8f1333b30540645362c49ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5886ee6b8f1333b30540645362c49ad">&#9670;&#160;</a></span>Enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID Enqueue </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *</td>          <td class="paramname"><span class="paramname"><em>Queue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Item</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ItemSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueue the item to the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Queue</td><td>Points to the queue. </td></tr>
    <tr><td class="paramname">Item</td><td>Points to the item to be enqueued. </td></tr>
    <tr><td class="paramname">ItemSize</td><td>Size of the item. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01648">1648</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a306c89f683c4c87f2aa065cad97c9ed1" name="a306c89f683c4c87f2aa065cad97c9ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306c89f683c4c87f2aa065cad97c9ed1">&#9670;&#160;</a></span>FindPhysicalKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_KEY_DESCRIPTOR * FindPhysicalKey </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___n_s___k_e_y.html">USB_NS_KEY</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbNsKey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_KEY_DESCRIPTOR *</td>          <td class="paramname"><span class="paramname"><em>KeyDescriptor</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find physical key definition for a given key descriptor.</p>
<p>For a specified non-spacing key, there are a list of physical keys following it. This function traverses the list of physical keys and tries to find the physical key matching the KeyDescriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbNsKey</td><td>The non-spacing key information. </td></tr>
    <tr><td class="paramname">KeyDescriptor</td><td>The key descriptor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The physical key definition. If no physical key is found, parameter KeyDescriptor is returned. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00442">442</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a96427be988e3bcd65a4280ad63a1098a" name="a96427be988e3bcd65a4280ad63a1098a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96427be988e3bcd65a4280ad63a1098a">&#9670;&#160;</a></span>FindUsbNsKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___n_s___k_e_y.html">USB_NS_KEY</a> * FindUsbNsKey </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_KEY_DESCRIPTOR *</td>          <td class="paramname"><span class="paramname"><em>KeyDescriptor</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find Non-Spacing key for given Key descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
    <tr><td class="paramname">KeyDescriptor</td><td>Key descriptor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Non-Spacing key corresponding to KeyDescriptor NULL means not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00402">402</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a08316dd3412afe383c9964ecbe58e1a3" name="a08316dd3412afe383c9964ecbe58e1a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08316dd3412afe383c9964ecbe58e1a3">&#9670;&#160;</a></span>GetKeyDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_KEY_DESCRIPTOR * GetKeyDescriptor </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8</td>          <td class="paramname"><span class="paramname"><em>KeyCode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find Key Descriptor in Key Convertion Table given its USB keycode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
    <tr><td class="paramname">KeyCode</td><td>USB Keycode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Key Descriptor in Key Convertion Table. NULL means not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00365">365</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="ac11ce8001c33417e7291c077ebb6a88b" name="ac11ce8001c33417e7291c077ebb6a88b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11ce8001c33417e7291c077ebb6a88b">&#9670;&#160;</a></span>InitializeKeyState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID InitializeKeyState </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_KEY_STATE *</td>          <td class="paramname"><span class="paramname"><em>KeyState</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the key state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
    <tr><td class="paramname">KeyState</td><td>A pointer to receive the key state information. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01335">1335</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="af1000b492580a2a3c19533cd8a0ed74a" name="af1000b492580a2a3c19533cd8a0ed74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1000b492580a2a3c19533cd8a0ed74a">&#9670;&#160;</a></span>InitKeyboardLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS InitKeyboardLayout </td>
          <td>(</td>
          <td class="paramtype">OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize USB keyboard layout.</p>
<p>This function initializes Key Convertion Table for the USB keyboard device. It first tries to retrieve layout from HII database. If failed and default layout is enabled, then it just uses the default layout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Initialization succeeded. </td></tr>
    <tr><td class="paramname">EFI_NOT_READY</td><td>Keyboard layout cannot be retrieve from HII database, and default layout is disabled. </td></tr>
    <tr><td class="paramname">Other</td><td>Fail to register event to EFI_HII_SET_KEYBOARD_LAYOUT_EVENT_GUID group. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00515">515</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="aa551156e7560a962a49762201d3fb260" name="aa551156e7560a962a49762201d3fb260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa551156e7560a962a49762201d3fb260">&#9670;&#160;</a></span>InitQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID InitQueue </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *</td>          <td class="paramname"><span class="paramname"><em>Queue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ItemSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Queue</td><td>Points to the queue. </td></tr>
    <tr><td class="paramname">ItemSize</td><td>Size of the single item. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01567">1567</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a4d2bc43a3da1aa3a571abb7a1a57d50d" name="a4d2bc43a3da1aa3a571abb7a1a57d50d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d2bc43a3da1aa3a571abb7a1a57d50d">&#9670;&#160;</a></span>InitUSBKeyboard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS InitUSBKeyboard </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize USB keyboard device and all private data structures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Initialization is successful. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>Keyboard initialization failed. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00618">618</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="af45ee117d8c9a775a96e3c4a074b533f" name="af45ee117d8c9a775a96e3c4a074b533f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45ee117d8c9a775a96e3c4a074b533f">&#9670;&#160;</a></span>IsQueueEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN IsQueueEmpty </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *</td>          <td class="paramname"><span class="paramname"><em>Queue</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the queue is empty.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Queue</td><td>Points to the queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Queue is empty. </td></tr>
    <tr><td class="paramname">FALSE</td><td>Queue is not empty. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01613">1613</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="ac14ef845f977b52b18fa6dea68c8f941" name="ac14ef845f977b52b18fa6dea68c8f941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14ef845f977b52b18fa6dea68c8f941">&#9670;&#160;</a></span>IsQueueFull()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN IsQueueFull </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___s_i_m_p_l_e___q_u_e_u_e.html">USB_SIMPLE_QUEUE</a> *</td>          <td class="paramname"><span class="paramname"><em>Queue</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the queue is full.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Queue</td><td>Points to the queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Queue is full. </td></tr>
    <tr><td class="paramname">FALSE</td><td>Queue is not full. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01633">1633</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="ac409f0ccda0c62aac8ef820d6e41d8a1" name="ac409f0ccda0c62aac8ef820d6e41d8a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac409f0ccda0c62aac8ef820d6e41d8a1">&#9670;&#160;</a></span>IsUSBKeyboard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN IsUSBKeyboard </td>
          <td>(</td>
          <td class="paramtype">IN EFI_USB_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>UsbIo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uses USB I/O to check whether the device is a USB keyboard device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbIo</td><td>Pointer to a USB I/O protocol instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Device is a USB keyboard device. </td></tr>
    <tr><td class="paramname">FALSE</td><td>Device is a not USB keyboard device. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00324">324</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a0824d42abb162adb33e088eee0bd8b62" name="a0824d42abb162adb33e088eee0bd8b62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0824d42abb162adb33e088eee0bd8b62">&#9670;&#160;</a></span>KeyboardHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI KeyboardHandler </td>
          <td>(</td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>DataLength</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT32</td>          <td class="paramname"><span class="paramname"><em>Result</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handler function for USB keyboard's asynchronous interrupt transfer.</p>
<p>This function is the handler function for USB keyboard's asynchronous interrupt transfer to manage the keyboard. It parses the USB keyboard input report, and inserts data to keyboard buffer according to state of modifer keys and normal keys. Timer for repeat key is also set accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Data</td><td>A pointer to a buffer that is filled with key data which is retrieved via asynchronous interrupt transfer. </td></tr>
    <tr><td class="paramname">DataLength</td><td>Indicates the size of the data buffer. </td></tr>
    <tr><td class="paramname">Context</td><td>Pointing to <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
    <tr><td class="paramname">Result</td><td>Indicates the result of the asynchronous interrupt transfer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Asynchronous interrupt transfer is handled successfully. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>Hardware error occurs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00773">773</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a79adae3dcdc0f329c48baaa1fd3d789e" name="a79adae3dcdc0f329c48baaa1fd3d789e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79adae3dcdc0f329c48baaa1fd3d789e">&#9670;&#160;</a></span>ReleaseKeyboardLayoutResources()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID ReleaseKeyboardLayoutResources </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy resources for keyboard layout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00472">472</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a1068fe0900483799b2a08120421da609" name="a1068fe0900483799b2a08120421da609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1068fe0900483799b2a08120421da609">&#9670;&#160;</a></span>SetKeyLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID SetKeyLED </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets USB keyboard LED state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01712">1712</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a35a299d0949316379f46906e15abbf1a" name="a35a299d0949316379f46906e15abbf1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a299d0949316379f46906e15abbf1a">&#9670;&#160;</a></span>USBKeyboardRecoveryHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI USBKeyboardRecoveryHandler </td>
          <td>(</td>
          <td class="paramtype">IN EFI_EVENT</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handler for Delayed Recovery event.</p>
<p>This function is the handler for Delayed Recovery event triggered by timer. After a device error occurs, the event would be triggered with interval of EFI_USB_INTERRUPT_DELAY. EFI_USB_INTERRUPT_DELAY is defined in USB standard for error handling.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>The Delayed Recovery event. </td></tr>
    <tr><td class="paramname">Context</td><td>Points to the <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01803">1803</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a04bfdc92252a233acf43204ccef848c6" name="a04bfdc92252a233acf43204ccef848c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bfdc92252a233acf43204ccef848c6">&#9670;&#160;</a></span>USBKeyboardRepeatHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI USBKeyboardRepeatHandler </td>
          <td>(</td>
          <td class="paramtype">IN EFI_EVENT</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handler for Repeat Key event.</p>
<p>This function is the handler for Repeat Key event triggered by timer. After a repeatable key is pressed, the event would be triggered with interval of USBKBD_REPEAT_DELAY. Once the event is triggered, following trigger will come with interval of USBKBD_REPEAT_RATE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>The Repeat Key event. </td></tr>
    <tr><td class="paramname">Context</td><td>Points to the <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01756">1756</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="af0cfa1b4825e37bad5110c9a5c17cdc3" name="af0cfa1b4825e37bad5110c9a5c17cdc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0cfa1b4825e37bad5110c9a5c17cdc3">&#9670;&#160;</a></span>UsbKeyCodeToEfiInputKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS UsbKeyCodeToEfiInputKey </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8</td>          <td class="paramname"><span class="paramname"><em>KeyCode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_KEY_DATA *</td>          <td class="paramname"><span class="paramname"><em>KeyData</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts USB Keycode ranging from 0x4 to 0x65 to EFI_INPUT_KEY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
    <tr><td class="paramname">KeyCode</td><td>Indicates the key code that will be interpreted. </td></tr>
    <tr><td class="paramname">KeyData</td><td>A pointer to a buffer that is filled in with the keystroke information for the key that was pressed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Success. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>KeyCode is not in the range of 0x4 to 0x65. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>Translated EFI_INPUT_KEY has zero for both ScanCode and UnicodeChar. </td></tr>
    <tr><td class="paramname">EFI_NOT_READY</td><td>KeyCode represents a dead key with EFI_NS_KEY_MODIFIER </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>Keyboard layout is invalid. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01417">1417</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a89abeaac408d53469c0edde5734263b5" name="a89abeaac408d53469c0edde5734263b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89abeaac408d53469c0edde5734263b5">&#9670;&#160;</a></span>USBParseKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS USBParseKey </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> *</td>          <td class="paramname"><span class="paramname"><em>UsbKeyboardDevice</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT8 *</td>          <td class="paramname"><span class="paramname"><em>KeyCode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves a USB keycode after parsing the raw data in keyboard buffer.</p>
<p>This function parses keyboard buffer. It updates state of modifier key for <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instancem, and returns keycode for output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">UsbKeyboardDevice</td><td>The <a class="el" href="struct_u_s_b___k_b___d_e_v.html">USB_KB_DEV</a> instance. </td></tr>
    <tr><td class="paramname">KeyCode</td><td>Pointer to the USB keycode for output.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Keycode successfully parsed. </td></tr>
    <tr><td class="paramname">EFI_NOT_READY</td><td>Keyboard buffer is not ready for a valid keycode </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l01100">1100</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad28d4363d2398a90eced5d57a8fb8b7d" name="ad28d4363d2398a90eced5d57a8fb8b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad28d4363d2398a90eced5d57a8fb8b7d">&#9670;&#160;</a></span>EfiKeyToUsbKeyCodeConvertionTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT8 EfiKeyToUsbKeyCodeConvertionTable[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00154">154</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a9bb0a807e41a3de358a3657e4fc1b086" name="a9bb0a807e41a3de358a3657e4fc1b086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bb0a807e41a3de358a3657e4fc1b086">&#9670;&#160;</a></span>ModifierValueToEfiScanCodeConvertionTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINT8 ModifierValueToEfiScanCodeConvertionTable[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00266">266</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
<a id="a9e9baf8def9110cc5d8ada499648e206" name="a9e9baf8def9110cc5d8ada499648e206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e9baf8def9110cc5d8ada499648e206">&#9670;&#160;</a></span>mUsbKeyboardLayoutBin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_u_s_b___k_e_y_b_o_a_r_d___l_a_y_o_u_t___p_a_c_k___b_i_n.html">USB_KEYBOARD_LAYOUT_PACK_BIN</a> mUsbKeyboardLayoutBin</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_key_board_8c_source.html#l00018">18</a> of file <a class="el" href="_key_board_8c_source.html">KeyBoard.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_46f0a310448968fe371c870cd868aa1f.html">Platform</a></li><li class="navelem"><a class="el" href="dir_56667d2bc57f315de09b722ada9b650a.html">OpenUsbKbDxe</a></li><li class="navelem"><a class="el" href="_key_board_8c.html">KeyBoard.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
