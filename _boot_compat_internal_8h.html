<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Library/OcAfterBootCompatLib/BootCompatInternal.h File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_boot_compat_internal_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">BootCompatInternal.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Uefi.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_boot_args_8h_source.html">IndustryStandard/AppleBootArgs.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_efi_boot_rt_info_8h_source.html">IndustryStandard/AppleEfiBootRtInfo.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_after_boot_compat_lib_8h_source.html">Library/OcAfterBootCompatLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_boot_management_lib_8h_source.html">Library/OcBootManagementLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_debug_log_lib_8h_source.html">Library/OcDebugLogLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_memory_lib_8h_source.html">Library/OcMemoryLib.h</a>&gt;</code><br />
<code>#include &lt;Protocol/LoadedImage.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_firmware_runtime_8h_source.html">Protocol/OcFirmwareRuntime.h</a>&gt;</code><br />
</div>
<p><a href="_boot_compat_internal_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_a_l_l___g_a_t_e___j_u_m_p__.html">CALL_GATE_JUMP_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_t___r_e_l_o_c___p_r_o_t_e_c_t___i_n_f_o__.html">RT_RELOC_PROTECT_INFO_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_t___r_e_l_o_c___p_r_o_t_e_c_t___d_a_t_a__.html">RT_RELOC_PROTECT_DATA_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_e_f_i___s_e_r_v_i_c_e_s___p_o_i_n_t_e_r_s__.html">UEFI_SERVICES_POINTERS_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_e_r_v_i_c_e_s___o_v_e_r_r_i_d_e___s_t_a_t_e__.html">SERVICES_OVERRIDE_STATE_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_k_e_r_n_e_l___s_u_p_p_o_r_t___s_t_a_t_e__.html">KERNEL_SUPPORT_STATE_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_l_i_d_e___s_u_p_p_o_r_t___s_t_a_t_e__.html">SLIDE_SUPPORT_STATE_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_b_o_o_t___c_o_m_p_a_t___c_o_n_t_e_x_t__.html">BOOT_COMPAT_CONTEXT_</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a18dc745d58d52bad145eb30e23527ab0" id="r_a18dc745d58d52bad145eb30e23527ab0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18dc745d58d52bad145eb30e23527ab0">RT_RELOC_PROTECT_MAX_NUM</a>&#160;&#160;&#160;((UINTN) 64)</td></tr>
<tr class="separator:a18dc745d58d52bad145eb30e23527ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc8f6abed4ce4d0bf6f563c97e83048" id="r_a7cc8f6abed4ce4d0bf6f563c97e83048"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cc8f6abed4ce4d0bf6f563c97e83048">RT_DESC_ENTRY_NUM</a>&#160;&#160;&#160;((UINTN) 64)</td></tr>
<tr class="separator:a7cc8f6abed4ce4d0bf6f563c97e83048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dac7135f8537420c2b72481c5a72aa9" id="r_a4dac7135f8537420c2b72481c5a72aa9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dac7135f8537420c2b72481c5a72aa9">KERNEL_STATIC_VADDR</a>&#160;&#160;&#160;((UINT64) 0xFFFFFF8000000000ULL)</td></tr>
<tr class="separator:a4dac7135f8537420c2b72481c5a72aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21bf9b3672662a4a95aca4544b6c32fc" id="r_a21bf9b3672662a4a95aca4544b6c32fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21bf9b3672662a4a95aca4544b6c32fc">KERNEL_HIB_VADDR</a>&#160;&#160;&#160;((UINTN) (0xFFFFFF8000100000ULL &amp; MAX_UINTN))</td></tr>
<tr class="separator:a21bf9b3672662a4a95aca4544b6c32fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e56c584bf5f73ab81548fee948dc340" id="r_a1e56c584bf5f73ab81548fee948dc340"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e56c584bf5f73ab81548fee948dc340">KERNEL_TEXT_VADDR</a>&#160;&#160;&#160;((UINTN) (0xFFFFFF8000200000ULL &amp; MAX_UINTN))</td></tr>
<tr class="separator:a1e56c584bf5f73ab81548fee948dc340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d611ff48412d614cbc055e9528f8411" id="r_a6d611ff48412d614cbc055e9528f8411"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d611ff48412d614cbc055e9528f8411">KERNEL_TEXT_VADDR_LEGACY</a>&#160;&#160;&#160;0x111000</td></tr>
<tr class="separator:a6d611ff48412d614cbc055e9528f8411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5071a18da2db46c67f2ab7820ee8aae" id="r_aa5071a18da2db46c67f2ab7820ee8aae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5071a18da2db46c67f2ab7820ee8aae">KERNEL_BASE_PADDR</a>&#160;&#160;&#160;((UINT32) (<a class="el" href="#a21bf9b3672662a4a95aca4544b6c32fc">KERNEL_HIB_VADDR</a> &amp; MAX_UINT32))</td></tr>
<tr class="separator:aa5071a18da2db46c67f2ab7820ee8aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af843f7b124a03208b2cb47c4cd2dd74c" id="r_af843f7b124a03208b2cb47c4cd2dd74c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af843f7b124a03208b2cb47c4cd2dd74c">KERNEL_TEXT_PADDR</a>&#160;&#160;&#160;((UINT32) (<a class="el" href="#a1e56c584bf5f73ab81548fee948dc340">KERNEL_TEXT_VADDR</a> &amp; MAX_UINT32))</td></tr>
<tr class="separator:af843f7b124a03208b2cb47c4cd2dd74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6bd749a46f32b8d8abde7ef88a39f6" id="r_aad6bd749a46f32b8d8abde7ef88a39f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad6bd749a46f32b8d8abde7ef88a39f6">KERNEL_TEXT_PADDR_LEGACY</a>&#160;&#160;&#160;(<a class="el" href="#a6d611ff48412d614cbc055e9528f8411">KERNEL_TEXT_VADDR_LEGACY</a>)</td></tr>
<tr class="separator:aad6bd749a46f32b8d8abde7ef88a39f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa131e1b9daf19fa23d0b357dac5caab4" id="r_aa131e1b9daf19fa23d0b357dac5caab4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa131e1b9daf19fa23d0b357dac5caab4">SLIDE_GRANULARITY</a>&#160;&#160;&#160;((UINTN) SIZE_2MB)</td></tr>
<tr class="separator:aa131e1b9daf19fa23d0b357dac5caab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2fe50f89a1cd53a247a72a2a7c2ee8b" id="r_ab2fe50f89a1cd53a247a72a2a7c2ee8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2fe50f89a1cd53a247a72a2a7c2ee8b">TOTAL_SLIDE_NUM</a>&#160;&#160;&#160;((UINTN) 0x100)</td></tr>
<tr class="separator:ab2fe50f89a1cd53a247a72a2a7c2ee8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada8338658b5acca3761cf399149d3f2" id="r_aada8338658b5acca3761cf399149d3f2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aada8338658b5acca3761cf399149d3f2">SLIDE_ERRATA_NUM</a>&#160;&#160;&#160;((UINTN) 0x80)</td></tr>
<tr class="separator:aada8338658b5acca3761cf399149d3f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e4ccdaf0721a803ed1c861b93970774" id="r_a7e4ccdaf0721a803ed1c861b93970774"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e4ccdaf0721a803ed1c861b93970774">SLIDE_ERRATA_SKIP_RANGE</a>&#160;&#160;&#160;((UINTN) 0x10200000)</td></tr>
<tr class="separator:a7e4ccdaf0721a803ed1c861b93970774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9fcef25148058965f96020fc177907e" id="r_ae9fcef25148058965f96020fc177907e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9fcef25148058965f96020fc177907e">ESTIMATED_KERNEL_SIZE</a>&#160;&#160;&#160;((UINTN) (200 * SIZE_1MB))</td></tr>
<tr class="separator:ae9fcef25148058965f96020fc177907e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbcd4e3181ae35a51bb1cb379d8b75eb" id="r_afbcd4e3181ae35a51bb1cb379d8b75eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbcd4e3181ae35a51bb1cb379d8b75eb">ESTIMATED_CALL_GATE_SIZE</a>&#160;&#160;&#160;256</td></tr>
<tr class="separator:afbcd4e3181ae35a51bb1cb379d8b75eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e08a45bfc6b5bfdc3803f89e1951a82" id="r_a6e08a45bfc6b5bfdc3803f89e1951a82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e08a45bfc6b5bfdc3803f89e1951a82">CALL_GATE_JUMP_SIZE</a>&#160;&#160;&#160;(sizeof (<a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a>))</td></tr>
<tr class="separator:a6e08a45bfc6b5bfdc3803f89e1951a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a53f56e7eafd48b8d1c82b2bf334666" id="r_a3a53f56e7eafd48b8d1c82b2bf334666"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a53f56e7eafd48b8d1c82b2bf334666">CALL_GATE_MIN_SIZE</a>&#160;&#160;&#160;(<a class="el" href="#afbcd4e3181ae35a51bb1cb379d8b75eb">ESTIMATED_CALL_GATE_SIZE</a> + <a class="el" href="#a6e08a45bfc6b5bfdc3803f89e1951a82">CALL_GATE_JUMP_SIZE</a>)</td></tr>
<tr class="separator:a3a53f56e7eafd48b8d1c82b2bf334666"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6a67e315ab27883338e72bf33e624ba6" id="r_a6a67e315ab27883338e72bf33e624ba6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_c_a_l_l___g_a_t_e___j_u_m_p__.html">CALL_GATE_JUMP_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a></td></tr>
<tr class="separator:a6a67e315ab27883338e72bf33e624ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26883b296406410243c4c2392b49679c" id="r_a26883b296406410243c4c2392b49679c"><td class="memItemLeft" align="right" valign="top">typedef UINTN(EFIAPI *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a>) (IN UINTN Arg1, IN UINTN Arg2)</td></tr>
<tr class="separator:a26883b296406410243c4c2392b49679c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69dd9dc94f052f2ecd4302b1d582e2fe" id="r_a69dd9dc94f052f2ecd4302b1d582e2fe"><td class="memItemLeft" align="right" valign="top">typedef UINTN(EFIAPI *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69dd9dc94f052f2ecd4302b1d582e2fe">RELOCATION_CALL_GATE</a>) (IN UINTN QWordCount, IN UINTN EntryPoint, IN EFI_PHYSICAL_ADDRESS Source, IN UINTN Args)</td></tr>
<tr class="separator:a69dd9dc94f052f2ecd4302b1d582e2fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2605a8c0ca4011fe9ce3c5e43dd98c81" id="r_a2605a8c0ca4011fe9ce3c5e43dd98c81"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_r_t___r_e_l_o_c___p_r_o_t_e_c_t___i_n_f_o__.html">RT_RELOC_PROTECT_INFO_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2605a8c0ca4011fe9ce3c5e43dd98c81">RT_RELOC_PROTECT_INFO</a></td></tr>
<tr class="separator:a2605a8c0ca4011fe9ce3c5e43dd98c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa8d028ba2d0f58c1bf78867819aa28" id="r_a2fa8d028ba2d0f58c1bf78867819aa28"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_r_t___r_e_l_o_c___p_r_o_t_e_c_t___d_a_t_a__.html">RT_RELOC_PROTECT_DATA_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fa8d028ba2d0f58c1bf78867819aa28">RT_RELOC_PROTECT_DATA</a></td></tr>
<tr class="separator:a2fa8d028ba2d0f58c1bf78867819aa28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f93c109849252f58221f62b86454faa" id="r_a9f93c109849252f58221f62b86454faa"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_u_e_f_i___s_e_r_v_i_c_e_s___p_o_i_n_t_e_r_s__.html">UEFI_SERVICES_POINTERS_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f93c109849252f58221f62b86454faa">UEFI_SERVICES_POINTERS</a></td></tr>
<tr class="separator:a9f93c109849252f58221f62b86454faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f95bf9cf0e7d5cde77078720680a6d" id="r_ad4f95bf9cf0e7d5cde77078720680a6d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_s_e_r_v_i_c_e_s___o_v_e_r_r_i_d_e___s_t_a_t_e__.html">SERVICES_OVERRIDE_STATE_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4f95bf9cf0e7d5cde77078720680a6d">SERVICES_OVERRIDE_STATE</a></td></tr>
<tr class="separator:ad4f95bf9cf0e7d5cde77078720680a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51eaba771635f28e102a14d05351c5ee" id="r_a51eaba771635f28e102a14d05351c5ee"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_k_e_r_n_e_l___s_u_p_p_o_r_t___s_t_a_t_e__.html">KERNEL_SUPPORT_STATE_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51eaba771635f28e102a14d05351c5ee">KERNEL_SUPPORT_STATE</a></td></tr>
<tr class="separator:a51eaba771635f28e102a14d05351c5ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab7cd568aa1d3f32143db467fb4951f" id="r_afab7cd568aa1d3f32143db467fb4951f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_s_l_i_d_e___s_u_p_p_o_r_t___s_t_a_t_e__.html">SLIDE_SUPPORT_STATE_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a></td></tr>
<tr class="separator:afab7cd568aa1d3f32143db467fb4951f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7c5db4ced13f7b3b45d564c6c6e1f5" id="r_aaf7c5db4ced13f7b3b45d564c6c6e1f5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_b_o_o_t___c_o_m_p_a_t___c_o_n_t_e_x_t__.html">BOOT_COMPAT_CONTEXT_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a></td></tr>
<tr class="separator:aaf7c5db4ced13f7b3b45d564c6c6e1f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4989b009eed08160b5e8ac40d0a36f51" id="r_a4989b009eed08160b5e8ac40d0a36f51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4989b009eed08160b5e8ac40d0a36f51">STATIC_ASSERT</a> (sizeof(<a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a>)==7+14, &quot;Invalid <a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a> size&quot;)</td></tr>
<tr class="separator:a4989b009eed08160b5e8ac40d0a36f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4074ca3ff272a8922b389fbaa91a9659" id="r_a4074ca3ff272a8922b389fbaa91a9659"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4074ca3ff272a8922b389fbaa91a9659">GetBootCompatContext</a> (VOID)</td></tr>
<tr class="separator:a4074ca3ff272a8922b389fbaa91a9659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e87d308ea0e4c5ab2ac5663e4af7c42" id="r_a5e87d308ea0e4c5ab2ac5663e4af7c42"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e87d308ea0e4c5ab2ac5663e4af7c42">InstallServiceOverrides</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat)</td></tr>
<tr class="separator:a5e87d308ea0e4c5ab2ac5663e4af7c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886d3698fe08ab681b79465b1a1d1111" id="r_a886d3698fe08ab681b79465b1a1d1111"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a886d3698fe08ab681b79465b1a1d1111">AppleMapPrepareMemoryPool</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat)</td></tr>
<tr class="separator:a886d3698fe08ab681b79465b1a1d1111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ddfa3b8050b1a30bd985a6894cd2867" id="r_a6ddfa3b8050b1a30bd985a6894cd2867"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ddfa3b8050b1a30bd985a6894cd2867">AppleMapPrepareBooterState</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN OUT EFI_LOADED_IMAGE *LoadedImage, IN EFI_GET_MEMORY_MAP GetMemoryMap OPTIONAL)</td></tr>
<tr class="separator:a6ddfa3b8050b1a30bd985a6894cd2867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7452a50bbb14175a2ef4e8a1f190548e" id="r_a7452a50bbb14175a2ef4e8a1f190548e"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7452a50bbb14175a2ef4e8a1f190548e">AppleMapPrepareKernelJump32</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat)</td></tr>
<tr class="separator:a7452a50bbb14175a2ef4e8a1f190548e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e64cf43156fd0d47a6eb4f1b4e5b642" id="r_a9e64cf43156fd0d47a6eb4f1b4e5b642"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e64cf43156fd0d47a6eb4f1b4e5b642">AppleMapPrepareKernelJump64</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN EFI_PHYSICAL_ADDRESS CallGate, IN UINTN HookAddress)</td></tr>
<tr class="separator:a9e64cf43156fd0d47a6eb4f1b4e5b642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00a48d24de8614731510c941741aee0" id="r_af00a48d24de8614731510c941741aee0"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af00a48d24de8614731510c941741aee0">AppleMapPrepareForBooting</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN OUT VOID *BootArgs)</td></tr>
<tr class="separator:af00a48d24de8614731510c941741aee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7a862bc485c211e510676647e6b683" id="r_a5c7a862bc485c211e510676647e6b683"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c7a862bc485c211e510676647e6b683">AppleMapPrepareForHibernateWake</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN UINTN ImageHeaderPage)</td></tr>
<tr class="separator:a5c7a862bc485c211e510676647e6b683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813b30a9be7ec549af7304f3a4e637fc" id="r_a813b30a9be7ec549af7304f3a4e637fc"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a813b30a9be7ec549af7304f3a4e637fc">AppleMapPrepareMemState</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN UINTN MemoryMapSize, IN UINTN DescriptorSize, IN UINT32 DescriptorVersion, IN EFI_MEMORY_DESCRIPTOR *MemoryMap)</td></tr>
<tr class="separator:a813b30a9be7ec549af7304f3a4e637fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe098cad95bbed7ee3cba0e8112edf7" id="r_acbe098cad95bbed7ee3cba0e8112edf7"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbe098cad95bbed7ee3cba0e8112edf7">AsmAppleMapPrepareKernelState32</a> (VOID)</td></tr>
<tr class="separator:acbe098cad95bbed7ee3cba0e8112edf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09dec259fb119630cb9f815cb6ed4881" id="r_a09dec259fb119630cb9f815cb6ed4881"><td class="memItemLeft" align="right" valign="top">UINTN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09dec259fb119630cb9f815cb6ed4881">AppleMapPrepareKernelState32</a> (IN UINTN Args)</td></tr>
<tr class="separator:a09dec259fb119630cb9f815cb6ed4881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a00570a49813ba920872b4234024f1" id="r_a09a00570a49813ba920872b4234024f1"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09a00570a49813ba920872b4234024f1">AppleMapPrepareKernelStateNew64</a> (IN UINTN SystemTable, IN OUT <a class="el" href="struct_a_p_p_l_e___e_f_i___b_o_o_t___r_t___k_c_g___a_r_g_s.html">APPLE_EFI_BOOT_RT_KCG_ARGS</a> *KcgArguments, IN <a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a> CallGate)</td></tr>
<tr class="separator:a09a00570a49813ba920872b4234024f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b50ae8d7af7b95cd3311f365faca0ff" id="r_a7b50ae8d7af7b95cd3311f365faca0ff"><td class="memItemLeft" align="right" valign="top">UINTN EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b50ae8d7af7b95cd3311f365faca0ff">AppleMapPrepareKernelStateOld64</a> (IN UINTN Args, IN UINTN EntryPoint, IN <a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a> CallGate)</td></tr>
<tr class="separator:a7b50ae8d7af7b95cd3311f365faca0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d8234384c3ec68a5e09e6e5db400f6" id="r_a53d8234384c3ec68a5e09e6e5db400f6"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53d8234384c3ec68a5e09e6e5db400f6">AppleSlideUnlockForSafeMode</a> (IN OUT UINT8 *ImageBase, IN UINTN ImageSize)</td></tr>
<tr class="separator:a53d8234384c3ec68a5e09e6e5db400f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3aa6134d5c0abfd80fab37bd73b960e" id="r_ad3aa6134d5c0abfd80fab37bd73b960e"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3aa6134d5c0abfd80fab37bd73b960e">AppleSlideGetVariable</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN EFI_GET_VARIABLE GetVariable, IN EFI_GET_MEMORY_MAP GetMemoryMap OPTIONAL, IN <a class="el" href="_oc_memory_lib_8h.html#aa7dcc8df15154c755d5686a4fa0bf6b6">OC_MEMORY_FILTER</a> FilterMap OPTIONAL, IN VOID *FilterMapContext OPTIONAL, IN CHAR16 *VariableName, IN EFI_GUID *VendorGuid, OUT UINT32 *Attributes OPTIONAL, IN OUT UINTN *DataSize, OUT VOID *Data)</td></tr>
<tr class="separator:ad3aa6134d5c0abfd80fab37bd73b960e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f4c202c0b3a247239a16ddcb36db69" id="r_a17f4c202c0b3a247239a16ddcb36db69"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17f4c202c0b3a247239a16ddcb36db69">AppleSlideRestore</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *BootArgs)</td></tr>
<tr class="separator:a17f4c202c0b3a247239a16ddcb36db69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905dab42752205ff0406a85c50884720" id="r_a905dab42752205ff0406a85c50884720"><td class="memItemLeft" align="right" valign="top">UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a905dab42752205ff0406a85c50884720">AppleSlideGetRelocationSize</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat)</td></tr>
<tr class="separator:a905dab42752205ff0406a85c50884720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b13a6736151791bc5e425540172afdb" id="r_a8b13a6736151791bc5e425540172afdb"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b13a6736151791bc5e425540172afdb">AppleRelocationAllocatePages</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN EFI_GET_MEMORY_MAP GetMemoryMap, IN EFI_ALLOCATE_PAGES AllocatePages, IN UINTN NumberOfPages, IN OUT EFI_PHYSICAL_ADDRESS *Memory)</td></tr>
<tr class="separator:a8b13a6736151791bc5e425540172afdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3f86746173d87d80a9cd92e7cfe347" id="r_a0f3f86746173d87d80a9cd92e7cfe347"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f3f86746173d87d80a9cd92e7cfe347">AppleRelocationRelease</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat)</td></tr>
<tr class="separator:a0f3f86746173d87d80a9cd92e7cfe347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26275c971d5f42e1dfe1eb89b81d9beb" id="r_a26275c971d5f42e1dfe1eb89b81d9beb"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26275c971d5f42e1dfe1eb89b81d9beb">AppleRelocationVirtualize</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *BA)</td></tr>
<tr class="separator:a26275c971d5f42e1dfe1eb89b81d9beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e62cd1bfa01a44f7de41a5605987758" id="r_a2e62cd1bfa01a44f7de41a5605987758"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e62cd1bfa01a44f7de41a5605987758">AppleRelocationRebase</a> (IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *BA)</td></tr>
<tr class="separator:a2e62cd1bfa01a44f7de41a5605987758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e83e0aa2665fd07745700646edde72c" id="r_a5e83e0aa2665fd07745700646edde72c"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e83e0aa2665fd07745700646edde72c">AppleRelocationCallGate64</a> (IN OUT UINTN *Args, IN <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN <a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a> CallGate, IN UINTN *KcgArg1, IN UINTN KcgArg2)</td></tr>
<tr class="separator:a5e83e0aa2665fd07745700646edde72c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2019, vit9696. All rights reserved.</p>
<p>All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6e08a45bfc6b5bfdc3803f89e1951a82" name="a6e08a45bfc6b5bfdc3803f89e1951a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e08a45bfc6b5bfdc3803f89e1951a82">&#9670;&#160;</a></span>CALL_GATE_JUMP_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALL_GATE_JUMP_SIZE&#160;&#160;&#160;(sizeof (<a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of jump from call gate inserted before Call Gate to jump to our code. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00130">130</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a3a53f56e7eafd48b8d1c82b2bf334666" name="a3a53f56e7eafd48b8d1c82b2bf334666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a53f56e7eafd48b8d1c82b2bf334666">&#9670;&#160;</a></span>CALL_GATE_MIN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CALL_GATE_MIN_SIZE&#160;&#160;&#160;(<a class="el" href="#afbcd4e3181ae35a51bb1cb379d8b75eb">ESTIMATED_CALL_GATE_SIZE</a> + <a class="el" href="#a6e08a45bfc6b5bfdc3803f89e1951a82">CALL_GATE_JUMP_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00135">135</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="afbcd4e3181ae35a51bb1cb379d8b75eb" name="afbcd4e3181ae35a51bb1cb379d8b75eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbcd4e3181ae35a51bb1cb379d8b75eb">&#9670;&#160;</a></span>ESTIMATED_CALL_GATE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESTIMATED_CALL_GATE_SIZE&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assume call gate (normally a little over 100 bytes) can be up to 256 bytes. It is allocated in its own page and is relocatable.</p>
<p>WARNING: Keep this in sync with RelocationCallGate assembly! </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00125">125</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="ae9fcef25148058965f96020fc177907e" name="ae9fcef25148058965f96020fc177907e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9fcef25148058965f96020fc177907e">&#9670;&#160;</a></span>ESTIMATED_KERNEL_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ESTIMATED_KERNEL_SIZE&#160;&#160;&#160;((UINTN) (200 * SIZE_1MB))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assume the kernel is roughly 128 MBs. And the recovery introduced with Big Sur has roughly 200 MBs. See 11.0b10 EB.MM.AKMR function (EfiBoot.MemoryMap.AllocateKernelMemoryRecovery), it has 0xC119 pages requested. This value is likely calculated from KC size. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00117">117</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="aa5071a18da2db46c67f2ab7820ee8aae" name="aa5071a18da2db46c67f2ab7820ee8aae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5071a18da2db46c67f2ab7820ee8aae">&#9670;&#160;</a></span>KERNEL_BASE_PADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_BASE_PADDR&#160;&#160;&#160;((UINT32) (<a class="el" href="#a21bf9b3672662a4a95aca4544b6c32fc">KERNEL_HIB_VADDR</a> &amp; MAX_UINT32))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel physical base address. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00079">79</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a21bf9b3672662a4a95aca4544b6c32fc" name="a21bf9b3672662a4a95aca4544b6c32fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21bf9b3672662a4a95aca4544b6c32fc">&#9670;&#160;</a></span>KERNEL_HIB_VADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_HIB_VADDR&#160;&#160;&#160;((UINTN) (0xFFFFFF8000100000ULL &amp; MAX_UINTN))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel __HIB segment virtual address. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00064">64</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a4dac7135f8537420c2b72481c5a72aa9" name="a4dac7135f8537420c2b72481c5a72aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dac7135f8537420c2b72481c5a72aa9">&#9670;&#160;</a></span>KERNEL_STATIC_VADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_STATIC_VADDR&#160;&#160;&#160;((UINT64) 0xFFFFFF8000000000ULL)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel static vaddr mapping base. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00059">59</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="af843f7b124a03208b2cb47c4cd2dd74c" name="af843f7b124a03208b2cb47c4cd2dd74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af843f7b124a03208b2cb47c4cd2dd74c">&#9670;&#160;</a></span>KERNEL_TEXT_PADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_TEXT_PADDR&#160;&#160;&#160;((UINT32) (<a class="el" href="#a1e56c584bf5f73ab81548fee948dc340">KERNEL_TEXT_VADDR</a> &amp; MAX_UINT32))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel __TEXT physical base address (macOS 10.6 and higher). </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00084">84</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="aad6bd749a46f32b8d8abde7ef88a39f6" name="aad6bd749a46f32b8d8abde7ef88a39f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad6bd749a46f32b8d8abde7ef88a39f6">&#9670;&#160;</a></span>KERNEL_TEXT_PADDR_LEGACY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_TEXT_PADDR_LEGACY&#160;&#160;&#160;(<a class="el" href="#a6d611ff48412d614cbc055e9528f8411">KERNEL_TEXT_VADDR_LEGACY</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel __TEXT physical base address (macOS 10.4 and 10.5). </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00089">89</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a1e56c584bf5f73ab81548fee948dc340" name="a1e56c584bf5f73ab81548fee948dc340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e56c584bf5f73ab81548fee948dc340">&#9670;&#160;</a></span>KERNEL_TEXT_VADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_TEXT_VADDR&#160;&#160;&#160;((UINTN) (0xFFFFFF8000200000ULL &amp; MAX_UINTN))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel __TEXT segment virtual address (macOS 10.6 and higher). </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00069">69</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a6d611ff48412d614cbc055e9528f8411" name="a6d611ff48412d614cbc055e9528f8411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d611ff48412d614cbc055e9528f8411">&#9670;&#160;</a></span>KERNEL_TEXT_VADDR_LEGACY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KERNEL_TEXT_VADDR_LEGACY&#160;&#160;&#160;0x111000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel __TEXT segment virtual address (macOS 10.4 and 10.5). </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00074">74</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a7cc8f6abed4ce4d0bf6f563c97e83048" name="a7cc8f6abed4ce4d0bf6f563c97e83048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc8f6abed4ce4d0bf6f563c97e83048">&#9670;&#160;</a></span>RT_DESC_ENTRY_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RT_DESC_ENTRY_NUM&#160;&#160;&#160;((UINTN) 64)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Runtime descriptor number to virtualise. Currently hardocded for simplicity. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00054">54</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a18dc745d58d52bad145eb30e23527ab0" name="a18dc745d58d52bad145eb30e23527ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dc745d58d52bad145eb30e23527ab0">&#9670;&#160;</a></span>RT_RELOC_PROTECT_MAX_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RT_RELOC_PROTECT_MAX_NUM&#160;&#160;&#160;((UINTN) 64)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number of supported runtime reloc protection areas. Currently hardocded for simplicity. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00048">48</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="aada8338658b5acca3761cf399149d3f2" name="aada8338658b5acca3761cf399149d3f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada8338658b5acca3761cf399149d3f2">&#9670;&#160;</a></span>SLIDE_ERRATA_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLIDE_ERRATA_NUM&#160;&#160;&#160;((UINTN) 0x80)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Slide errate number to skip range from. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00104">104</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a7e4ccdaf0721a803ed1c861b93970774" name="a7e4ccdaf0721a803ed1c861b93970774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e4ccdaf0721a803ed1c861b93970774">&#9670;&#160;</a></span>SLIDE_ERRATA_SKIP_RANGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLIDE_ERRATA_SKIP_RANGE&#160;&#160;&#160;((UINTN) 0x10200000)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sandy/Ivy skip slide range for Intel HD graphics. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00109">109</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="aa131e1b9daf19fa23d0b357dac5caab4" name="aa131e1b9daf19fa23d0b357dac5caab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa131e1b9daf19fa23d0b357dac5caab4">&#9670;&#160;</a></span>SLIDE_GRANULARITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLIDE_GRANULARITY&#160;&#160;&#160;((UINTN) SIZE_2MB)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Slide offset per slide entry </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00094">94</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="ab2fe50f89a1cd53a247a72a2a7c2ee8b" name="ab2fe50f89a1cd53a247a72a2a7c2ee8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2fe50f89a1cd53a247a72a2a7c2ee8b">&#9670;&#160;</a></span>TOTAL_SLIDE_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOTAL_SLIDE_NUM&#160;&#160;&#160;((UINTN) 0x100)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Total possible number of KASLR slide offsets. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00099">99</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aaf7c5db4ced13f7b3b45d564c6c6e1f5" name="aaf7c5db4ced13f7b3b45d564c6c6e1f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">&#9670;&#160;</a></span>BOOT_COMPAT_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_b_o_o_t___c_o_m_p_a_t___c_o_n_t_e_x_t__.html">BOOT_COMPAT_CONTEXT_</a> <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apple Boot Compatibility context. </p>

</div>
</div>
<a id="a6a67e315ab27883338e72bf33e624ba6" name="a6a67e315ab27883338e72bf33e624ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a67e315ab27883338e72bf33e624ba6">&#9670;&#160;</a></span>CALL_GATE_JUMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_c_a_l_l___g_a_t_e___j_u_m_p__.html">CALL_GATE_JUMP_</a> <a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Command used to perform an absolute 64-bit jump from Call Gate to our code. </p>

</div>
</div>
<a id="a26883b296406410243c4c2392b49679c" name="a26883b296406410243c4c2392b49679c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26883b296406410243c4c2392b49679c">&#9670;&#160;</a></span>KERNEL_CALL_GATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef UINTN(EFIAPI * KERNEL_CALL_GATE) (IN UINTN Arg1, IN UINTN Arg2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Kernel call gate prototype. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00159">159</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a51eaba771635f28e102a14d05351c5ee" name="a51eaba771635f28e102a14d05351c5ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51eaba771635f28e102a14d05351c5ee">&#9670;&#160;</a></span>KERNEL_SUPPORT_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_k_e_r_n_e_l___s_u_p_p_o_r_t___s_t_a_t_e__.html">KERNEL_SUPPORT_STATE_</a> <a class="el" href="#a51eaba771635f28e102a14d05351c5ee">KERNEL_SUPPORT_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apple kernel support internal state.. </p>

</div>
</div>
<a id="a69dd9dc94f052f2ecd4302b1d582e2fe" name="a69dd9dc94f052f2ecd4302b1d582e2fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69dd9dc94f052f2ecd4302b1d582e2fe">&#9670;&#160;</a></span>RELOCATION_CALL_GATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef UINTN(EFIAPI * RELOCATION_CALL_GATE) (IN UINTN QWordCount, IN UINTN EntryPoint, IN EFI_PHYSICAL_ADDRESS Source, IN UINTN Args)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Relocation call gate prototype. </p>

<p class="definition">Definition at line <a class="el" href="_boot_compat_internal_8h_source.html#l00169">169</a> of file <a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>.</p>

</div>
</div>
<a id="a2fa8d028ba2d0f58c1bf78867819aa28" name="a2fa8d028ba2d0f58c1bf78867819aa28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa8d028ba2d0f58c1bf78867819aa28">&#9670;&#160;</a></span>RT_RELOC_PROTECT_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_r_t___r_e_l_o_c___p_r_o_t_e_c_t___d_a_t_a__.html">RT_RELOC_PROTECT_DATA_</a> <a class="el" href="#a2fa8d028ba2d0f58c1bf78867819aa28">RT_RELOC_PROTECT_DATA</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Preserved relocation entry list. </p>

</div>
</div>
<a id="a2605a8c0ca4011fe9ce3c5e43dd98c81" name="a2605a8c0ca4011fe9ce3c5e43dd98c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2605a8c0ca4011fe9ce3c5e43dd98c81">&#9670;&#160;</a></span>RT_RELOC_PROTECT_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_r_t___r_e_l_o_c___p_r_o_t_e_c_t___i_n_f_o__.html">RT_RELOC_PROTECT_INFO_</a> <a class="el" href="#a2605a8c0ca4011fe9ce3c5e43dd98c81">RT_RELOC_PROTECT_INFO</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Preserved relocation entry. </p>

</div>
</div>
<a id="ad4f95bf9cf0e7d5cde77078720680a6d" name="ad4f95bf9cf0e7d5cde77078720680a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f95bf9cf0e7d5cde77078720680a6d">&#9670;&#160;</a></span>SERVICES_OVERRIDE_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_s_e_r_v_i_c_e_s___o_v_e_r_r_i_d_e___s_t_a_t_e__.html">SERVICES_OVERRIDE_STATE_</a> <a class="el" href="#ad4f95bf9cf0e7d5cde77078720680a6d">SERVICES_OVERRIDE_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UEFI services override internal state. </p>

</div>
</div>
<a id="afab7cd568aa1d3f32143db467fb4951f" name="afab7cd568aa1d3f32143db467fb4951f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afab7cd568aa1d3f32143db467fb4951f">&#9670;&#160;</a></span>SLIDE_SUPPORT_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_s_l_i_d_e___s_u_p_p_o_r_t___s_t_a_t_e__.html">SLIDE_SUPPORT_STATE_</a> <a class="el" href="#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Apple booter KASLR slide support internal state. </p>

</div>
</div>
<a id="a9f93c109849252f58221f62b86454faa" name="a9f93c109849252f58221f62b86454faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f93c109849252f58221f62b86454faa">&#9670;&#160;</a></span>UEFI_SERVICES_POINTERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_u_e_f_i___s_e_r_v_i_c_e_s___p_o_i_n_t_e_r_s__.html">UEFI_SERVICES_POINTERS_</a> <a class="el" href="#a9f93c109849252f58221f62b86454faa">UEFI_SERVICES_POINTERS</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UEFI Boot &amp; Runtime Services original pointers. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6ddfa3b8050b1a30bd985a6894cd2867" name="a6ddfa3b8050b1a30bd985a6894cd2867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ddfa3b8050b1a30bd985a6894cd2867">&#9670;&#160;</a></span>AppleMapPrepareBooterState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleMapPrepareBooterState </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_LOADED_IMAGE *</td>          <td class="paramname"><span class="paramname"><em>LoadedImage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_MEMORY_MAP GetMemoryMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare environment for Apple UEFI bootloader. See more details inside.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">LoadedImage</td><td>UEFI loaded image protocol instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetMemoryMap</td><td>Unmodified GetMemoryMap pointer, optional. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support_8c_source.html#l00542">542</a> of file <a class="el" href="_kernel_support_8c_source.html">KernelSupport.c</a>.</p>

</div>
</div>
<a id="af00a48d24de8614731510c941741aee0" name="af00a48d24de8614731510c941741aee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af00a48d24de8614731510c941741aee0">&#9670;&#160;</a></span>AppleMapPrepareForBooting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleMapPrepareForBooting </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT VOID *</td>          <td class="paramname"><span class="paramname"><em>BootArgs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare environment for normal booting. Called when boot.efi jumps to kernel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootArgs</td><td>Apple kernel boot arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support_8c_source.html#l00325">325</a> of file <a class="el" href="_kernel_support_8c_source.html">KernelSupport.c</a>.</p>

</div>
</div>
<a id="a5c7a862bc485c211e510676647e6b683" name="a5c7a862bc485c211e510676647e6b683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c7a862bc485c211e510676647e6b683">&#9670;&#160;</a></span>AppleMapPrepareForHibernateWake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleMapPrepareForHibernateWake </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ImageHeaderPage</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare environment for hibernate wake. Called when boot.efi jumps to kernel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ImageHeaderPage</td><td>Apple hibernate image page number. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support_8c_source.html#l00436">436</a> of file <a class="el" href="_kernel_support_8c_source.html">KernelSupport.c</a>.</p>

</div>
</div>
<a id="a7452a50bbb14175a2ef4e8a1f190548e" name="a7452a50bbb14175a2ef4e8a1f190548e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7452a50bbb14175a2ef4e8a1f190548e">&#9670;&#160;</a></span>AppleMapPrepareKernelJump32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleMapPrepareKernelJump32 </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Patch kernel entry point with KernelJump to later land in AppleMapPrepareKernelState.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; mov bx, ds</p>
<p>&lt; mov es, ebx</p>
<p>&lt; mov ebp, eax</p>
<p>&lt; call</p>

<p class="definition">Definition at line <a class="el" href="_kernel_support32_8c_source.html#l00036">36</a> of file <a class="el" href="_kernel_support32_8c_source.html">KernelSupport32.c</a>.</p>

</div>
</div>
<a id="a9e64cf43156fd0d47a6eb4f1b4e5b642" name="a9e64cf43156fd0d47a6eb4f1b4e5b642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e64cf43156fd0d47a6eb4f1b4e5b642">&#9670;&#160;</a></span>AppleMapPrepareKernelJump64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleMapPrepareKernelJump64 </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_PHYSICAL_ADDRESS</td>          <td class="paramname"><span class="paramname"><em>CallGate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>HookAddress</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Patch kernel entry point with KernelJump to later land in AppleMapPrepareKernelState.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CallGate</td><td>Kernel call gate address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">HookAddress</td><td>The function address to jump to when entering the kernel call gate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support64_8c_source.html#l00036">36</a> of file <a class="el" href="_kernel_support64_8c_source.html">KernelSupport64.c</a>.</p>

</div>
</div>
<a id="a09dec259fb119630cb9f815cb6ed4881" name="a09dec259fb119630cb9f815cb6ed4881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09dec259fb119630cb9f815cb6ed4881">&#9670;&#160;</a></span>AppleMapPrepareKernelState32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN EFIAPI AppleMapPrepareKernelState32 </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>Args</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare environment for Apple kernel bootloader in boot or wake cases. This callback arrives when boot.efi jumps to kernel entry point. Should transfer control to restored kernel entry point with the same arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Args</td><td>Case-specific kernel argument handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Case-specific value if any. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support32_8c_source.html#l00114">114</a> of file <a class="el" href="_kernel_support32_8c_source.html">KernelSupport32.c</a>.</p>

</div>
</div>
<a id="a09a00570a49813ba920872b4234024f1" name="a09a00570a49813ba920872b4234024f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a00570a49813ba920872b4234024f1">&#9670;&#160;</a></span>AppleMapPrepareKernelStateNew64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI AppleMapPrepareKernelStateNew64 </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>SystemTable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="struct_a_p_p_l_e___e_f_i___b_o_o_t___r_t___k_c_g___a_r_g_s.html">APPLE_EFI_BOOT_RT_KCG_ARGS</a> *</td>          <td class="paramname"><span class="paramname"><em>KcgArguments</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a></td>          <td class="paramname"><span class="paramname"><em>CallGate</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare environment for Apple kernel bootloader in boot or wake cases. This callback arrives when boot.efi jumps to kernel call gate. Should transfer control to kernel call gate + CALL_GATE_JUMP_SIZE with the same arguments.</p>
<p>This uses the new (as of macOS 13 Developer Beta 1) prototype. This is due to EfiBootRt wrapping the actual kernel call gate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">SystemTable</td><td>A pointer to the EFI System Table. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">KcgArguments</td><td>Arguments to the kernel call gate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CallGate</td><td>The kernel call gate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_ABORTED</td><td>The kernel could not be started. </td></tr>
    <tr><td class="paramname">other</td><td>On success, this function does not return. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support64_8c_source.html#l00135">135</a> of file <a class="el" href="_kernel_support64_8c_source.html">KernelSupport64.c</a>.</p>

</div>
</div>
<a id="a7b50ae8d7af7b95cd3311f365faca0ff" name="a7b50ae8d7af7b95cd3311f365faca0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b50ae8d7af7b95cd3311f365faca0ff">&#9670;&#160;</a></span>AppleMapPrepareKernelStateOld64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN EFIAPI AppleMapPrepareKernelStateOld64 </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>Args</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>EntryPoint</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a></td>          <td class="paramname"><span class="paramname"><em>CallGate</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare environment for Apple kernel bootloader in boot or wake cases. This callback arrives when boot.efi jumps to kernel call gate. Should transfer control to kernel call gate + CALL_GATE_JUMP_SIZE with the same arguments.</p>
<p>This uses the old (prior to macOS 13 Developer Beta 1) prototype.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Args</td><td>Case-specific kernel argument handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">EntryPoint</td><td>Case-specific kernel entry point. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CallGate</td><td>The kernel call gate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Case-specific value if any. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support64_8c_source.html#l00152">152</a> of file <a class="el" href="_kernel_support64_8c_source.html">KernelSupport64.c</a>.</p>

</div>
</div>
<a id="a886d3698fe08ab681b79465b1a1d1111" name="a886d3698fe08ab681b79465b1a1d1111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a886d3698fe08ab681b79465b1a1d1111">&#9670;&#160;</a></span>AppleMapPrepareMemoryPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleMapPrepareMemoryPool </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare virtual memory management environment for later usage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support_8c_source.html#l00518">518</a> of file <a class="el" href="_kernel_support_8c_source.html">KernelSupport.c</a>.</p>

</div>
</div>
<a id="a813b30a9be7ec549af7304f3a4e637fc" name="a813b30a9be7ec549af7304f3a4e637fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813b30a9be7ec549af7304f3a4e637fc">&#9670;&#160;</a></span>AppleMapPrepareMemState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS AppleMapPrepareMemState </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>MemoryMapSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>DescriptorSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT32</td>          <td class="paramname"><span class="paramname"><em>DescriptorVersion</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_MEMORY_DESCRIPTOR *</td>          <td class="paramname"><span class="paramname"><em>MemoryMap</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prepare memory state and perform virtual address translation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">MemoryMapSize</td><td>SetVirtualAddresses memory map size argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DescriptorSize</td><td>SetVirtualAddresses descriptor size argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DescriptorVersion</td><td>SetVirtualAddresses descriptor version argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">MemoryMap</td><td>SetVirtualAddresses memory map argument. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_kernel_support_8c_source.html#l00608">608</a> of file <a class="el" href="_kernel_support_8c_source.html">KernelSupport.c</a>.</p>

</div>
</div>
<a id="a8b13a6736151791bc5e425540172afdb" name="a8b13a6736151791bc5e425540172afdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b13a6736151791bc5e425540172afdb">&#9670;&#160;</a></span>AppleRelocationAllocatePages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS AppleRelocationAllocatePages </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_MEMORY_MAP</td>          <td class="paramname"><span class="paramname"><em>GetMemoryMap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_ALLOCATE_PAGES</td>          <td class="paramname"><span class="paramname"><em>AllocatePages</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>NumberOfPages</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_PHYSICAL_ADDRESS *</td>          <td class="paramname"><span class="paramname"><em>Memory</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate memory from a relocation block when zero slide is unavailable. EfiLoaderData at address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetMemoryMap</td><td>Unmodified GetMemoryMap pointer, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">AllocatePages</td><td>Unmodified AllocatePages pointer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumberOfPages</td><td>Number of pages to allocate. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Memory</td><td>Memory address to allocate, may be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>when zero slide is available. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_relocation_block_8c_source.html#l00040">40</a> of file <a class="el" href="_relocation_block_8c_source.html">RelocationBlock.c</a>.</p>

</div>
</div>
<a id="a5e83e0aa2665fd07745700646edde72c" name="a5e83e0aa2665fd07745700646edde72c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e83e0aa2665fd07745700646edde72c">&#9670;&#160;</a></span>AppleRelocationCallGate64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleRelocationCallGate64 </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>Args</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="#a26883b296406410243c4c2392b49679c">KERNEL_CALL_GATE</a></td>          <td class="paramname"><span class="paramname"><em>CallGate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN *</td>          <td class="paramname"><span class="paramname"><em>KcgArg1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>KcgArg2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boot Apple Kernel through relocation block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Args</td><td>On input, the un-relocated kernel argument handle. On output, the relocated kernel argument handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CallGate</td><td>Kernel call gate address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KcgArg1</td><td>Pointer to the first kernel call gate argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">KcgArg2</td><td>Second kernel call gate argument. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_relocation_block_8c_source.html#l00378">378</a> of file <a class="el" href="_relocation_block_8c_source.html">RelocationBlock.c</a>.</p>

</div>
</div>
<a id="a2e62cd1bfa01a44f7de41a5605987758" name="a2e62cd1bfa01a44f7de41a5605987758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e62cd1bfa01a44f7de41a5605987758">&#9670;&#160;</a></span>AppleRelocationRebase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleRelocationRebase </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *</td>          <td class="paramname"><span class="paramname"><em>BA</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transition from relocation block address space to normal low memory address space in the relevant XNU areas.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootArgs</td><td>Apple kernel boot arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_relocation_block_8c_source.html#l00253">253</a> of file <a class="el" href="_relocation_block_8c_source.html">RelocationBlock.c</a>.</p>

</div>
</div>
<a id="a0f3f86746173d87d80a9cd92e7cfe347" name="a0f3f86746173d87d80a9cd92e7cfe347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3f86746173d87d80a9cd92e7cfe347">&#9670;&#160;</a></span>AppleRelocationRelease()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS AppleRelocationRelease </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release relocation block if present.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>on success. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>when zero slide is available. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_relocation_block_8c_source.html#l00125">125</a> of file <a class="el" href="_relocation_block_8c_source.html">RelocationBlock.c</a>.</p>

</div>
</div>
<a id="a26275c971d5f42e1dfe1eb89b81d9beb" name="a26275c971d5f42e1dfe1eb89b81d9beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26275c971d5f42e1dfe1eb89b81d9beb">&#9670;&#160;</a></span>AppleRelocationVirtualize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS AppleRelocationVirtualize </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *</td>          <td class="paramname"><span class="paramname"><em>BA</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transitions to virtual memory for the relocation block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootArgs</td><td>Apple kernel boot arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_relocation_block_8c_source.html#l00154">154</a> of file <a class="el" href="_relocation_block_8c_source.html">RelocationBlock.c</a>.</p>

</div>
</div>
<a id="a905dab42752205ff0406a85c50884720" name="a905dab42752205ff0406a85c50884720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905dab42752205ff0406a85c50884720">&#9670;&#160;</a></span>AppleSlideGetRelocationSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN AppleSlideGetRelocationSize </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get calculated relocation block size for booting with slide=0 (e.g. Safe Mode) or without KASLR (older macOS) when it is otherwise impossible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of the relocation block (maximum). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00879">879</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="ad3aa6134d5c0abfd80fab37bd73b960e" name="ad3aa6134d5c0abfd80fab37bd73b960e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3aa6134d5c0abfd80fab37bd73b960e">&#9670;&#160;</a></span>AppleSlideGetVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS AppleSlideGetVariable </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_VARIABLE</td>          <td class="paramname"><span class="paramname"><em>GetVariable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_MEMORY_MAP GetMemoryMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_oc_memory_lib_8h.html#aa7dcc8df15154c755d5686a4fa0bf6b6">OC_MEMORY_FILTER</a> FilterMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *FilterMapContext</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VariableName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VendorGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT32 *Attributes</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>DataSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID *</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Primary custom KASLR support handler. This gets called on every UEFI RuntimeServices GetVariable call and thus is useful to perform KASLR slide injection through boot-args.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetVariable</td><td>Original UEFI GetVariable service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetMemoryMap</td><td>Unmodified GetMemoryMap pointer, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilterMap</td><td>GetMemoryMap result filter, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilterMapContext</td><td>FilterMap context, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VariableName</td><td>GetVariable variable name argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VendorGuid</td><td>GetVariable vendor GUID argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Attributes</td><td>GetVariable attributes argument. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">DataSize</td><td>GetVariable data size argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td>GetVariable data argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GetVariable</td><td>status code. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00773">773</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a17f4c202c0b3a247239a16ddcb36db69" name="a17f4c202c0b3a247239a16ddcb36db69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f4c202c0b3a247239a16ddcb36db69">&#9670;&#160;</a></span>AppleSlideRestore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleSlideRestore </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *</td>          <td class="paramname"><span class="paramname"><em>BootArgs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ensures that the original csr-active-config is passed to the kernel, and removes customised slide value for security reasons.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootArgs</td><td>Apple kernel boot arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00849">849</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a53d8234384c3ec68a5e09e6e5db400f6" name="a53d8234384c3ec68a5e09e6e5db400f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d8234384c3ec68a5e09e6e5db400f6">&#9670;&#160;</a></span>AppleSlideUnlockForSafeMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleSlideUnlockForSafeMode </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINT8 *</td>          <td class="paramname"><span class="paramname"><em>ImageBase</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ImageSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Patch boot.efi to support random and passed slide values in safe mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ImageBase</td><td>Apple booter image base. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ImageSize</td><td>Apple booter image size. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00609">609</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="acbe098cad95bbed7ee3cba0e8112edf7" name="acbe098cad95bbed7ee3cba0e8112edf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe098cad95bbed7ee3cba0e8112edf7">&#9670;&#160;</a></span>AsmAppleMapPrepareKernelState32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AsmAppleMapPrepareKernelState32 </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assembly wrapper for AppleMapPrepareKernelState32. Used to convert calling conventions and fixup registers. </p>

</div>
</div>
<a id="a4074ca3ff272a8922b389fbaa91a9659" name="a4074ca3ff272a8922b389fbaa91a9659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4074ca3ff272a8922b389fbaa91a9659">&#9670;&#160;</a></span>GetBootCompatContext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> * GetBootCompatContext </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain Apple Boot Compatibility context. This function must only be called from wrapped services, where passing context arguments is not possible.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Apple</td><td>Boot Compatibility context (not null). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_oc_after_boot_compat_lib_8c_source.html#l00090">90</a> of file <a class="el" href="_oc_after_boot_compat_lib_8c_source.html">OcAfterBootCompatLib.c</a>.</p>

</div>
</div>
<a id="a5e87d308ea0e4c5ab2ac5663e4af7c42" name="a5e87d308ea0e4c5ab2ac5663e4af7c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e87d308ea0e4c5ab2ac5663e4af7c42">&#9670;&#160;</a></span>InstallServiceOverrides()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID InstallServiceOverrides </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install UEFI services overrides as necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_service_overrides_8c_source.html#l01626">1626</a> of file <a class="el" href="_service_overrides_8c_source.html">ServiceOverrides.c</a>.</p>

</div>
</div>
<a id="a4989b009eed08160b5e8ac40d0a36f51" name="a4989b009eed08160b5e8ac40d0a36f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4989b009eed08160b5e8ac40d0a36f51">&#9670;&#160;</a></span>STATIC_ASSERT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC_ASSERT </td>
          <td>(</td>
          <td class="paramtype">sizeof(<a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a>)</td>          <td class="paramname"><span class="paramname"><em></em></span><span class="paramdefsep"> = </span><span class="paramdefval">=7+14</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Invalid <a class="el" href="#a6a67e315ab27883338e72bf33e624ba6">CALL_GATE_JUMP</a> size&quot;</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="dir_1ad210f664fae1c2f1bca5640a8659e3.html">OcAfterBootCompatLib</a></li><li class="navelem"><a class="el" href="_boot_compat_internal_8h.html">BootCompatInternal.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
