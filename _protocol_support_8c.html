<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Library/OcMiscLib/ProtocolSupport.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_protocol_support_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ProtocolSupport.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;Uefi.h&gt;</code><br />
<code>#include &lt;Library/DebugLib.h&gt;</code><br />
<code>#include &lt;Library/MemoryAllocationLib.h&gt;</code><br />
<code>#include &lt;Library/UefiLib.h&gt;</code><br />
<code>#include &lt;Library/UefiBootServicesTableLib.h&gt;</code><br />
<code>#include &lt;Protocol/LoadedImage.h&gt;</code><br />
<code>#include &lt;Protocol/ShellParameters.h&gt;</code><br />
</div>
<p><a href="_protocol_support_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a59443d3aaceab399614a4cef697c4d1f" id="r_a59443d3aaceab399614a4cef697c4d1f"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59443d3aaceab399614a4cef697c4d1f">GetArguments</a> (OUT UINTN *Argc, OUT CHAR16 ***Argv)</td></tr>
<tr class="separator:a59443d3aaceab399614a4cef697c4d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac50d51803a23a06a7784c1e8d09422" id="r_a1ac50d51803a23a06a7784c1e8d09422"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ac50d51803a23a06a7784c1e8d09422">OcUninstallAllProtocolInstances</a> (EFI_GUID *Protocol)</td></tr>
<tr class="separator:a1ac50d51803a23a06a7784c1e8d09422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c1ce54eddbbc68870708e6f4c66f88" id="r_a69c1ce54eddbbc68870708e6f4c66f88"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69c1ce54eddbbc68870708e6f4c66f88">OcHandleProtocolFallback</a> (IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a>, IN EFI_GUID *Protocol, OUT VOID **Interface)</td></tr>
<tr class="separator:a69c1ce54eddbbc68870708e6f4c66f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ff033cfa69b1b7d56e5b62c68cd9cb" id="r_a97ff033cfa69b1b7d56e5b62c68cd9cb"><td class="memItemLeft" align="right" valign="top">UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97ff033cfa69b1b7d56e5b62c68cd9cb">OcCountProtocolInstances</a> (IN EFI_GUID *Protocol)</td></tr>
<tr class="separator:a97ff033cfa69b1b7d56e5b62c68cd9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a7e657b4fa80a2a90d85bd4f070e82" id="r_a67a7e657b4fa80a2a90d85bd4f070e82"><td class="memItemLeft" align="right" valign="top">VOID *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67a7e657b4fa80a2a90d85bd4f070e82">OcGetProtocol</a> (IN EFI_GUID *Protocol, IN UINTN ErrorLevel, IN CONST CHAR8 *CallerName OPTIONAL, IN CONST CHAR8 *ProtocolName OPTIONAL)</td></tr>
<tr class="separator:a67a7e657b4fa80a2a90d85bd4f070e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2019, vit9696. All rights reserved.</p>
<p>All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_protocol_support_8c_source.html">ProtocolSupport.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a59443d3aaceab399614a4cef697c4d1f" name="a59443d3aaceab399614a4cef697c4d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59443d3aaceab399614a4cef697c4d1f">&#9670;&#160;</a></span>GetArguments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS GetArguments </td>
          <td>(</td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>Argc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT CHAR16 ***</td>          <td class="paramname"><span class="paramname"><em>Argv</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain application arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Argc</td><td>Argument count. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Argv</td><td>Argument list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>on success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_protocol_support_8c_source.html#l00025">25</a> of file <a class="el" href="_protocol_support_8c_source.html">ProtocolSupport.c</a>.</p>

</div>
</div>
<a id="a97ff033cfa69b1b7d56e5b62c68cd9cb" name="a97ff033cfa69b1b7d56e5b62c68cd9cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ff033cfa69b1b7d56e5b62c68cd9cb">&#9670;&#160;</a></span>OcCountProtocolInstances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN OcCountProtocolInstances </td>
          <td>(</td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>Protocol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Count instances found under a specific protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Protocol</td><td>Protocol to search for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of instances found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_protocol_support_8c_source.html#l00149">149</a> of file <a class="el" href="_protocol_support_8c_source.html">ProtocolSupport.c</a>.</p>

</div>
</div>
<a id="a67a7e657b4fa80a2a90d85bd4f070e82" name="a67a7e657b4fa80a2a90d85bd4f070e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a7e657b4fa80a2a90d85bd4f070e82">&#9670;&#160;</a></span>OcGetProtocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID * OcGetProtocol </td>
          <td>(</td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>Protocol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ErrorLevel</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR8 *CallerName</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST CHAR8 *ProtocolName</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain protocol. If not obtained returns NULL, and optionally adds log message "[CallerName] cannot get protocol [ProtocolName] - %r".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Protocol</td><td>Protocol to search for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ErrorLevel</td><td>The error level of the debug log message to print if protocol not found. Send zero to generate no log message (caller becomes reponsible). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">CallerName</td><td>The caller name for the error message; should always be provided if ErrorLevel is non-zero; will work, but with less useful log output, if ommitted in that case. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ProtocolName</td><td>The protocol name for the error message; optional, protocol GUID will be used as protocol name in error message when required, otherwise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Protocol instance, or NULL if not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_protocol_support_8c_source.html#l00179">179</a> of file <a class="el" href="_protocol_support_8c_source.html">ProtocolSupport.c</a>.</p>

</div>
</div>
<a id="a69c1ce54eddbbc68870708e6f4c66f88" name="a69c1ce54eddbbc68870708e6f4c66f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c1ce54eddbbc68870708e6f4c66f88">&#9670;&#160;</a></span>OcHandleProtocolFallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcHandleProtocolFallback </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>Protocol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>Interface</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handle protocol on handle and fallback to any protocol when missing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Handle</td><td>Handle to search for protocol. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Protocol</td><td>Protocol to search for. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Interface</td><td>Protocol interface if found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>on success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_protocol_support_8c_source.html#l00124">124</a> of file <a class="el" href="_protocol_support_8c_source.html">ProtocolSupport.c</a>.</p>

</div>
</div>
<a id="a1ac50d51803a23a06a7784c1e8d09422" name="a1ac50d51803a23a06a7784c1e8d09422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac50d51803a23a06a7784c1e8d09422">&#9670;&#160;</a></span>OcUninstallAllProtocolInstances()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS OcUninstallAllProtocolInstances </td>
          <td>(</td>
          <td class="paramtype">EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>Protocol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uninstall all protocols with the specified GUID.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Protocol</td><td>The published unique identifier of the protocol. It is the caller's responsibility to pass in a valid GUID.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>on success. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_protocol_support_8c_source.html#l00070">70</a> of file <a class="el" href="_protocol_support_8c_source.html">ProtocolSupport.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="dir_8265603da83c3c04e3685aed060c89b0.html">OcMiscLib</a></li><li class="navelem"><a class="el" href="_protocol_support_8c.html">ProtocolSupport.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
