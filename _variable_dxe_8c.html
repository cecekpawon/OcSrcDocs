<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Platform/OpenVariableRuntimeDxe/VariableDxe.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_variable_dxe_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">VariableDxe.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_variable_8h_source.html">Variable.h</a>&quot;</code><br />
<code>#include &lt;Protocol/VariablePolicy.h&gt;</code><br />
<code>#include &lt;Library/VariablePolicyLib.h&gt;</code><br />
</div>
<p><a href="_variable_dxe_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af56ea336ea4e8bc91b460eb80884c056" id="r_af56ea336ea4e8bc91b460eb80884c056"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af56ea336ea4e8bc91b460eb80884c056">ProtocolIsVariablePolicyEnabled</a> (OUT BOOLEAN *State)</td></tr>
<tr class="separator:af56ea336ea4e8bc91b460eb80884c056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79811ca169bc72b663422348cf756534" id="r_a79811ca169bc72b663422348cf756534"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79811ca169bc72b663422348cf756534">RecordSecureBootPolicyVarData</a> (VOID)</td></tr>
<tr class="separator:a79811ca169bc72b663422348cf756534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b838cc8a03e864e159e8bd6d039a85" id="r_a45b838cc8a03e864e159e8bd6d039a85"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45b838cc8a03e864e159e8bd6d039a85">AtRuntime</a> (VOID)</td></tr>
<tr class="separator:a45b838cc8a03e864e159e8bd6d039a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f31a299860d32460c63f5a918b4c1cb" id="r_a2f31a299860d32460c63f5a918b4c1cb"><td class="memItemLeft" align="right" valign="top">EFI_LOCK *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f31a299860d32460c63f5a918b4c1cb">InitializeLock</a> (IN OUT EFI_LOCK *Lock, IN EFI_TPL Priority)</td></tr>
<tr class="separator:a2f31a299860d32460c63f5a918b4c1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9907016296e6497969931ded9f683dd2" id="r_a9907016296e6497969931ded9f683dd2"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9907016296e6497969931ded9f683dd2">AcquireLockOnlyAtBootTime</a> (IN EFI_LOCK *Lock)</td></tr>
<tr class="separator:a9907016296e6497969931ded9f683dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d27d73d34434aa7c2d5b93531d0737" id="r_a93d27d73d34434aa7c2d5b93531d0737"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d27d73d34434aa7c2d5b93531d0737">ReleaseLockOnlyAtBootTime</a> (IN EFI_LOCK *Lock)</td></tr>
<tr class="separator:a93d27d73d34434aa7c2d5b93531d0737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf7b653540f932153980dfb8ae90fc5" id="r_accf7b653540f932153980dfb8ae90fc5"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accf7b653540f932153980dfb8ae90fc5">GetFtwProtocol</a> (OUT VOID **FtwProtocol)</td></tr>
<tr class="separator:accf7b653540f932153980dfb8ae90fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd49d699ff41b754506367637679fd1" id="r_a2dd49d699ff41b754506367637679fd1"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2dd49d699ff41b754506367637679fd1">GetFvbByHandle</a> (IN EFI_HANDLE FvBlockHandle, OUT EFI_FIRMWARE_VOLUME_BLOCK_PROTOCOL **FvBlock)</td></tr>
<tr class="separator:a2dd49d699ff41b754506367637679fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace47f1c3c96728c686f353601b20e94a" id="r_ace47f1c3c96728c686f353601b20e94a"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace47f1c3c96728c686f353601b20e94a">GetFvbCountAndBuffer</a> (OUT UINTN *NumberHandles, OUT EFI_HANDLE **<a class="el" href="_oc_typing_lib_8h.html#a71473576373bdac9b4a2748939f53419">Buffer</a>)</td></tr>
<tr class="separator:ace47f1c3c96728c686f353601b20e94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab59a1ff0270137b2efbdc1fa81350eb9" id="r_ab59a1ff0270137b2efbdc1fa81350eb9"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab59a1ff0270137b2efbdc1fa81350eb9">VariableClassAddressChangeEvent</a> (IN EFI_EVENT Event, IN VOID *Context)</td></tr>
<tr class="separator:ab59a1ff0270137b2efbdc1fa81350eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc9e3e46bbe7d6d056b10abd1c0b47b" id="r_a2cc9e3e46bbe7d6d056b10abd1c0b47b"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cc9e3e46bbe7d6d056b10abd1c0b47b">OnReadyToBoot</a> (EFI_EVENT Event, VOID *Context)</td></tr>
<tr class="separator:a2cc9e3e46bbe7d6d056b10abd1c0b47b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a7e8ee2145690b5ad51f494d882066" id="r_a67a7e8ee2145690b5ad51f494d882066"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67a7e8ee2145690b5ad51f494d882066">OnEndOfDxe</a> (EFI_EVENT Event, VOID *Context)</td></tr>
<tr class="separator:a67a7e8ee2145690b5ad51f494d882066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad146d795e245a18d5c359307053c4311" id="r_ad146d795e245a18d5c359307053c4311"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad146d795e245a18d5c359307053c4311">VariableWriteServiceInitializeDxe</a> (VOID)</td></tr>
<tr class="separator:ad146d795e245a18d5c359307053c4311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97fe2d44e5f7fb62d96fbb92150e7b11" id="r_a97fe2d44e5f7fb62d96fbb92150e7b11"><td class="memItemLeft" align="right" valign="top">VOID EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97fe2d44e5f7fb62d96fbb92150e7b11">FtwNotificationEvent</a> (IN EFI_EVENT Event, IN VOID *Context)</td></tr>
<tr class="separator:a97fe2d44e5f7fb62d96fbb92150e7b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd428e68ec54ce3eabdc550f3ceb562" id="r_a7fd428e68ec54ce3eabdc550f3ceb562"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7fd428e68ec54ce3eabdc550f3ceb562">MapCreateEventEx</a> (IN UINT32 Type, IN EFI_TPL NotifyTpl, IN EFI_EVENT_NOTIFY NotifyFunction OPTIONAL, IN CONST VOID *NotifyContext OPTIONAL, IN CONST EFI_GUID *EventGroup OPTIONAL, OUT EFI_EVENT *Event)</td></tr>
<tr class="separator:a7fd428e68ec54ce3eabdc550f3ceb562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18123181f03fa33fe95b719241c75d92" id="r_a18123181f03fa33fe95b719241c75d92"><td class="memItemLeft" align="right" valign="top">STATIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18123181f03fa33fe95b719241c75d92">SaveAcpiGlobalVariable</a> (IN EFI_SYSTEM_TABLE *SystemTable)</td></tr>
<tr class="separator:a18123181f03fa33fe95b719241c75d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ccf3fcb8f619cd4c5b113c5a21974e7" id="r_a7ccf3fcb8f619cd4c5b113c5a21974e7"><td class="memItemLeft" align="right" valign="top">STATIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ccf3fcb8f619cd4c5b113c5a21974e7">RestoreAcpiGlobalVariable</a> (IN EFI_SYSTEM_TABLE *SystemTable)</td></tr>
<tr class="separator:a7ccf3fcb8f619cd4c5b113c5a21974e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da94995136d1f16628ed96ace455b9e" id="r_a5da94995136d1f16628ed96ace455b9e"><td class="memItemLeft" align="right" valign="top">EFI_STATUS EFIAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5da94995136d1f16628ed96ace455b9e">VariableServiceInitialize</a> (IN EFI_HANDLE ImageHandle, IN EFI_SYSTEM_TABLE *SystemTable)</td></tr>
<tr class="separator:a5da94995136d1f16628ed96ace455b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af78e568a46d1e85c3c3c63dfabf87e4d" id="r_af78e568a46d1e85c3c3c63dfabf87e4d"><td class="memItemLeft" align="right" valign="top">EFI_HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af78e568a46d1e85c3c3c63dfabf87e4d">mHandle</a> = NULL</td></tr>
<tr class="separator:af78e568a46d1e85c3c3c63dfabf87e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa58a5ac28ae9a432a5d1a18aecafec" id="r_a5aa58a5ac28ae9a432a5d1a18aecafec"><td class="memItemLeft" align="right" valign="top">EFI_EVENT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5aa58a5ac28ae9a432a5d1a18aecafec">mVirtualAddressChangeEvent</a> = NULL</td></tr>
<tr class="separator:a5aa58a5ac28ae9a432a5d1a18aecafec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e2500e757d9e54eabcb0e6b271c7fd" id="r_a82e2500e757d9e54eabcb0e6b271c7fd"><td class="memItemLeft" align="right" valign="top">VOID *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a82e2500e757d9e54eabcb0e6b271c7fd">mFtwRegistration</a> = NULL</td></tr>
<tr class="separator:a82e2500e757d9e54eabcb0e6b271c7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4191b60d44e7b3e0f9d3ff9820c7df98" id="r_a4191b60d44e7b3e0f9d3ff9820c7df98"><td class="memItemLeft" align="right" valign="top">VOID ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4191b60d44e7b3e0f9d3ff9820c7df98">mVarCheckAddressPointer</a> = NULL</td></tr>
<tr class="separator:a4191b60d44e7b3e0f9d3ff9820c7df98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad37289d0b6150db083bff0b4ef0167" id="r_a1ad37289d0b6150db083bff0b4ef0167"><td class="memItemLeft" align="right" valign="top">UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ad37289d0b6150db083bff0b4ef0167">mVarCheckAddressPointerCount</a> = 0</td></tr>
<tr class="separator:a1ad37289d0b6150db083bff0b4ef0167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc088fba974a902debc59a6b9b52a2d2" id="r_adc088fba974a902debc59a6b9b52a2d2"><td class="memItemLeft" align="right" valign="top">EDKII_VARIABLE_LOCK_PROTOCOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc088fba974a902debc59a6b9b52a2d2">mVariableLock</a> = { <a class="el" href="_variable_8h.html#a41fc0a1edd1d828e1aaccdbdea31fcd9">VariableLockRequestToLock</a> }</td></tr>
<tr class="separator:adc088fba974a902debc59a6b9b52a2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3769c69e076f6a319385561f06c767ae" id="r_a3769c69e076f6a319385561f06c767ae"><td class="memItemLeft" align="right" valign="top">EDKII_VARIABLE_POLICY_PROTOCOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3769c69e076f6a319385561f06c767ae">mVariablePolicyProtocol</a></td></tr>
<tr class="separator:a3769c69e076f6a319385561f06c767ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0169448b57f27eee3948891627fdaad6" id="r_a0169448b57f27eee3948891627fdaad6"><td class="memItemLeft" align="right" valign="top">EDKII_VAR_CHECK_PROTOCOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0169448b57f27eee3948891627fdaad6">mVarCheck</a></td></tr>
<tr class="separator:a0169448b57f27eee3948891627fdaad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971f80a8c54eb3f677809fc95108b260" id="r_a971f80a8c54eb3f677809fc95108b260"><td class="memItemLeft" align="right" valign="top">STATIC EFI_GUID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a971f80a8c54eb3f677809fc95108b260">mAcpiGlobalVariableGuid</a></td></tr>
<tr class="separator:a971f80a8c54eb3f677809fc95108b260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c5e754bc2628622f7dadaaf337375d" id="r_a16c5e754bc2628622f7dadaaf337375d"><td class="memItemLeft" align="right" valign="top">STATIC VOID *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16c5e754bc2628622f7dadaaf337375d">mAcpiGlobalVariable</a> = NULL</td></tr>
<tr class="separator:a16c5e754bc2628622f7dadaaf337375d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab808b118ce75dc3832fc7e58e080434d" id="r_ab808b118ce75dc3832fc7e58e080434d"><td class="memItemLeft" align="right" valign="top">STATIC UINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab808b118ce75dc3832fc7e58e080434d">mAcpiGlobalVariableAttributes</a></td></tr>
<tr class="separator:ab808b118ce75dc3832fc7e58e080434d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implement all four UEFI Runtime Variable services for the nonvolatile and volatile storage space and install variable architecture protocol.</p>
<p>Modified to work with UEFI1.1 for Apple firmware, and for immediate install.</p>
<p>Copyright (C) 2013, Red Hat, Inc. Copyright (c) 2006 - 2019, Intel Corporation. All rights reserved.<br  />
 (C) Copyright 2015 Hewlett Packard Enterprise Development LP<br  />
 Copyright (c) Microsoft Corporation.<br  />
 Additional modifications Copyright (c) 2022 Mike Beaton SPDX-License-Identifier: BSD-2-Clause-Patent </p>

<p class="definition">Definition in file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9907016296e6497969931ded9f683dd2" name="a9907016296e6497969931ded9f683dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9907016296e6497969931ded9f683dd2">&#9670;&#160;</a></span>AcquireLockOnlyAtBootTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AcquireLockOnlyAtBootTime </td>
          <td>(</td>
          <td class="paramtype">IN EFI_LOCK *</td>          <td class="paramname"><span class="paramname"><em>Lock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires lock only at boot time. Simply returns at runtime.</p>
<p>This is a temperary function that will be removed when EfiAcquireLock() in UefiLib can handle the call in UEFI Runtimer driver in RT phase. It calls EfiAcquireLock() at boot time, and simply returns at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Lock</td><td>A pointer to the lock to acquire. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00122">122</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a45b838cc8a03e864e159e8bd6d039a85" name="a45b838cc8a03e864e159e8bd6d039a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b838cc8a03e864e159e8bd6d039a85">&#9670;&#160;</a></span>AtRuntime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN AtRuntime </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return TRUE if ExitBootServices () has been called.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>If ExitBootServices () has been called. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00077">77</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a97fe2d44e5f7fb62d96fbb92150e7b11" name="a97fe2d44e5f7fb62d96fbb92150e7b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97fe2d44e5f7fb62d96fbb92150e7b11">&#9670;&#160;</a></span>FtwNotificationEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI FtwNotificationEvent </td>
          <td>(</td>
          <td class="paramtype">IN EFI_EVENT</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fault Tolerant Write protocol notification event handler.</p>
<p>Non-Volatile variable write may needs FTW protocol to reclaim when writting variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Event</td><td>Event whose notification function is being invoked. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Context</td><td>Pointer to the notification function's context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00428">428</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="accf7b653540f932153980dfb8ae90fc5" name="accf7b653540f932153980dfb8ae90fc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf7b653540f932153980dfb8ae90fc5">&#9670;&#160;</a></span>GetFtwProtocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS GetFtwProtocol </td>
          <td>(</td>
          <td class="paramtype">OUT VOID **</td>          <td class="paramname"><span class="paramname"><em>FtwProtocol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the Fault Tolerent Write protocol interface.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">FtwProtocol</td><td>The interface of Ftw protocol</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The FTW protocol instance was found and returned in FtwProtocol. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The FTW protocol instance was not found. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>SarProtocol is NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00164">164</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a2dd49d699ff41b754506367637679fd1" name="a2dd49d699ff41b754506367637679fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd49d699ff41b754506367637679fd1">&#9670;&#160;</a></span>GetFvbByHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS GetFvbByHandle </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>FvBlockHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_FIRMWARE_VOLUME_BLOCK_PROTOCOL **</td>          <td class="paramname"><span class="paramname"><em>FvBlock</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve the FVB protocol interface by HANDLE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">FvBlockHandle</td><td>The handle of FVB protocol that provides services for reading, writing, and erasing the target block. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FvBlock</td><td>The interface of FVB protocol</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The interface information for the specified protocol was returned. </td></tr>
    <tr><td class="paramname">EFI_UNSUPPORTED</td><td>The device does not support the FVB protocol. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>FvBlockHandle is not a valid EFI_HANDLE or FvBlock is NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00194">194</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="ace47f1c3c96728c686f353601b20e94a" name="ace47f1c3c96728c686f353601b20e94a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace47f1c3c96728c686f353601b20e94a">&#9670;&#160;</a></span>GetFvbCountAndBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS GetFvbCountAndBuffer </td>
          <td>(</td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>NumberHandles</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_HANDLE **</td>          <td class="paramname"><span class="paramname"><em>Buffer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function returns an array of handles that support the FVB protocol in a buffer allocated from pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">NumberHandles</td><td>The number of handles returned in Buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Buffer</td><td>A pointer to the buffer to return the requested array of handles that support FVB protocol.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The array of handles was returned in Buffer, and the number of handles in Buffer was returned in NumberHandles. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>No FVB handle was found. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>There is not enough pool memory to store the matching results. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>NumberHandles is NULL or Buffer is NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00225">225</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a2f31a299860d32460c63f5a918b4c1cb" name="a2f31a299860d32460c63f5a918b4c1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f31a299860d32460c63f5a918b4c1cb">&#9670;&#160;</a></span>InitializeLock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_LOCK * InitializeLock </td>
          <td>(</td>
          <td class="paramtype">IN OUT EFI_LOCK *</td>          <td class="paramname"><span class="paramname"><em>Lock</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_TPL</td>          <td class="paramname"><span class="paramname"><em>Priority</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a basic mutual exclusion lock.</p>
<p>This function initializes a basic mutual exclusion lock to the released state and returns the lock. Each lock provides mutual exclusion access at its task priority level. Since there is no preemption or multiprocessor support in EFI, acquiring the lock only consists of raising to the locks TPL. If Lock is NULL, then <a class="el" href="coder_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT()</a>. If Priority is not a valid TPL value, then <a class="el" href="coder_8h.html#aca68c0d4ac8df0838e209fb5300f7be3">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Lock</td><td>A pointer to the lock data structure to initialize. </td></tr>
    <tr><td class="paramname">Priority</td><td>EFI TPL is associated with the lock.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The lock. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00101">101</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a7fd428e68ec54ce3eabdc550f3ceb562" name="a7fd428e68ec54ce3eabdc550f3ceb562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd428e68ec54ce3eabdc550f3ceb562">&#9670;&#160;</a></span>MapCreateEventEx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS EFIAPI MapCreateEventEx </td>
          <td>(</td>
          <td class="paramtype">IN UINT32</td>          <td class="paramname"><span class="paramname"><em>Type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_TPL</td>          <td class="paramname"><span class="paramname"><em>NotifyTpl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_EVENT_NOTIFY NotifyFunction</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST VOID *NotifyContext</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CONST EFI_GUID *EventGroup</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_EVENT *</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00534">534</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a67a7e8ee2145690b5ad51f494d882066" name="a67a7e8ee2145690b5ad51f494d882066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a7e8ee2145690b5ad51f494d882066">&#9670;&#160;</a></span>OnEndOfDxe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI OnEndOfDxe </td>
          <td>(</td>
          <td class="paramtype">EFI_EVENT</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notification function of EFI_END_OF_DXE_EVENT_GROUP_GUID event group.</p>
<p>This is a notification function registered on EFI_END_OF_DXE_EVENT_GROUP_GUID event group.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>Event whose notification function is being invoked. </td></tr>
    <tr><td class="paramname">Context</td><td>Pointer to the notification function's context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00357">357</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a2cc9e3e46bbe7d6d056b10abd1c0b47b" name="a2cc9e3e46bbe7d6d056b10abd1c0b47b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc9e3e46bbe7d6d056b10abd1c0b47b">&#9670;&#160;</a></span>OnReadyToBoot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI OnReadyToBoot </td>
          <td>(</td>
          <td class="paramtype">EFI_EVENT</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notification function of EVT_GROUP_READY_TO_BOOT event group.</p>
<p>This is a notification function registered on EVT_GROUP_READY_TO_BOOT event group. When the Boot Manager is about to load and execute a boot option, it reclaims variable storage if free size is below the threshold.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>Event whose notification function is being invoked. </td></tr>
    <tr><td class="paramname">Context</td><td>Pointer to the notification function's context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00311">311</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="af56ea336ea4e8bc91b460eb80884c056" name="af56ea336ea4e8bc91b460eb80884c056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af56ea336ea4e8bc91b460eb80884c056">&#9670;&#160;</a></span>ProtocolIsVariablePolicyEnabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI ProtocolIsVariablePolicyEnabled </td>
          <td>(</td>
          <td class="paramtype">OUT BOOLEAN *</td>          <td class="paramname"><span class="paramname"><em>State</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This API function returns whether or not the policy engine is currently being enforced.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">State</td><td>Pointer to a return value for whether the policy enforcement is currently enabled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td></td></tr>
    <tr><td class="paramname">Others</td><td>An error has prevented this command from completing. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00523">523</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a79811ca169bc72b663422348cf756534" name="a79811ca169bc72b663422348cf756534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79811ca169bc72b663422348cf756534">&#9670;&#160;</a></span>RecordSecureBootPolicyVarData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI RecordSecureBootPolicyVarData </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Some Secure Boot Policy Variable may update following other variable changes(SecureBoot follows PK change, etc). Record their initial State when variable write service is ready. </p>

<p class="definition">Definition at line <a class="el" href="_measurement_8c_source.html#l00321">321</a> of file <a class="el" href="_measurement_8c_source.html">Measurement.c</a>.</p>

</div>
</div>
<a id="a93d27d73d34434aa7c2d5b93531d0737" name="a93d27d73d34434aa7c2d5b93531d0737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d27d73d34434aa7c2d5b93531d0737">&#9670;&#160;</a></span>ReleaseLockOnlyAtBootTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID ReleaseLockOnlyAtBootTime </td>
          <td>(</td>
          <td class="paramtype">IN EFI_LOCK *</td>          <td class="paramname"><span class="paramname"><em>Lock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases lock only at boot time. Simply returns at runtime.</p>
<p>This is a temperary function which will be removed when EfiReleaseLock() in UefiLib can handle the call in UEFI Runtimer driver in RT phase. It calls EfiReleaseLock() at boot time and simply returns at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Lock</td><td>A pointer to the lock to release. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00144">144</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a7ccf3fcb8f619cd4c5b113c5a21974e7" name="a7ccf3fcb8f619cd4c5b113c5a21974e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ccf3fcb8f619cd4c5b113c5a21974e7">&#9670;&#160;</a></span>RestoreAcpiGlobalVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC VOID RestoreAcpiGlobalVariable </td>
          <td>(</td>
          <td class="paramtype">IN EFI_SYSTEM_TABLE *</td>          <td class="paramname"><span class="paramname"><em>SystemTable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00608">608</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a18123181f03fa33fe95b719241c75d92" name="a18123181f03fa33fe95b719241c75d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18123181f03fa33fe95b719241c75d92">&#9670;&#160;</a></span>SaveAcpiGlobalVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC VOID SaveAcpiGlobalVariable </td>
          <td>(</td>
          <td class="paramtype">IN EFI_SYSTEM_TABLE *</td>          <td class="paramname"><span class="paramname"><em>SystemTable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00569">569</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="ab59a1ff0270137b2efbdc1fa81350eb9" name="ab59a1ff0270137b2efbdc1fa81350eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab59a1ff0270137b2efbdc1fa81350eb9">&#9670;&#160;</a></span>VariableClassAddressChangeEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EFIAPI VariableClassAddressChangeEvent </td>
          <td>(</td>
          <td class="paramtype">IN EFI_EVENT</td>          <td class="paramname"><span class="paramname"><em>Event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *</td>          <td class="paramname"><span class="paramname"><em>Context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notification function of EVT_SIGNAL_VIRTUAL_ADDRESS_CHANGE.</p>
<p>This is a notification function registered on EVT_SIGNAL_VIRTUAL_ADDRESS_CHANGE event. It convers pointer to new virtual address.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Event</td><td>Event whose notification function is being invoked. </td></tr>
    <tr><td class="paramname">Context</td><td>Pointer to the notification function's context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00257">257</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a5da94995136d1f16628ed96ace455b9e" name="a5da94995136d1f16628ed96ace455b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da94995136d1f16628ed96ace455b9e">&#9670;&#160;</a></span>VariableServiceInitialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS EFIAPI VariableServiceInitialize </td>
          <td>(</td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>ImageHandle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_SYSTEM_TABLE *</td>          <td class="paramname"><span class="paramname"><em>SystemTable</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Variable Driver main entry point. The Variable driver places the 4 EFI runtime services in the EFI System Table and installs arch protocols for variable read and write services being available. It also registers a notification function for an EVT_SIGNAL_VIRTUAL_ADDRESS_CHANGE event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ImageHandle</td><td>The firmware allocated handle for the EFI image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">SystemTable</td><td>A pointer to the EFI System Table.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Variable service successfully initialized. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00645">645</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="ad146d795e245a18d5c359307053c4311" name="ad146d795e245a18d5c359307053c4311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad146d795e245a18d5c359307053c4311">&#9670;&#160;</a></span>VariableWriteServiceInitializeDxe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID VariableWriteServiceInitializeDxe </td>
          <td>(</td>
          <td class="paramtype">VOID</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes variable write service for DXE. </p>

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00386">386</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a16c5e754bc2628622f7dadaaf337375d" name="a16c5e754bc2628622f7dadaaf337375d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c5e754bc2628622f7dadaaf337375d">&#9670;&#160;</a></span>mAcpiGlobalVariable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC VOID* mAcpiGlobalVariable = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00054">54</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="ab808b118ce75dc3832fc7e58e080434d" name="ab808b118ce75dc3832fc7e58e080434d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab808b118ce75dc3832fc7e58e080434d">&#9670;&#160;</a></span>mAcpiGlobalVariableAttributes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC UINT32 mAcpiGlobalVariableAttributes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00058">58</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a971f80a8c54eb3f677809fc95108b260" name="a971f80a8c54eb3f677809fc95108b260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a971f80a8c54eb3f677809fc95108b260">&#9670;&#160;</a></span>mAcpiGlobalVariableGuid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_GUID mAcpiGlobalVariableGuid</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  0xAF9FFD67, 0xEC10, 0x488A, { 0x9D, 0xFC, 0x6C, 0xBF, 0x5E, 0xE2, 0x2C, 0x2E }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00048">48</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a82e2500e757d9e54eabcb0e6b271c7fd" name="a82e2500e757d9e54eabcb0e6b271c7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e2500e757d9e54eabcb0e6b271c7fd">&#9670;&#160;</a></span>mFtwRegistration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID* mFtwRegistration = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00030">30</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="af78e568a46d1e85c3c3c63dfabf87e4d" name="af78e568a46d1e85c3c3c63dfabf87e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af78e568a46d1e85c3c3c63dfabf87e4d">&#9670;&#160;</a></span>mHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_HANDLE mHandle = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00028">28</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a0169448b57f27eee3948891627fdaad6" name="a0169448b57f27eee3948891627fdaad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0169448b57f27eee3948891627fdaad6">&#9670;&#160;</a></span>mVarCheck</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDKII_VAR_CHECK_PROTOCOL mVarCheck</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  <a class="code hl_function" href="_var_check_8c.html#a48fa81277e303f00e560f242007171b2">VarCheckRegisterSetVariableCheckHandler</a>,</div>
<div class="line">  <a class="code hl_function" href="_var_check_8c.html#a38f7dd49b6f1fb91d5f9c7de1ff66e52">VarCheckVariablePropertySet</a>,</div>
<div class="line">  <a class="code hl_function" href="_var_check_8c.html#a4e7868150b41eeddb4a8b0bb5518dfa4">VarCheckVariablePropertyGet</a></div>
<div class="line">}</div>
<div class="ttc" id="a_var_check_8c_html_a38f7dd49b6f1fb91d5f9c7de1ff66e52"><div class="ttname"><a href="_var_check_8c.html#a38f7dd49b6f1fb91d5f9c7de1ff66e52">VarCheckVariablePropertySet</a></div><div class="ttdeci">EFI_STATUS EFIAPI VarCheckVariablePropertySet(IN CHAR16 *Name, IN EFI_GUID *Guid, IN VAR_CHECK_VARIABLE_PROPERTY *VariableProperty)</div><div class="ttdef"><b>Definition</b> <a href="_var_check_8c_source.html#l00059">VarCheck.c:59</a></div></div>
<div class="ttc" id="a_var_check_8c_html_a48fa81277e303f00e560f242007171b2"><div class="ttname"><a href="_var_check_8c.html#a48fa81277e303f00e560f242007171b2">VarCheckRegisterSetVariableCheckHandler</a></div><div class="ttdeci">EFI_STATUS EFIAPI VarCheckRegisterSetVariableCheckHandler(IN VAR_CHECK_SET_VARIABLE_CHECK_HANDLER Handler)</div><div class="ttdef"><b>Definition</b> <a href="_var_check_8c_source.html#l00029">VarCheck.c:29</a></div></div>
<div class="ttc" id="a_var_check_8c_html_a4e7868150b41eeddb4a8b0bb5518dfa4"><div class="ttname"><a href="_var_check_8c.html#a4e7868150b41eeddb4a8b0bb5518dfa4">VarCheckVariablePropertyGet</a></div><div class="ttdeci">EFI_STATUS EFIAPI VarCheckVariablePropertyGet(IN CHAR16 *Name, IN EFI_GUID *Guid, OUT VAR_CHECK_VARIABLE_PROPERTY *VariableProperty)</div><div class="ttdef"><b>Definition</b> <a href="_var_check_8c_source.html#l00088">VarCheck.c:88</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00042">42</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a4191b60d44e7b3e0f9d3ff9820c7df98" name="a4191b60d44e7b3e0f9d3ff9820c7df98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4191b60d44e7b3e0f9d3ff9820c7df98">&#9670;&#160;</a></span>mVarCheckAddressPointer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID*** mVarCheckAddressPointer = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00031">31</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a1ad37289d0b6150db083bff0b4ef0167" name="a1ad37289d0b6150db083bff0b4ef0167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad37289d0b6150db083bff0b4ef0167">&#9670;&#160;</a></span>mVarCheckAddressPointerCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN mVarCheckAddressPointerCount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00032">32</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="adc088fba974a902debc59a6b9b52a2d2" name="adc088fba974a902debc59a6b9b52a2d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc088fba974a902debc59a6b9b52a2d2">&#9670;&#160;</a></span>mVariableLock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDKII_VARIABLE_LOCK_PROTOCOL mVariableLock = { <a class="el" href="_variable_8h.html#a41fc0a1edd1d828e1aaccdbdea31fcd9">VariableLockRequestToLock</a> }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00033">33</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a3769c69e076f6a319385561f06c767ae" name="a3769c69e076f6a319385561f06c767ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3769c69e076f6a319385561f06c767ae">&#9670;&#160;</a></span>mVariablePolicyProtocol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EDKII_VARIABLE_POLICY_PROTOCOL mVariablePolicyProtocol</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  EDKII_VARIABLE_POLICY_PROTOCOL_REVISION,</div>
<div class="line">  DisableVariablePolicy,</div>
<div class="line">  <a class="code hl_function" href="#af56ea336ea4e8bc91b460eb80884c056">ProtocolIsVariablePolicyEnabled</a>,</div>
<div class="line">  RegisterVariablePolicy,</div>
<div class="line">  DumpVariablePolicy,</div>
<div class="line">  LockVariablePolicy</div>
<div class="line">}</div>
<div class="ttc" id="a_variable_dxe_8c_html_af56ea336ea4e8bc91b460eb80884c056"><div class="ttname"><a href="#af56ea336ea4e8bc91b460eb80884c056">ProtocolIsVariablePolicyEnabled</a></div><div class="ttdeci">EFI_STATUS EFIAPI ProtocolIsVariablePolicyEnabled(OUT BOOLEAN *State)</div><div class="ttdef"><b>Definition</b> <a href="_variable_dxe_8c_source.html#l00523">VariableDxe.c:523</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00034">34</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
<a id="a5aa58a5ac28ae9a432a5d1a18aecafec" name="a5aa58a5ac28ae9a432a5d1a18aecafec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa58a5ac28ae9a432a5d1a18aecafec">&#9670;&#160;</a></span>mVirtualAddressChangeEvent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_EVENT mVirtualAddressChangeEvent = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_variable_dxe_8c_source.html#l00029">29</a> of file <a class="el" href="_variable_dxe_8c_source.html">VariableDxe.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_46f0a310448968fe371c870cd868aa1f.html">Platform</a></li><li class="navelem"><a class="el" href="dir_2721e2b3ed45f8a6318d9316243ecd2b.html">OpenVariableRuntimeDxe</a></li><li class="navelem"><a class="el" href="_variable_dxe_8c.html">VariableDxe.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
