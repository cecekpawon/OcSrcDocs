<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Platform/OpenPartitionDxe/Gpt.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_gpt_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Gpt.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_partition_8h_source.html">Partition.h</a>&quot;</code><br />
</div>
<p><a href="_gpt_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeaaf548022868679d4efc37cef897dba" id="r_aeaaf548022868679d4efc37cef897dba"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaaf548022868679d4efc37cef897dba">PartitionValidGptTable</a> (IN EFI_BLOCK_IO_PROTOCOL *BlockIo, IN EFI_DISK_IO_PROTOCOL *DiskIo, IN EFI_LBA Lba, OUT EFI_PARTITION_TABLE_HEADER *PartHeader)</td></tr>
<tr class="separator:aeaaf548022868679d4efc37cef897dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdb0d6d4f916b2800ece36c9d3f75a3e" id="r_abdb0d6d4f916b2800ece36c9d3f75a3e"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdb0d6d4f916b2800ece36c9d3f75a3e">PartitionCheckGptEntryArrayCRC</a> (IN EFI_BLOCK_IO_PROTOCOL *BlockIo, IN EFI_DISK_IO_PROTOCOL *DiskIo, IN EFI_PARTITION_TABLE_HEADER *PartHeader)</td></tr>
<tr class="separator:abdb0d6d4f916b2800ece36c9d3f75a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d39a4024797683c7a90bb3ffcae8152" id="r_a5d39a4024797683c7a90bb3ffcae8152"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5d39a4024797683c7a90bb3ffcae8152">PartitionRestoreGptTable</a> (IN EFI_BLOCK_IO_PROTOCOL *BlockIo, IN EFI_DISK_IO_PROTOCOL *DiskIo, IN EFI_PARTITION_TABLE_HEADER *PartHeader)</td></tr>
<tr class="separator:a5d39a4024797683c7a90bb3ffcae8152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a400baa8e5fdbacfe8561b2562bc41bab" id="r_a400baa8e5fdbacfe8561b2562bc41bab"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a400baa8e5fdbacfe8561b2562bc41bab">PartitionCheckGptEntry</a> (IN EFI_PARTITION_TABLE_HEADER *PartHeader, IN EFI_PARTITION_ENTRY *PartEntry, OUT <a class="el" href="struct_e_f_i___p_a_r_t_i_t_i_o_n___e_n_t_r_y___s_t_a_t_u_s.html">EFI_PARTITION_ENTRY_STATUS</a> *PEntryStatus)</td></tr>
<tr class="separator:a400baa8e5fdbacfe8561b2562bc41bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeac011e13ed3fb23672c1c347b14af2" id="r_afeac011e13ed3fb23672c1c347b14af2"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afeac011e13ed3fb23672c1c347b14af2">PartitionCheckCrcAltSize</a> (IN UINTN MaxSize, IN UINTN <a class="el" href="_oc_apple_disk_image_block_io_8c.html#aaf1b2e5ab5704edcdbbd3e68e81b7573">Size</a>, IN OUT EFI_TABLE_HEADER *<a class="el" href="_apple_sm_bios_8h.html#ad82e7fca577ded8bf0da4cd9d71eadc2">Hdr</a>)</td></tr>
<tr class="separator:afeac011e13ed3fb23672c1c347b14af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa613d0014ce5b71242e1b69346e6389a" id="r_aa613d0014ce5b71242e1b69346e6389a"><td class="memItemLeft" align="right" valign="top">BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa613d0014ce5b71242e1b69346e6389a">PartitionCheckCrc</a> (IN UINTN MaxSize, IN OUT EFI_TABLE_HEADER *<a class="el" href="_apple_sm_bios_8h.html#ad82e7fca577ded8bf0da4cd9d71eadc2">Hdr</a>)</td></tr>
<tr class="separator:aa613d0014ce5b71242e1b69346e6389a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2042d4028a60a614edc83216bae019ba" id="r_a2042d4028a60a614edc83216bae019ba"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2042d4028a60a614edc83216bae019ba">PartitionSetCrcAltSize</a> (IN UINTN <a class="el" href="_oc_apple_disk_image_block_io_8c.html#aaf1b2e5ab5704edcdbbd3e68e81b7573">Size</a>, IN OUT EFI_TABLE_HEADER *<a class="el" href="_apple_sm_bios_8h.html#ad82e7fca577ded8bf0da4cd9d71eadc2">Hdr</a>)</td></tr>
<tr class="separator:a2042d4028a60a614edc83216bae019ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a94f3fc2d17d77cd8c492dbadb3610" id="r_ac9a94f3fc2d17d77cd8c492dbadb3610"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9a94f3fc2d17d77cd8c492dbadb3610">PartitionSetCrc</a> (IN OUT EFI_TABLE_HEADER *<a class="el" href="_apple_sm_bios_8h.html#ad82e7fca577ded8bf0da4cd9d71eadc2">Hdr</a>)</td></tr>
<tr class="separator:ac9a94f3fc2d17d77cd8c492dbadb3610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad175758fb40c2ed921ca1687989de6a9" id="r_ad175758fb40c2ed921ca1687989de6a9"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad175758fb40c2ed921ca1687989de6a9">PartitionInstallGptChildHandles</a> (IN EFI_DRIVER_BINDING_PROTOCOL *This, IN EFI_HANDLE <a class="el" href="_oc_typing_lib_8h.html#acd483f778a349e0f07adbc1dfe872a15">Handle</a>, IN EFI_DISK_IO_PROTOCOL *DiskIo, IN EFI_DISK_IO2_PROTOCOL *DiskIo2, IN EFI_BLOCK_IO_PROTOCOL *BlockIo, IN EFI_BLOCK_IO2_PROTOCOL *BlockIo2, IN EFI_DEVICE_PATH_PROTOCOL *DevicePath)</td></tr>
<tr class="separator:ad175758fb40c2ed921ca1687989de6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decode a hard disk partitioned with the GPT scheme in the UEFI 2.0 specification.</p>
<p>Caution: This file requires additional review when modified. This driver will have external input - disk partition. This external input must be validated carefully to avoid security issue like buffer overflow, integer overflow.</p>
<p><a class="el" href="#ad175758fb40c2ed921ca1687989de6a9">PartitionInstallGptChildHandles()</a> routine will read disk partition content and do basic validation before <a class="el" href="_partition_8c.html#a9e821dd8b955f1fcc22d631e4912192c">PartitionInstallChildHandle()</a>.</p>
<p><a class="el" href="#aeaaf548022868679d4efc37cef897dba">PartitionValidGptTable()</a>, <a class="el" href="#a400baa8e5fdbacfe8561b2562bc41bab">PartitionCheckGptEntry()</a> routine will accept disk partition content and validate the GPT table and GPT entry.</p>
<p>Copyright (c) 2018 Qualcomm Datacenter Technologies, Inc. Copyright (c) 2006 - 2019, Intel Corporation. All rights reserved.<br  />
 SPDX-License-Identifier: BSD-2-Clause-Patent </p>

<p class="definition">Definition in file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa613d0014ce5b71242e1b69346e6389a" name="aa613d0014ce5b71242e1b69346e6389a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa613d0014ce5b71242e1b69346e6389a">&#9670;&#160;</a></span>PartitionCheckCrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN PartitionCheckCrc </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>MaxSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>Hdr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks the CRC32 value in the table header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MaxSize</td><td>Max Size limit </td></tr>
    <tr><td class="paramname">Hdr</td><td>Table to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE CRC Valid </dd>
<dd>
FALSE CRC Invalid </dd></dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00826">826</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="afeac011e13ed3fb23672c1c347b14af2" name="afeac011e13ed3fb23672c1c347b14af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeac011e13ed3fb23672c1c347b14af2">&#9670;&#160;</a></span>PartitionCheckCrcAltSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN PartitionCheckCrcAltSize </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>MaxSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>Size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>Hdr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks the CRC32 value in the table header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MaxSize</td><td>Max Size limit </td></tr>
    <tr><td class="paramname">Size</td><td>The size of the table </td></tr>
    <tr><td class="paramname">Hdr</td><td>Table to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE CRC Valid </dd>
<dd>
FALSE CRC Invalid </dd></dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00846">846</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="a400baa8e5fdbacfe8561b2562bc41bab" name="a400baa8e5fdbacfe8561b2562bc41bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a400baa8e5fdbacfe8561b2562bc41bab">&#9670;&#160;</a></span>PartitionCheckGptEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID PartitionCheckGptEntry </td>
          <td>(</td>
          <td class="paramtype">IN EFI_PARTITION_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>PartHeader</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_PARTITION_ENTRY *</td>          <td class="paramname"><span class="paramname"><em>PartEntry</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT <a class="el" href="struct_e_f_i___p_a_r_t_i_t_i_o_n___e_n_t_r_y___s_t_a_t_u_s.html">EFI_PARTITION_ENTRY_STATUS</a> *</td>          <td class="paramname"><span class="paramname"><em>PEntryStatus</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine will check GPT partition entry and return entry status.</p>
<p>Caution: This function may receive untrusted input. The GPT partition entry is external input, so this routine will do basic validation for GPT partition entry and report status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">PartHeader</td><td>Partition table header structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PartEntry</td><td>The partition entry array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">PEntryStatus</td><td>the partition entry status array recording the status of each partition </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00722">722</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="abdb0d6d4f916b2800ece36c9d3f75a3e" name="abdb0d6d4f916b2800ece36c9d3f75a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdb0d6d4f916b2800ece36c9d3f75a3e">&#9670;&#160;</a></span>PartitionCheckGptEntryArrayCRC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN PartitionCheckGptEntryArrayCRC </td>
          <td>(</td>
          <td class="paramtype">IN EFI_BLOCK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>BlockIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DISK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DiskIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_PARTITION_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>PartHeader</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check if the CRC field in the Partition table header is valid for Partition entry array.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockIo</td><td>Parent BlockIo interface </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DiskIo</td><td>Disk Io Protocol. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PartHeader</td><td>Partition table header structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>the CRC is valid </td></tr>
    <tr><td class="paramname">FALSE</td><td>the CRC is invalid </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00561">561</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="ad175758fb40c2ed921ca1687989de6a9" name="ad175758fb40c2ed921ca1687989de6a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad175758fb40c2ed921ca1687989de6a9">&#9670;&#160;</a></span>PartitionInstallGptChildHandles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS PartitionInstallGptChildHandles </td>
          <td>(</td>
          <td class="paramtype">IN EFI_DRIVER_BINDING_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>This</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_HANDLE</td>          <td class="paramname"><span class="paramname"><em>Handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DISK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DiskIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DISK_IO2_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DiskIo2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_BLOCK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>BlockIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_BLOCK_IO2_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>BlockIo2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DEVICE_PATH_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DevicePath</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install child handles if the Handle supports GPT partition structure.</p>
<p>Caution: This function may receive untrusted input. The GPT partition table is external input, so this routine will do basic validation for GPT partition table before install child handle for each GPT partition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">This</td><td>Calling context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Handle</td><td>Parent Handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DiskIo</td><td>Parent DiskIo interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DiskIo2</td><td>Parent DiskIo2 interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockIo</td><td>Parent BlockIo interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockIo2</td><td>Parent BlockIo2 interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DevicePath</td><td>Parent Device Path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>Valid GPT disk. </td></tr>
    <tr><td class="paramname">EFI_MEDIA_CHANGED</td><td>Media changed Detected. </td></tr>
    <tr><td class="paramname">other</td><td>Not a valid GPT disk. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00186">186</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="a5d39a4024797683c7a90bb3ffcae8152" name="a5d39a4024797683c7a90bb3ffcae8152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d39a4024797683c7a90bb3ffcae8152">&#9670;&#160;</a></span>PartitionRestoreGptTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN PartitionRestoreGptTable </td>
          <td>(</td>
          <td class="paramtype">IN EFI_BLOCK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>BlockIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DISK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DiskIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_PARTITION_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>PartHeader</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restore Partition Table to its alternate place (Primary -&gt; Backup or Backup -&gt; Primary).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockIo</td><td>Parent BlockIo interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DiskIo</td><td>Disk Io Protocol. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">PartHeader</td><td>Partition table header structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Restoring succeeds </td></tr>
    <tr><td class="paramname">FALSE</td><td>Restoring failed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00620">620</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="ac9a94f3fc2d17d77cd8c492dbadb3610" name="ac9a94f3fc2d17d77cd8c492dbadb3610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a94f3fc2d17d77cd8c492dbadb3610">&#9670;&#160;</a></span>PartitionSetCrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID PartitionSetCrc </td>
          <td>(</td>
          <td class="paramtype">IN OUT EFI_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>Hdr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the CRC32 value in the table header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Hdr</td><td>Table to update </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00788">788</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="a2042d4028a60a614edc83216bae019ba" name="a2042d4028a60a614edc83216bae019ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2042d4028a60a614edc83216bae019ba">&#9670;&#160;</a></span>PartitionSetCrcAltSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID PartitionSetCrcAltSize </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>Size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT EFI_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>Hdr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the CRC32 value in the table header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Size</td><td>The size of the table </td></tr>
    <tr><td class="paramname">Hdr</td><td>Table to update </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00803">803</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
<a id="aeaaf548022868679d4efc37cef897dba" name="aeaaf548022868679d4efc37cef897dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaaf548022868679d4efc37cef897dba">&#9670;&#160;</a></span>PartitionValidGptTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOLEAN PartitionValidGptTable </td>
          <td>(</td>
          <td class="paramtype">IN EFI_BLOCK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>BlockIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_DISK_IO_PROTOCOL *</td>          <td class="paramname"><span class="paramname"><em>DiskIo</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_LBA</td>          <td class="paramname"><span class="paramname"><em>Lba</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT EFI_PARTITION_TABLE_HEADER *</td>          <td class="paramname"><span class="paramname"><em>PartHeader</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Install child handles if the Handle supports GPT partition structure.</p>
<p>Caution: This function may receive untrusted input. The GPT partition table header is external input, so this routine will do basic validation for GPT partition table header before return.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockIo</td><td>Parent BlockIo interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DiskIo</td><td>Disk Io protocol. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Lba</td><td>The starting Lba of the Partition Table </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">PartHeader</td><td>Stores the partition table that is read</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>The partition table is valid </td></tr>
    <tr><td class="paramname">FALSE</td><td>The partition table is not valid</td></tr>
  </table>
  </dd>
</dl>
<p>This routine will read GPT partition table header and return it.</p>
<p>Caution: This function may receive untrusted input. The GPT partition table header is external input, so this routine will do basic validation for GPT partition table header before return.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BlockIo</td><td>Parent BlockIo interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DiskIo</td><td>Disk Io protocol. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Lba</td><td>The starting Lba of the Partition Table </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">PartHeader</td><td>Stores the partition table that is read</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>The partition table is valid </td></tr>
    <tr><td class="paramname">FALSE</td><td>The partition table is not valid </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_gpt_8c_source.html#l00482">482</a> of file <a class="el" href="_gpt_8c_source.html">Gpt.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_46f0a310448968fe371c870cd868aa1f.html">Platform</a></li><li class="navelem"><a class="el" href="dir_bf4e2e8b85c6dc50b0464e83b14f9dea.html">OpenPartitionDxe</a></li><li class="navelem"><a class="el" href="_gpt_8c.html">Gpt.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
