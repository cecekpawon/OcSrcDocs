<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenCore: Library/OcAfterBootCompatLib/CustomSlide.c File Reference</title>
<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-zephyr.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-zephyr.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LogoApprox.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenCore
   &#160;<span id="projectnumber">1.0.4</span>
   </div>
   <div id="projectbrief">OpenCore Bootloader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_custom_slide_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CustomSlide.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_boot_compat_internal_8h_source.html">BootCompatInternal.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="_apple_variable_8h_source.html">Guid/AppleVariable.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_variable_8h_source.html">Guid/OcVariable.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_hibernate_8h_source.html">IndustryStandard/AppleHibernate.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_apple_csr_config_8h_source.html">IndustryStandard/AppleCsrConfig.h</a>&gt;</code><br />
<code>#include &lt;Library/BaseLib.h&gt;</code><br />
<code>#include &lt;Library/BaseMemoryLib.h&gt;</code><br />
<code>#include &lt;Library/DebugLib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_boot_management_lib_8h_source.html">Library/OcBootManagementLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_crypto_lib_8h_source.html">Library/OcCryptoLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_device_tree_lib_8h_source.html">Library/OcDeviceTreeLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_macho_lib_8h_source.html">Library/OcMachoLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_memory_lib_8h_source.html">Library/OcMemoryLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_misc_lib_8h_source.html">Library/OcMiscLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_rng_lib_8h_source.html">Library/OcRngLib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_oc_string_lib_8h_source.html">Library/OcStringLib.h</a>&gt;</code><br />
<code>#include &lt;Library/PrintLib.h&gt;</code><br />
<code>#include &lt;Library/UefiBootServicesTableLib.h&gt;</code><br />
<code>#include &lt;Library/UefiLib.h&gt;</code><br />
<code>#include &lt;Library/UefiRuntimeServicesTableLib.h&gt;</code><br />
</div>
<p><a href="_custom_slide_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8b3f2db6dcab182634a7f6570afb8652" id="r_a8b3f2db6dcab182634a7f6570afb8652"><td class="memItemLeft" align="right" valign="top">STATIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b3f2db6dcab182634a7f6570afb8652">GetSlideRangeForValue</a> (IN UINTN EstimatedKernelArea, IN BOOLEAN HasSandyOrIvy, IN UINT8 Slide, OUT UINTN *StartAddr, OUT UINTN *EndAddr)</td></tr>
<tr class="separator:a8b3f2db6dcab182634a7f6570afb8652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c0cb53ec8b4a2be1784247893f9673" id="r_a41c0cb53ec8b4a2be1784247893f9673"><td class="memItemLeft" align="right" valign="top">STATIC UINT8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41c0cb53ec8b4a2be1784247893f9673">GenerateSlideValue</a> (IN <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *SlideSupport)</td></tr>
<tr class="separator:a41c0cb53ec8b4a2be1784247893f9673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0c44ce0c161917729715244879ea28" id="r_aaa0c44ce0c161917729715244879ea28"><td class="memItemLeft" align="right" valign="top">STATIC BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa0c44ce0c161917729715244879ea28">ShouldUseCustomSlideOffsetDecision</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *SlideSupport, IN UINT8 FallbackSlide, IN UINT64 MaxAvailableSize)</td></tr>
<tr class="separator:aaa0c44ce0c161917729715244879ea28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f54c9103a642b20d8d4aa01e383770" id="r_a94f54c9103a642b20d8d4aa01e383770"><td class="memItemLeft" align="right" valign="top">STATIC BOOLEAN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94f54c9103a642b20d8d4aa01e383770">ShouldUseCustomSlideOffset</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *SlideSupport, IN EFI_GET_MEMORY_MAP GetMemoryMap OPTIONAL, IN <a class="el" href="_oc_memory_lib_8h.html#aa7dcc8df15154c755d5686a4fa0bf6b6">OC_MEMORY_FILTER</a> FilterMap OPTIONAL, IN VOID *FilterMapContext OPTIONAL, IN BOOLEAN HasSandyOrIvy)</td></tr>
<tr class="separator:a94f54c9103a642b20d8d4aa01e383770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19df60a1531c1a1350d6ad575def0eea" id="r_a19df60a1531c1a1350d6ad575def0eea"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19df60a1531c1a1350d6ad575def0eea">GetVariableCsrActiveConfig</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *SlideSupport, IN EFI_GET_VARIABLE GetVariable, IN CHAR16 *VariableName, IN EFI_GUID *VendorGuid, OUT UINT32 *Attributes OPTIONAL, IN OUT UINTN *DataSize, OUT VOID *Data)</td></tr>
<tr class="separator:a19df60a1531c1a1350d6ad575def0eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8f13be7f926311ffed8267dfaaf43a" id="r_adc8f13be7f926311ffed8267dfaaf43a"><td class="memItemLeft" align="right" valign="top">STATIC EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc8f13be7f926311ffed8267dfaaf43a">GetVariableBootArgs</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *SlideSupport, IN EFI_GET_VARIABLE GetVariable, IN CHAR16 *VariableName, IN EFI_GUID *VendorGuid, OUT UINT32 *Attributes OPTIONAL, IN OUT UINTN *DataSize, OUT VOID *Data)</td></tr>
<tr class="separator:adc8f13be7f926311ffed8267dfaaf43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cbf231e2e6badb03746f8ca4c3d3cc" id="r_a68cbf231e2e6badb03746f8ca4c3d3cc"><td class="memItemLeft" align="right" valign="top">STATIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68cbf231e2e6badb03746f8ca4c3d3cc">HideSlideFromOs</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *SlideSupport, IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *BootArgs)</td></tr>
<tr class="separator:a68cbf231e2e6badb03746f8ca4c3d3cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d8234384c3ec68a5e09e6e5db400f6" id="r_a53d8234384c3ec68a5e09e6e5db400f6"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53d8234384c3ec68a5e09e6e5db400f6">AppleSlideUnlockForSafeMode</a> (IN OUT UINT8 *ImageBase, IN UINTN ImageSize)</td></tr>
<tr class="separator:a53d8234384c3ec68a5e09e6e5db400f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3aa6134d5c0abfd80fab37bd73b960e" id="r_ad3aa6134d5c0abfd80fab37bd73b960e"><td class="memItemLeft" align="right" valign="top">EFI_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3aa6134d5c0abfd80fab37bd73b960e">AppleSlideGetVariable</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN EFI_GET_VARIABLE GetVariable, IN EFI_GET_MEMORY_MAP GetMemoryMap OPTIONAL, IN <a class="el" href="_oc_memory_lib_8h.html#aa7dcc8df15154c755d5686a4fa0bf6b6">OC_MEMORY_FILTER</a> FilterMap OPTIONAL, IN VOID *FilterMapContext OPTIONAL, IN CHAR16 *VariableName, IN EFI_GUID *VendorGuid, OUT UINT32 *Attributes OPTIONAL, IN OUT UINTN *DataSize, OUT VOID *Data)</td></tr>
<tr class="separator:ad3aa6134d5c0abfd80fab37bd73b960e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f4c202c0b3a247239a16ddcb36db69" id="r_a17f4c202c0b3a247239a16ddcb36db69"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17f4c202c0b3a247239a16ddcb36db69">AppleSlideRestore</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat, IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *BootArgs)</td></tr>
<tr class="separator:a17f4c202c0b3a247239a16ddcb36db69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905dab42752205ff0406a85c50884720" id="r_a905dab42752205ff0406a85c50884720"><td class="memItemLeft" align="right" valign="top">UINTN&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a905dab42752205ff0406a85c50884720">AppleSlideGetRelocationSize</a> (IN OUT <a class="el" href="_boot_compat_internal_8h.html#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *BootCompat)</td></tr>
<tr class="separator:a905dab42752205ff0406a85c50884720"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Copyright (C) 2018, Downlod-Fritz. All rights reserved. Copyright (C) 2018, vit9696. All rights reserved.</p>
<p>All rights reserved.</p>
<p>This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License which accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a></p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>

<p class="definition">Definition in file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a905dab42752205ff0406a85c50884720" name="a905dab42752205ff0406a85c50884720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a905dab42752205ff0406a85c50884720">&#9670;&#160;</a></span>AppleSlideGetRelocationSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UINTN AppleSlideGetRelocationSize </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get calculated relocation block size for booting with slide=0 (e.g. Safe Mode) or without KASLR (older macOS) when it is otherwise impossible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of the relocation block (maximum). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>otherwise. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00879">879</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="ad3aa6134d5c0abfd80fab37bd73b960e" name="ad3aa6134d5c0abfd80fab37bd73b960e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3aa6134d5c0abfd80fab37bd73b960e">&#9670;&#160;</a></span>AppleSlideGetVariable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EFI_STATUS AppleSlideGetVariable </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_VARIABLE</td>          <td class="paramname"><span class="paramname"><em>GetVariable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_MEMORY_MAP GetMemoryMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_oc_memory_lib_8h.html#aa7dcc8df15154c755d5686a4fa0bf6b6">OC_MEMORY_FILTER</a> FilterMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *FilterMapContext</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VariableName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VendorGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT32 *Attributes</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>DataSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID *</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Primary custom KASLR support handler. This gets called on every UEFI RuntimeServices GetVariable call and thus is useful to perform KASLR slide injection through boot-args.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetVariable</td><td>Original UEFI GetVariable service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetMemoryMap</td><td>Unmodified GetMemoryMap pointer, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilterMap</td><td>GetMemoryMap result filter, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilterMapContext</td><td>FilterMap context, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VariableName</td><td>GetVariable variable name argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VendorGuid</td><td>GetVariable vendor GUID argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Attributes</td><td>GetVariable attributes argument. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">DataSize</td><td>GetVariable data size argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td>GetVariable data argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GetVariable</td><td>status code. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00773">773</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a17f4c202c0b3a247239a16ddcb36db69" name="a17f4c202c0b3a247239a16ddcb36db69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f4c202c0b3a247239a16ddcb36db69">&#9670;&#160;</a></span>AppleSlideRestore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleSlideRestore </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#aaf7c5db4ced13f7b3b45d564c6c6e1f5">BOOT_COMPAT_CONTEXT</a> *</td>          <td class="paramname"><span class="paramname"><em>BootCompat</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *</td>          <td class="paramname"><span class="paramname"><em>BootArgs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ensures that the original csr-active-config is passed to the kernel, and removes customised slide value for security reasons.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootCompat</td><td>Boot compatibility context. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootArgs</td><td>Apple kernel boot arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00849">849</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a53d8234384c3ec68a5e09e6e5db400f6" name="a53d8234384c3ec68a5e09e6e5db400f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d8234384c3ec68a5e09e6e5db400f6">&#9670;&#160;</a></span>AppleSlideUnlockForSafeMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AppleSlideUnlockForSafeMode </td>
          <td>(</td>
          <td class="paramtype">IN OUT UINT8 *</td>          <td class="paramname"><span class="paramname"><em>ImageBase</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>ImageSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Patch boot.efi to support random and passed slide values in safe mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ImageBase</td><td>Apple booter image base. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ImageSize</td><td>Apple booter image size. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00609">609</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a41c0cb53ec8b4a2be1784247893f9673" name="a41c0cb53ec8b4a2be1784247893f9673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c0cb53ec8b4a2be1784247893f9673">&#9670;&#160;</a></span>GenerateSlideValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC UINT8 GenerateSlideValue </td>
          <td>(</td>
          <td class="paramtype">IN <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *</td>          <td class="paramname"><span class="paramname"><em>SlideSupport</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate more or less random slide value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">SlideSupport</td><td>Slide support state. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00078">78</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a8b3f2db6dcab182634a7f6570afb8652" name="a8b3f2db6dcab182634a7f6570afb8652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3f2db6dcab182634a7f6570afb8652">&#9670;&#160;</a></span>GetSlideRangeForValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC VOID GetSlideRangeForValue </td>
          <td>(</td>
          <td class="paramtype">IN UINTN</td>          <td class="paramname"><span class="paramname"><em>EstimatedKernelArea</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>HasSandyOrIvy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8</td>          <td class="paramname"><span class="paramname"><em>Slide</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>StartAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>EndAddr</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtain estimated kernel area start and end addresses for specified slide number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">EstimatedKernelArea</td><td>Estimated kernel area size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">HasSandyOrIvy</td><td>CPU type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Slide</td><td>Slide number. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">StartAddr</td><td>Starting address. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">EndAddr</td><td>Ending address (not inclusive). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00051">51</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="adc8f13be7f926311ffed8267dfaaf43a" name="adc8f13be7f926311ffed8267dfaaf43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc8f13be7f926311ffed8267dfaaf43a">&#9670;&#160;</a></span>GetVariableBootArgs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS GetVariableBootArgs </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *</td>          <td class="paramname"><span class="paramname"><em>SlideSupport</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_VARIABLE</td>          <td class="paramname"><span class="paramname"><em>GetVariable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VariableName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VendorGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT32 *Attributes</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>DataSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID *</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UEFI GetVariable override specific to boot-args. See caller for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">SlideSupport</td><td>Slide support state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetVariable</td><td>Original UEFI GetVariable service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VariableName</td><td>GetVariable variable name argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VendorGuid</td><td>GetVariable vendor GUID argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Attributes</td><td>GetVariable attributes argument. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">DataSize</td><td>GetVariable data size argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td>GetVariable data argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GetVariable</td><td>status code. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00482">482</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a19df60a1531c1a1350d6ad575def0eea" name="a19df60a1531c1a1350d6ad575def0eea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19df60a1531c1a1350d6ad575def0eea">&#9670;&#160;</a></span>GetVariableCsrActiveConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC EFI_STATUS GetVariableCsrActiveConfig </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *</td>          <td class="paramname"><span class="paramname"><em>SlideSupport</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_VARIABLE</td>          <td class="paramname"><span class="paramname"><em>GetVariable</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN CHAR16 *</td>          <td class="paramname"><span class="paramname"><em>VariableName</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GUID *</td>          <td class="paramname"><span class="paramname"><em>VendorGuid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT UINT32 *Attributes</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT UINTN *</td>          <td class="paramname"><span class="paramname"><em>DataSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OUT VOID *</td>          <td class="paramname"><span class="paramname"><em>Data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UEFI GetVariable override specific to csr-active-config. See caller for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">SlideSupport</td><td>Slide support state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetVariable</td><td>Original UEFI GetVariable service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VariableName</td><td>GetVariable variable name argument. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">VendorGuid</td><td>GetVariable vendor GUID argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Attributes</td><td>GetVariable attributes argument. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">DataSize</td><td>GetVariable data size argument. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Data</td><td>GetVariable data argument.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GetVariable</td><td>status code. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00416">416</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a68cbf231e2e6badb03746f8ca4c3d3cc" name="a68cbf231e2e6badb03746f8ca4c3d3cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68cbf231e2e6badb03746f8ca4c3d3cc">&#9670;&#160;</a></span>HideSlideFromOs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC VOID HideSlideFromOs </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *</td>          <td class="paramname"><span class="paramname"><em>SlideSupport</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN OUT <a class="el" href="_oc_boot_management_lib_8h.html#aabd033b4894fd6101611d8dd36ad2c07">OC_BOOT_ARGUMENTS</a> *</td>          <td class="paramname"><span class="paramname"><em>BootArgs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erases customised slide value from everywhere accessible for security purposes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">SlideSupport</td><td>Slide support state. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">BootArgs</td><td>Apple kernel boot arguments. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00572">572</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="a94f54c9103a642b20d8d4aa01e383770" name="a94f54c9103a642b20d8d4aa01e383770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f54c9103a642b20d8d4aa01e383770">&#9670;&#160;</a></span>ShouldUseCustomSlideOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC BOOLEAN ShouldUseCustomSlideOffset </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *</td>          <td class="paramname"><span class="paramname"><em>SlideSupport</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN EFI_GET_MEMORY_MAP GetMemoryMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN <a class="el" href="_oc_memory_lib_8h.html#aa7dcc8df15154c755d5686a4fa0bf6b6">OC_MEMORY_FILTER</a> FilterMap</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN VOID *FilterMapContext</td>          <td class="paramname"><span class="paramname"><em>OPTIONAL</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN BOOLEAN</td>          <td class="paramname"><span class="paramname"><em>HasSandyOrIvy</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return cached decision or perform memory map analysis to decide whether to use custom slide for reliable kernel booting or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">SlideSupport</td><td>Slide support state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">GetMemoryMap</td><td>Function to get current memory map for analysis. optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilterMap</td><td>Function to filter returned memory map, optional. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilterMapContext</td><td>Filter map context, optional.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>in case custom slide is to be used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00227">227</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
<a id="aaa0c44ce0c161917729715244879ea28" name="aaa0c44ce0c161917729715244879ea28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0c44ce0c161917729715244879ea28">&#9670;&#160;</a></span>ShouldUseCustomSlideOffsetDecision()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">STATIC BOOLEAN ShouldUseCustomSlideOffsetDecision </td>
          <td>(</td>
          <td class="paramtype">IN OUT <a class="el" href="_boot_compat_internal_8h.html#afab7cd568aa1d3f32143db467fb4951f">SLIDE_SUPPORT_STATE</a> *</td>          <td class="paramname"><span class="paramname"><em>SlideSupport</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT8</td>          <td class="paramname"><span class="paramname"><em>FallbackSlide</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IN UINT64</td>          <td class="paramname"><span class="paramname"><em>MaxAvailableSize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decide on whether to use custom slide based on memory map analysis. This additionally logs the decision through standard services.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">SlideSupport</td><td>Slide support state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FallbackSlide</td><td>Fallback slide number with largest area. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">MaxAvailableSize</td><td>Maximum available contiguous area.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>in case custom slide is to be used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_custom_slide_8c_source.html#l00110">110</a> of file <a class="el" href="_custom_slide_8c_source.html">CustomSlide.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5ad7f572bbca03234e8e621e192fc099.html">Library</a></li><li class="navelem"><a class="el" href="dir_1ad210f664fae1c2f1bca5640a8659e3.html">OcAfterBootCompatLib</a></li><li class="navelem"><a class="el" href="_custom_slide_8c.html">CustomSlide.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
  $(function() {
    toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
    toggleButton.title = "Toggle Light/Dark Mode"
    $(document).ready(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
    // every resize will remove the button, which is why it has to be added again:
    $(window).resize(function(){
      document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
  })
</script>
</body>
</html>
